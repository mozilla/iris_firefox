!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";function e(){u++;var e="&pageNumber="+u+"&exclude="+c+"&ppp="+l+"&action=more_post_ajax";return t.ajax({type:"POST",dataType:"html",url:s,data:e,success:function(e){var n=t(e);n.length&&(t(".posts-wrapper").append(n),u*l>h&&t(".js-load-more").hide())},error:function(t,e,n){}}),!1}function i(e){var n="";e=t.trim(e);var i="&s="+e+"&action=search_ajax";n="localhost"==document.location.hostname?"http://localhost/vanschneidercom/wp-admin/admin-ajax.php":"../wp-admin/admin-ajax.php",e||e.length>0?t.ajax({type:"POST",dataType:"html",url:n,data:i,success:function(e){var n=t(e);n.length&&t(".posts-wrapper--search").html(n)},error:function(t,e,n){}}):t(".posts-wrapper--search").html("")}function r(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,n||t.apply(r,s)},a=n&&!i;clearTimeout(i),i=setTimeout(o,e),a&&t.apply(r,s)}}var s="../wp-admin/admin-ajax.php";n(2);if(n(3),!function(){var t=[n(17),n(18),n(19),n(20),n(21)];(function(t,e,n,i){t(function(){var t,n=document.getElementById("js-blog-article-title"),i=(document.getElementById("js-blog-archive"),e.find(".js-sticky-header")[0]),r=e.find(".js-sticky-waypoint")[0],s=document.getElementById("nav-toggle-label");if(t=window.innerWidth>767?20:window.innerWidth<768&&n?100:-120,window.innerWidth>0&&r){new Waypoint({element:r,handler:function(t){"down"==t?(e.addClass(i,"is-visible"),e.addClass(s,"is-visible")):(e.removeClass(i,"is-visible"),e.removeClass(s,"is-visible"))},offset:t})}})}).apply(null,t)}(),!function(){var t=[n(17),n(23),n(18),n(19)];(function(t,e,i,r){n(23),t(function(){function t(t,n,i,r){u[t]=new e.PaperScope,e=u[t],e.setup(n);var s,o,a,l,c,h=8,f=!0,d=new e.Path,p=!1,g=!1,v=160,m=e.view.size.height/6;i.offsetWidth;d.fillColor=r,e.view.initializePath=function(){a=e.view.center,s=e.view.size.width,o=e.view.size.height/2,l=e.view.bounds,d.segments=[],d.add(e.view.bounds.bottomLeft);for(var t=1;t<h;t++){var n=new e.Point(s/h*t,m+v);d.add(n)}d.add(e.view.bounds.bottomRight)},e.view.initializePath(),e.view.onFrame=function(t){if(p||!p&v<180){for(var e=1;e<h;e++){var n=t.count+5*(e+e%10),i=Math.sin(n/11)*m;p&v>0?(g=!0,v-=1.75):!p&v<180?(g=!0,v+=1.75):g=!1,g&&(c=i+v,d.segments[e].point.y=c)}f&&d.smooth({type:"continuous"})}},i.onmouseout=function(t){p=!1},i.onmouseover=function(t){p=!0}}function n(t,e){var t=new t.PaperScope;t.setup(document.getElementById("wavecanvas-desk"));var n,i,r,s,o,a,l,u,c,e,h=20,f=!0,d=new t.Path;d.fillColor=e||"rgb(0,0,0)";var p=t.view.size.height/6,g=22,v=5,m=1e3;t.view.setup=function(){a=window.pageYOffset||document.documentElement.scrollTop,u=document.getElementById("wavecanvas-desk").getBoundingClientRect().top,r=t.view.center,n=t.view.size.width,i=t.view.size.height/2,s=t.view.bounds,d.segments=[],d.add(t.view.bounds.bottomLeft);for(var e=1;e<h;e++){var o=new t.Point(n/h*e,p+m);d.add(o)}d.add(t.view.bounds.bottomRight)},t.view.setup(),window.onscroll=function(){a=window.pageYOffset||document.documentElement.scrollTop,u=document.getElementById("wavecanvas-desk").getBoundingClientRect().top,c=a+u,m=2.5-u.map(0,c,3,0),l=a.map(0,.95*c,0,1)};var _=!1;t.view.onFrame=function(t){if(l>=0){_=!1;for(var e=1;e<h;e++){var n=t.count+(e+e%10)*v,r=Math.sin(n/g)*p;o=r+m,d.segments[e].point.y=o+i*m}f&&d.smooth({type:"continuous"})}else if(!_){for(var e=1;e<h;e++){var n=t.count+(e+e%10)*v,r=Math.sin(n/g)*p;o=r+m,d.segments[e].point.y=o+i*m}_=!0}},t.view.onResize=function(e){t.view.onFrame(e)},Number.prototype.map=function(t,e,n,i){return(this-t)*(i-n)/(e-t)+n}}function s(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")!=-1&&!(t.indexOf("chrome")>-1)}function o(){document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",s()&&(w=document.body.scrollTop,document.body.style.height="100vh",document.body.scrollTop=w)}function l(){document.body.style.overflow="hidden",document.documentElement.style.overflow="scroll",s()&&(document.body.style.height="auto",document.body.scrollTop=w)}var u=[],c=document.getElementById("js-blog-overview"),h=document.getElementById("js-blog-archive"),f=document.getElementById("js-blog-article-title"),d=document.getElementById("js-moodboard"),p=document.getElementById("js-series"),g=document.getElementById("js-series-detail"),v=!0,m=!1;c&&v?(t(0,document.getElementById("wavecanvas1"),document.getElementById("wavebutton1"),"black"),t(1,document.getElementById("wavecanvas2"),document.getElementById("wavebutton2"),"white"),t(2,document.getElementById("wavecanvas3"),document.getElementById("wavebutton3"),"black"),t(3,document.getElementById("wavecanvas4"),document.getElementById("wavebutton-sticky-header"),"black")):(f||h||d||p||g)&&t(0,document.getElementById("wavecanvas4"),document.getElementById("wavebutton-sticky-header"),"black"),g&&t(1,document.getElementById("wavecanvas1"),document.getElementById("wavebutton1"),"black"),(c||h||d)&&v?n(e):p&&v&&n(e,"rgb(0,0,0)");var _=i.find('.fade-content--blog a:not(.button--load-more):not([target="_blank"]):not(.to-the-top):not(.no-page-trans)');r.addListener(_,"click",function(t){var e=this.getAttribute("href");if(t.ctrlKey||t.metaKey||navigator.platform.toUpperCase().indexOf("WIN")!==-1&&a.ctrlKey){var n=window.open("");n.location=e,t.preventDefault?t.preventDefault():t.returnValue=!1}else t.shiftKey||(m=!0,i.addClass(document.getElementById("bigwave"),"lets-go"),setTimeout(function(){location.href=e},450),t.preventDefault?t.preventDefault():t.returnValue=!1)}),i.exists("#bigsearch")&&(document.getElementById("bigsearch").value=""),r.addListener(i.find(".js-enable-search"),"click",function(t){if(i.hasClass(document.documentElement,"touch")){var e=document.body.scrollTop;document.querySelector("#searchwave").style.top=e+"px",i.addClass(document.getElementById("searchwave"),"lets-go"),o(),document.querySelector("#bigsearch").focus()}else i.addClass(document.getElementById("searchwave"),"lets-go"),o(),setTimeout(function(){document.querySelector("#bigsearch").focus()},500);t.preventDefault?t.preventDefault():t.returnValue=!1});var y=i.find(".js-layout--searchform")[0];r.addListener(document.getElementById("bigsearch"),"keyup",function(t){this.value.length>0?i.addClass(y,"lets-go"):setTimeout(function(){i.removeClass(y,"lets-go")},500)}),r.addListener(i.find(".js-close-icon")[0],"click",function(t){i.removeClass(document.getElementById("searchwave"),"lets-go"),document.getElementById("bigsearch").value="",i.removeClass(y,"lets-go"),i.find(".posts-wrapper--search")[0].innerHTML="",l(),t.preventDefault?t.preventDefault():t.returnValue=!1});var w=0;document.getElementById("wrapper")})}).apply(null,t)}(),document.getElementById("js-moodboard")){n(4),t(".js-layout--tumblr").attr("data-postcount")}t(".lazyload-img").on("load",function(e){var n=t(this).closest(".placeholder"),i=t(this).closest(".img-placeholder");n.delay(200).css("background-color","transparent"),i.delay(200).css("background-color","transparent"),e.target.src!=e.target.currentSrc&&(e.target.src=e.target.currentSrc)});var o=!1,l=6,u=1,c=t(".js-load-more").attr("data-exclude"),h=t(".js-load-more").attr("data-postcount");t(".js-load-more").on("click",function(t){e(),t.preventDefault()});var f=r(function(t){var e=document.getElementById("bigsearch").value;i(e)},250);t("#bigsearch").on("keyup",f),document.addEventListener("click",function(t){var e=t.target;if(e.getAttribute("data-search")){var n=e.getAttribute("data-search");document.getElementById("bigsearch").value=n,document.getElementById("bigsearch").focus(),i(n),event.preventDefault?event.preventDefault():event.returnValue=!1}}),t(".fade").removeClass("fade-hidden"),o&&t("a[target=_blank]").click(function(e){var n=!1,i=t(this).attr("href"),r=window.open("");"localhost"!=document.location.hostname|n?ga("send","event","outbound","click",i,{transport:"beacon",hitCallback:function(){r.location=i}}):r.location=i,e.preventDefault()}),!function(){(function(t){var e=[n(17),n(18),n(26),n(27)];(function(e,n,i,r){e(function(){var e=document.querySelectorAll(".follower")[0],s=function(s){var o=function(t){for(var e,n,i,r,s=document.querySelectorAll(".pswp__figure"),o=s.length,a=[],l=0;l<o;l++)e=s[l],1===e.nodeType&&(n=e.children[0],i=n.getAttribute("data-size").split("x"),r={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},e.children.length>1&&(r.title=e.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("data-src")),r.el=e,a.push(r));return a},a=function(){var t=window.location.hash.substring(1),e={};if(t.length<5)return e;for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(e[r[0]]=r[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e},l=function(s,a,l,u){var c,h,f,d=document.querySelector(".pswp--blog");if(f=o(a),h={galleryUID:a.getAttribute("data-pswp-uid"),fullscreenEl:!1,shareEl:!1,counterEl:!1,maxSpreadZoom:1,getDoubleTapZoom:function(t,e){return e.initialZoomLevel},zoomEl:!1,tapToClose:!0,clickToCloseNonZoomable:!0,getThumbBoundsFn:function(t){var e=f[t].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=e.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},u)if(h.galleryPIDs){for(var p=0;p<f.length;p++)if(f[p].pid==s){h.index=p;break}}else h.index=parseInt(s,10)-1;else h.index=parseInt(s,10);isNaN(h.index)||(l&&(h.showAnimationDuration=0),c=new i(d,r,f,h),c.init(),c.listen("close",function(){n.removeClass(e,"is-minus")}),t(document).on("click",".pswp__img",function(t){n.removeClass(e,"is-minus"),c.close()}))};t(document).on("click",".pswp__figure a",function(i){var r=t(this).closest(".js-pswp-gallery")[0];l(this.getAttribute("data-index"),r),n.addClass(e,"is-minus"),i.preventDefault()});for(var u=document.querySelectorAll(s),c=0,h=u.length;c<h;c++)u[c].setAttribute("data-pswp-uid",c+1);var f=a();f.pid&&f.gid&&(l(f.pid,u[f.gid-1],!0,!0),n.addClass(e,"is-minus"))};if(s(".js-pswp-gallery"),n.exists("#js-moodboard")||n.exists(".single-post")){var e;e=document.querySelectorAll(".follower")[0],document.addEventListener("mousemove",function(t){var n=t.target;n.classList.contains("js-dim-overlay")||n.classList.contains("pswp__img")||n.classList.contains("js-cursor-zoom")?(e.style.left=t.clientX+"px",e.style.top=t.clientY+"px",e.style.display="block"):e.style.display="none"})}})}).apply(null,e)}).call(this,n(1))}(),!function(){var t=[n(17),n(18)];(function(t,e){t(function(){function t(){n[i].className="slide",i=(i+1)%n.length,n[i].className="slide active"}if(e.exists(".js-slides")){var n=document.querySelectorAll(".js-slides .slide"),i=0;if(n.length>1){setInterval(t,5e3)}}})}).apply(null,t)}()}).call(e,n(1))},function(t,e,n){var i,r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,s){"use strict";function o(t,e,n){e=e||ct;var i,r=e.createElement("script");if(r.text=t,n)for(i in St)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function a(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?vt[mt.call(t)]||"object":typeof t}function l(t){var e=!!t&&"length"in t&&t.length,n=a(t);return!bt(t)&&!Ct(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function c(t,e,n){return bt(e)?kt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?kt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?kt.grep(t,function(t){return gt.call(e,t)>-1!==n}):kt.filter(e,t,n)}function h(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function f(t){var e={};return kt.each(t.match(Ft)||[],function(t,n){e[n]=!0}),e}function d(t){return t}function p(t){throw t}function g(t,e,n,i){var r;try{t&&bt(r=t.promise)?r.call(t).done(e).fail(n):t&&bt(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function v(){ct.removeEventListener("DOMContentLoaded",v),n.removeEventListener("load",v),kt.ready()}function m(t,e){return e.toUpperCase()}function _(t){return t.replace(Ht,"ms-").replace(Wt,m)}function y(){this.expando=kt.expando+y.uid++}function w(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:$t.test(t)?JSON.parse(t):t)}function x(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Kt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=w(n)}catch(t){}Ut.set(t,e,n)}else n=void 0;return n}function b(t,e,n,i){var r,s,o=20,a=i?function(){return i.cur()}:function(){return kt.css(t,e,"")},l=a(),u=n&&n[3]||(kt.cssNumber[e]?"":"px"),c=(kt.cssNumber[e]||"px"!==u&&+l)&&Xt.exec(kt.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)kt.style(t,e,c+u),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),c/=s;c*=2,kt.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function C(t){var e,n=t.ownerDocument,i=t.nodeName,r=te[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=kt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),te[i]=r,r)}function S(t,e){for(var n,i,r=[],s=0,o=t.length;s<o;s++)i=t[s],i.style&&(n=i.style.display,e?("none"===n&&(r[s]=Zt.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&Jt(i)&&(r[s]=C(i))):"none"!==n&&(r[s]="none",Zt.set(i,"display",n)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function T(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&u(t,e)?kt.merge([t],n):n}function k(t,e){for(var n=0,i=t.length;n<i;n++)Zt.set(t[n],"globalEval",!e||Zt.get(e[n],"globalEval"))}function A(t,e,n,i,r){for(var s,o,l,u,c,h,f=e.createDocumentFragment(),d=[],p=0,g=t.length;p<g;p++)if(s=t[p],s||0===s)if("object"===a(s))kt.merge(d,s.nodeType?[s]:s);else if(se.test(s)){for(o=o||f.appendChild(e.createElement("div")),l=(ne.exec(s)||["",""])[1].toLowerCase(),u=re[l]||re._default,o.innerHTML=u[1]+kt.htmlPrefilter(s)+u[2],h=u[0];h--;)o=o.lastChild;kt.merge(d,o.childNodes),o=f.firstChild,o.textContent=""}else d.push(e.createTextNode(s));for(f.textContent="",p=0;s=d[p++];)if(i&&kt.inArray(s,i)>-1)r&&r.push(s);else if(c=kt.contains(s.ownerDocument,s),o=T(f.appendChild(s),"script"),c&&k(o),n)for(h=0;s=o[h++];)ie.test(s.type||"")&&n.push(s);return f}function E(){return!0}function I(){return!1}function M(){try{return ct.activeElement}catch(t){}}function P(t,e,n,i,r,s){var o,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)P(t,a,n,i,e[a],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=I;else if(!r)return t;return 1===s&&(o=r,r=function(t){return kt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=kt.guid++)),t.each(function(){kt.event.add(this,e,r,i,n)})}function O(t,e){return u(t,"table")&&u(11!==e.nodeType?e:e.firstChild,"tr")?kt(t).children("tbody")[0]||t:t}function z(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function N(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function L(t,e){var n,i,r,s,o,a,l,u;if(1===e.nodeType){if(Zt.hasData(t)&&(s=Zt.access(t),o=Zt.set(e,s),u=s.events)){delete o.handle,o.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)kt.event.add(e,r,u[r][n])}Ut.hasData(t)&&(a=Ut.access(t),l=kt.extend({},a),Ut.set(e,l))}}function D(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ee.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function j(t,e,n,i){e=dt.apply([],e);var r,s,a,l,u,c,h=0,f=t.length,d=f-1,p=e[0],g=bt(p);if(g||f>1&&"string"==typeof p&&!xt.checkClone&&fe.test(p))return t.each(function(r){var s=t.eq(r);g&&(e[0]=p.call(this,r,s.html())),j(s,e,n,i)});if(f&&(r=A(e,t[0].ownerDocument,!1,t,i),s=r.firstChild,1===r.childNodes.length&&(r=s),s||i)){for(a=kt.map(T(r,"script"),z),l=a.length;h<f;h++)u=r,h!==d&&(u=kt.clone(u,!0,!0),l&&kt.merge(a,T(u,"script"))),n.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,kt.map(a,N),h=0;h<l;h++)u=a[h],ie.test(u.type||"")&&!Zt.access(u,"globalEval")&&kt.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?kt._evalUrl&&kt._evalUrl(u.src):o(u.textContent.replace(de,""),c,u))}return t}function F(t,e,n){for(var i,r=e?kt.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||kt.cleanData(T(i)),i.parentNode&&(n&&kt.contains(i.ownerDocument,i)&&k(T(i,"script")),i.parentNode.removeChild(i));return t}function R(t,e,n){var i,r,s,o,a=t.style;return n=n||ge(t),n&&(o=n.getPropertyValue(e)||n[e],""!==o||kt.contains(t.ownerDocument,t)||(o=kt.style(t,e)),!xt.pixelBoxStyles()&&pe.test(o)&&ve.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function B(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function q(t){if(t in be)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=xe.length;n--;)if(t=xe[n]+e,t in be)return t}function H(t){var e=kt.cssProps[t];return e||(e=kt.cssProps[t]=q(t)||t),e}function W(t,e,n){var i=Xt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function V(t,e,n,i,r,s){var o="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=kt.css(t,n+Yt[o],!0,r)),i?("content"===n&&(l-=kt.css(t,"padding"+Yt[o],!0,r)),"margin"!==n&&(l-=kt.css(t,"border"+Yt[o]+"Width",!0,r))):(l+=kt.css(t,"padding"+Yt[o],!0,r),"padding"!==n?l+=kt.css(t,"border"+Yt[o]+"Width",!0,r):a+=kt.css(t,"border"+Yt[o]+"Width",!0,r));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))),l}function Z(t,e,n){var i=ge(t),r=R(t,e,i),s="border-box"===kt.css(t,"boxSizing",!1,i),o=s;if(pe.test(r)){if(!n)return r;r="auto"}return o=o&&(xt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===kt.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),r=parseFloat(r)||0,r+V(t,e,n||(s?"border":"content"),o,i,r)+"px"}function U(t,e,n,i,r){return new U.prototype.init(t,e,n,i,r)}function $(){Se&&(ct.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame($):n.setTimeout($,kt.fx.interval),kt.fx.tick())}function K(){return n.setTimeout(function(){Ce=void 0}),Ce=Date.now()}function G(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Yt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function X(t,e,n){for(var i,r=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,e,t))return i}function Y(t,e,n){var i,r,s,o,a,l,u,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&Jt(t),v=Zt.get(t,"fxshow");n.queue||(o=kt._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,kt.queue(t,"fx").length||o.empty.fire()})}));for(i in e)if(r=e[i],Te.test(r)){if(delete e[i],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}d[i]=v&&v[i]||kt.style(t,i)}if(l=!kt.isEmptyObject(e),l||!kt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=v&&v.display,null==u&&(u=Zt.get(t,"display")),c=kt.css(t,"display"),"none"===c&&(u?c=u:(S([t],!0),u=t.style.display||u,c=kt.css(t,"display"),S([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===kt.css(t,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in d)l||(v?"hidden"in v&&(g=v.hidden):v=Zt.access(t,"fxshow",{display:u}),s&&(v.hidden=!g),g&&S([t],!0),f.done(function(){g||S([t]),Zt.remove(t,"fxshow");for(i in d)kt.style(t,i,d[i])})),l=X(g?v[i]:0,i,f),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}}function J(t,e){var n,i,r,s,o;for(n in t)if(i=_(n),r=e[i],s=t[n],Array.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),o=kt.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=r)}else e[i]=r}function Q(t,e,n){var i,r,s=0,o=Q.prefilters.length,a=kt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Ce||K(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,s=1-i,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(s);return a.notifyWith(t,[u,s,n]),s<1&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:kt.extend({},e),opts:kt.extend(!0,{specialEasing:{},easing:kt.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ce||K(),duration:n.duration,tweens:[],createTween:function(e,n){var i=kt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(J(c,u.opts.specialEasing);s<o;s++)if(i=Q.prefilters[s].call(u,t,c,u.opts))return bt(i.stop)&&(kt._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return kt.map(c,X,u),bt(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),kt.fx.timer(kt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function tt(t){var e=t.match(Ft)||[];return e.join(" ")}function et(t){return t.getAttribute&&t.getAttribute("class")||""}function nt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Ft)||[]:[]}function it(t,e,n,i){var r;if(Array.isArray(e))kt.each(e,function(e,r){n||je.test(t)?i(t,r):it(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==a(e))i(t,e);else for(r in e)it(t+"["+r+"]",e[r],n,i)}function rt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(Ft)||[];if(bt(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function st(t,e,n,i){function r(a){var l;return s[a]=!0,kt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var s={},o=t===Ge;return r(e.dataTypes[0])||!s["*"]&&r("*")}function ot(t,e){var n,i,r=kt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&kt.extend(!0,t,i),t}function at(t,e,n){for(var i,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}function lt(t,e,n,i){var r,s,o,a,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=u[l+" "+s]||u["* "+s],!o)for(r in u)if(a=r.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[r]:u[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}var ut=[],ct=n.document,ht=Object.getPrototypeOf,ft=ut.slice,dt=ut.concat,pt=ut.push,gt=ut.indexOf,vt={},mt=vt.toString,_t=vt.hasOwnProperty,yt=_t.toString,wt=yt.call(Object),xt={},bt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Ct=function(t){return null!=t&&t===t.window},St={type:!0,src:!0,noModule:!0},Tt="3.3.1",kt=function(t,e){return new kt.fn.init(t,e)},At=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;kt.fn=kt.prototype={jquery:Tt,constructor:kt,length:0,toArray:function(){return ft.call(this)},get:function(t){return null==t?ft.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=kt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return kt.each(this,t)},map:function(t){return this.pushStack(kt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ft.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:ut.sort,splice:ut.splice},kt.extend=kt.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||bt(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=o[e],i=t[e],o!==i&&(u&&i&&(kt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,s=n&&Array.isArray(n)?n:[]):s=n&&kt.isPlainObject(n)?n:{},o[e]=kt.extend(u,s,i)):void 0!==i&&(o[e]=i));return o},kt.extend({expando:"jQuery"+(Tt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==mt.call(t))&&(!(e=ht(t))||(n=_t.call(e,"constructor")&&e.constructor,"function"==typeof n&&yt.call(n)===wt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){o(t)},each:function(t,e){var n,i=0;if(l(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(At,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(l(Object(t))?kt.merge(n,"string"==typeof t?[t]:t):pt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:gt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],s=0,o=t.length,a=!n;s<o;s++)i=!e(t[s],s),i!==a&&r.push(t[s]);return r},map:function(t,e,n){var i,r,s=0,o=[];if(l(t))for(i=t.length;s<i;s++)r=e(t[s],s,n),null!=r&&o.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&o.push(r);return dt.apply([],o)},guid:1,support:xt}),"function"==typeof Symbol&&(kt.fn[Symbol.iterator]=ut[Symbol.iterator]),kt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){vt["[object "+e+"]"]=e.toLowerCase()});var Et=function(t){function e(t,e,n,i){var r,s,o,a,l,u,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:q)!==z&&O(e),e=e||z,L)){if(11!==p&&(l=mt.exec(t)))if(r=l[1]){if(9===p){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(f&&(o=f.getElementById(r))&&R(e,o)&&o.id===r)return n.push(o),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(b.qsa&&!U[t+" "]&&(!D||!D.test(t))){if(1!==p)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,bt):e.setAttribute("id",a=B),u=k(t),s=u.length;s--;)u[s]="#"+a+" "+d(u[s]);c=u.join(","),f=_t.test(t)&&h(e.parentNode)||e}if(c)try{return J.apply(n,f.querySelectorAll(c)),n}catch(t){}finally{a===B&&e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=z.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&St(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,s=r||i,o=n&&"parentNode"===s,a=W++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[H,a];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(h=e[B]||(e[B]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[s])&&u[0]===H&&u[1]===a)return f[2]=u[2];if(c[s]=f,f[2]=t(e,n,l))return!0}return!1}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function v(t,n,i){for(var r=0,s=n.length;r<s;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,u=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,i,r)||(o.push(s),u&&e.push(a)));return o}function _(t,e,n,r,s,o){return r&&!r[B]&&(r=_(r)),s&&!s[B]&&(s=_(s,o)),i(function(i,o,a,l){var u,c,h,f=[],d=[],p=o.length,g=i||v(e||"*",a.nodeType?[a]:a,[]),_=!t||!i&&e?g:m(g,f,t,a,l),y=n?s||(i?t:p||r)?[]:o:_;if(n&&n(_,y,a,l),r)for(u=m(y,d),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[d[c]]=!(_[d[c]]=h));if(i){if(s||t){if(s){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(_[c]=h);s(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=s?tt(i,h):f[c])>-1&&(i[u]=!(o[u]=h))}}else y=m(y===o?y.splice(p,y.length):y),s?s(null,o,y,l):J.apply(o,y)})}function y(t){for(var e,n,i,r=t.length,s=C.relative[t[0].type],o=s||C.relative[" "],a=s?1:0,l=p(function(t){return t===e},o,!0),u=p(function(t){return tt(e,t)>-1},o,!0),c=[function(t,n,i){var r=!s&&(i||n!==I)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=C.relative[t[a].type])c=[p(g(c),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[B]){for(i=++a;i<r&&!C.relative[t[i].type];i++);return _(a>1&&g(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}c.push(n)}return g(c)}function w(t,n){var r=n.length>0,s=t.length>0,o=function(i,o,a,l,u){var c,h,f,d=0,p="0",g=i&&[],v=[],_=I,y=i||s&&C.find.TAG("*",u),w=H+=null==_?1:Math.random()||.1,x=y.length;for(u&&(I=o===z||o||u);p!==x&&null!=(c=y[p]);p++){if(s&&c){for(h=0,o||c.ownerDocument===z||(O(c),a=!L);f=t[h++];)if(f(c,o||z,a)){l.push(c);break}u&&(H=w)}r&&((c=!f&&c)&&d--,i&&g.push(c))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,v,o,a);if(i){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(H=w,I=_),g};return r?i(o):o}var x,b,C,S,T,k,A,E,I,M,P,O,z,N,L,D,j,F,R,B="sizzle"+1*new Date,q=t.document,H=0,W=0,V=n(),Z=n(),U=n(),$=function(t,e){return t===e&&(P=!0),0},K={}.hasOwnProperty,G=[],X=G.pop,Y=G.push,J=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(st),ft=new RegExp("^"+it+"$"),dt={
ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){O()},St=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(G=Q.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(t){J={apply:G.length?function(t,e){Y.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==z&&9===i.nodeType&&i.documentElement?(z=i,N=z.documentElement,L=!T(z),q!==z&&(n=z.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(z.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=vt.test(z.getElementsByClassName),b.getById=r(function(t){return N.appendChild(t).id=B,!z.getElementsByName||!z.getElementsByName(B).length}),b.getById?(C.filter.ID=function(t){var e=t.replace(yt,wt);return function(t){return t.getAttribute("id")===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(C.filter.ID=function(t){var e=t.replace(yt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n,i,r,s=e.getElementById(t);if(s){if(n=s.getAttributeNode("id"),n&&n.value===t)return[s];for(r=e.getElementsByName(t),i=0;s=r[i++];)if(n=s.getAttributeNode("id"),n&&n.value===t)return[s]}return[]}}),C.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},C.find.CLASS=b.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},j=[],D=[],(b.qsa=vt.test(z.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=z.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(b.matchesSelector=vt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){b.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),j.push("!=",st)}),D=D.length&&new RegExp(D.join("|")),j=j.length&&new RegExp(j.join("|")),e=vt.test(N.compareDocumentPosition),R=e||vt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===z||t.ownerDocument===q&&R(q,t)?-1:e===z||e.ownerDocument===q&&R(q,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!r||!s)return t===z?-1:e===z?1:r?-1:s?1:M?tt(M,t)-tt(M,e):0;if(r===s)return o(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?o(a[i],l[i]):a[i]===q?-1:l[i]===q?1:0},z):z},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==z&&O(t),n=n.replace(ct,"='$1']"),b.matchesSelector&&L&&!U[n+" "]&&(!j||!j.test(n))&&(!D||!D.test(n)))try{var i=F.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,z,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==z&&O(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==z&&O(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:b.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(xt,bt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!b.detectDuplicates,M=!b.sortStable&&t.slice(0),t.sort($),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var s=e.attr(r,t);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,d,p,g=s!==o?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),_=!l&&!a,y=!1;if(v){if(s){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&_){for(f=v,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===H&&u[1],y=d&&u[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[H,d,y];break}}else if(_&&(f=e,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===H&&u[1],y=d),y===!1)for(;(f=++d&&f&&f[g]||(y=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++y||(_&&(h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[H,y]),f!==e)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(t,n){var r,s=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[B]?s(n):s.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=s(t,n),o=r.length;o--;)i=tt(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:i(function(t){var e=[],n=[],r=A(t.replace(at,"$1"));return r[B]?i(function(t,e,n,i){for(var s,o=r(t,null,i,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,i,s){return e[0]=t,r(e,null,s,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(yt,wt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,wt).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===z.activeElement&&(!z.hasFocus||z.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=l(x);return f.prototype=C.filters=C.pseudos,C.setFilters=new f,k=e.tokenize=function(t,n){var i,r,s,o,a,l,u,c=Z[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=C.preFilter;a;){i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(o in C.filter)!(r=dt[o].exec(a))||u[o]&&!(r=u[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):Z(t,l).slice(0)},A=e.compile=function(t,e){var n,i=[],r=[],s=U[t+" "];if(!s){for(e||(e=k(t)),n=e.length;n--;)s=y(e[n]),s[B]?i.push(s):r.push(s);s=U(t,w(r,i)),s.selector=t}return s},E=e.select=function(t,e,n,i){var r,s,o,a,l,u="function"==typeof t&&t,c=!i&&k(t=u.selector||t);if(n=n||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&L&&C.relative[s[1].type]){if(e=(C.find.ID(o.matches[0].replace(yt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=dt.needsContext.test(t)?0:s.length;r--&&(o=s[r],!C.relative[a=o.type]);)if((l=C.find[a])&&(i=l(o.matches[0].replace(yt,wt),_t.test(s[0].type)&&h(e.parentNode)||e))){if(s.splice(r,1),t=i.length&&d(s),!t)return J.apply(n,i),n;break}}return(u||A(t,c))(i,e,!L,n,!e||_t.test(t)&&h(e.parentNode)||e),n},b.sortStable=B.split("").sort($).join("")===B,b.detectDuplicates=!!P,O(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(z.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);kt.find=Et,kt.expr=Et.selectors,kt.expr[":"]=kt.expr.pseudos,kt.uniqueSort=kt.unique=Et.uniqueSort,kt.text=Et.getText,kt.isXMLDoc=Et.isXML,kt.contains=Et.contains,kt.escapeSelector=Et.escape;var It=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&kt(t).is(n))break;i.push(t)}return i},Mt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Pt=kt.expr.match.needsContext,Ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;kt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?kt.find.matchesSelector(i,t)?[i]:[]:kt.find.matches(t,kt.grep(e,function(t){return 1===t.nodeType}))},kt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(kt(t).filter(function(){for(e=0;e<i;e++)if(kt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)kt.find(t,r[e],n);return i>1?kt.uniqueSort(n):n},filter:function(t){return this.pushStack(c(this,t||[],!1))},not:function(t){return this.pushStack(c(this,t||[],!0))},is:function(t){return!!c(this,"string"==typeof t&&Pt.test(t)?kt(t):t||[],!1).length}});var zt,Nt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Lt=kt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||zt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Nt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof kt?e[0]:e,kt.merge(this,kt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ct,!0)),Ot.test(i[1])&&kt.isPlainObject(e))for(i in e)bt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=ct.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):bt(t)?void 0!==n.ready?n.ready(t):t(kt):kt.makeArray(t,this)};Lt.prototype=kt.fn,zt=kt(ct);var Dt=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};kt.fn.extend({has:function(t){var e=kt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(kt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,s=[],o="string"!=typeof t&&kt(t);if(!Pt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&kt.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?kt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?gt.call(kt(t),this[0]):gt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(kt.uniqueSort(kt.merge(this.get(),kt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),kt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return It(t,"parentNode")},parentsUntil:function(t,e,n){return It(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return It(t,"nextSibling")},prevAll:function(t){return It(t,"previousSibling")},nextUntil:function(t,e,n){return It(t,"nextSibling",n)},prevUntil:function(t,e,n){return It(t,"previousSibling",n)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return u(t,"iframe")?t.contentDocument:(u(t,"template")&&(t=t.content||t),kt.merge([],t.childNodes))}},function(t,e){kt.fn[t]=function(n,i){var r=kt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=kt.filter(i,r)),this.length>1&&(jt[t]||kt.uniqueSort(r),Dt.test(t)&&r.reverse()),this.pushStack(r)}});var Ft=/[^\x20\t\r\n\f]+/g;kt.Callbacks=function(t){t="string"==typeof t?f(t):kt.extend({},t);var e,n,i,r,s=[],o=[],l=-1,u=function(){for(r=r||t.once,i=e=!0;o.length;l=-1)for(n=o.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(l=s.length-1,o.push(n)),function e(n){kt.each(n,function(n,i){bt(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==a(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return kt.each(arguments,function(t,e){for(var n;(n=kt.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?kt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=o=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],o.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},kt.extend({Deferred:function(t){var e=[["notify","progress",kt.Callbacks("memory"),kt.Callbacks("memory"),2],["resolve","done",kt.Callbacks("once memory"),kt.Callbacks("once memory"),0,"resolved"],["reject","fail",kt.Callbacks("once memory"),kt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return kt.Deferred(function(n){kt.each(e,function(e,i){var r=bt(t[i[4]])&&t[i[4]];s[i[1]](function(){var t=r&&r.apply(this,arguments);t&&bt(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if(n=i.apply(a,l),n===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,bt(u)?r?u.call(n,s(o,e,d,r),s(o,e,p,r)):(o++,u.call(n,s(o,e,d,r),s(o,e,p,r),s(o,e,d,e.notifyWith))):(i!==d&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){kt.Deferred.exceptionHook&&kt.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==p&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(kt.Deferred.getStackHook&&(c.stackTrace=kt.Deferred.getStackHook()),n.setTimeout(c))}}var o=0;return kt.Deferred(function(n){e[0][3].add(s(0,n,bt(r)?r:d,n.notifyWith)),e[1][3].add(s(0,n,bt(t)?t:d)),e[2][3].add(s(0,n,bt(i)?i:p))}).promise()},promise:function(t){return null!=t?kt.extend(t,r):r}},s={};return kt.each(e,function(t,n){var o=n[2],a=n[5];r[n[1]]=o.add,a&&o.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=o.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),r=ft.call(arguments),s=kt.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?ft.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(g(t,s.done(o(n)).resolve,s.reject,!e),"pending"===s.state()||bt(r[n]&&r[n].then)))return s.then();for(;n--;)g(r[n],o(n),s.reject);return s.promise()}});var Rt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;kt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&Rt.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},kt.readyException=function(t){n.setTimeout(function(){throw t})};var Bt=kt.Deferred();kt.fn.ready=function(t){return Bt.then(t).catch(function(t){kt.readyException(t)}),this},kt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--kt.readyWait:kt.isReady)||(kt.isReady=!0,t!==!0&&--kt.readyWait>0||Bt.resolveWith(ct,[kt]))}}),kt.ready.then=Bt.then,"complete"===ct.readyState||"loading"!==ct.readyState&&!ct.documentElement.doScroll?n.setTimeout(kt.ready):(ct.addEventListener("DOMContentLoaded",v),n.addEventListener("load",v));var qt=function(t,e,n,i,r,s,o){var l=0,u=t.length,c=null==n;if("object"===a(n)){r=!0;for(l in n)qt(t,e,l,n[l],!0,s,o)}else if(void 0!==i&&(r=!0,bt(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(kt(t),n)})),e))for(;l<u;l++)e(t[l],n,o?i:i.call(t[l],l,e(t[l],n)));return r?t:c?e.call(t):u?e(t[0],n):s},Ht=/^-ms-/,Wt=/-([a-z])/g,Vt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};y.uid=1,y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Vt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[_(e)]=n;else for(i in e)r[_(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(_):(e=_(e),e=e in i?[e]:e.match(Ft)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||kt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!kt.isEmptyObject(e)}};var Zt=new y,Ut=new y,$t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Kt=/[A-Z]/g;kt.extend({hasData:function(t){return Ut.hasData(t)||Zt.hasData(t)},data:function(t,e,n){return Ut.access(t,e,n)},removeData:function(t,e){Ut.remove(t,e)},_data:function(t,e,n){return Zt.access(t,e,n)},_removeData:function(t,e){Zt.remove(t,e)}}),kt.fn.extend({data:function(t,e){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Ut.get(s),1===s.nodeType&&!Zt.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=_(i.slice(5)),x(s,i,r[i])));Zt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ut.set(this,t)}):qt(this,function(e){var n;if(s&&void 0===e){if(n=Ut.get(s,t),void 0!==n)return n;if(n=x(s,t),void 0!==n)return n}else this.each(function(){Ut.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ut.remove(this,t)})}}),kt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Zt.get(t,e),n&&(!i||Array.isArray(n)?i=Zt.access(t,e,kt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=kt.queue(t,e),i=n.length,r=n.shift(),s=kt._queueHooks(t,e),o=function(){kt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Zt.get(t,n)||Zt.access(t,n,{empty:kt.Callbacks("once memory").add(function(){Zt.remove(t,[e+"queue",n])})})}}),kt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?kt.queue(this[0],t):void 0===e?this:this.each(function(){var n=kt.queue(this,t,e);kt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&kt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){kt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=kt.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=Zt.get(s[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xt=new RegExp("^(?:([+-])=|)("+Gt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Jt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&kt.contains(t.ownerDocument,t)&&"none"===kt.css(t,"display")},Qt=function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r},te={};kt.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Jt(this)?kt(this).show():kt(this).hide()})}});var ee=/^(?:checkbox|radio)$/i,ne=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ie=/^$|^module$|\/(?:java|ecma)script/i,re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};re.optgroup=re.option,re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td;var se=/<|&#?\w+;/;!function(){var t=ct.createDocumentFragment(),e=t.appendChild(ct.createElement("div")),n=ct.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),xt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",xt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var oe=ct.documentElement,ae=/^key/,le=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ue=/^([^.]*)(?:\.(.+)|)/;kt.event={global:{},add:function(t,e,n,i,r){var s,o,a,l,u,c,h,f,d,p,g,v=Zt.get(t);if(v)for(n.handler&&(s=n,n=s.handler,r=s.selector),r&&kt.find.matchesSelector(oe,r),n.guid||(n.guid=kt.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(e){return"undefined"!=typeof kt&&kt.event.triggered!==e.type?kt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ft)||[""],u=e.length;u--;)a=ue.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=kt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=kt.event.special[d]||{},c=kt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&kt.expr.match.needsContext.test(r),namespace:p.join(".")},s),(f=l[d])||(f=l[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,o)!==!1||t.addEventListener&&t.addEventListener(d,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),kt.event.global[d]=!0)},remove:function(t,e,n,i,r){var s,o,a,l,u,c,h,f,d,p,g,v=Zt.hasData(t)&&Zt.get(t);if(v&&(l=v.events)){for(e=(e||"").match(Ft)||[""],u=e.length;u--;)if(a=ue.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=kt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)c=f[s],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(s,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));o&&!f.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||kt.removeEvent(t,d,v.handle),delete l[d])}else for(d in l)kt.event.remove(t,d+e[u],n,i,!0);kt.isEmptyObject(l)&&Zt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,o,a=kt.event.fix(t),l=new Array(arguments.length),u=(Zt.get(this,"events")||{})[a.type]||[],c=kt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(o=kt.event.handlers.call(this,a,u),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,i=((kt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,s,o,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||u.disabled!==!0)){for(s=[],o={},n=0;n<l;n++)i=e[n],r=i.selector+" ",void 0===o[r]&&(o[r]=i.needsContext?kt(r,this).index(u)>-1:kt.find(r,this,null,[u]).length),o[r]&&s.push(i);s.length&&a.push({elem:u,handlers:s})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(kt.Event.prototype,t,{enumerable:!0,configurable:!0,get:bt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[kt.expando]?t:new kt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==M()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===M()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(t){return u(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},kt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},kt.Event=function(t,e){return this instanceof kt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?E:I,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&kt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),void(this[kt.expando]=!0)):new kt.Event(t,e)},kt.Event.prototype={constructor:kt.Event,isDefaultPrevented:I,isPropagationStopped:I,isImmediatePropagationStopped:I,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=E,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=E,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=E,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},kt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ae.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&le.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which;
}},kt.event.addProp),kt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){kt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===i||kt.contains(i,r))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),kt.fn.extend({on:function(t,e,n,i){return P(this,t,e,n,i)},one:function(t,e,n,i){return P(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,kt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=I),this.each(function(){kt.event.remove(this,t,n,e)})}});var ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,he=/<script|<style|<link/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;kt.extend({htmlPrefilter:function(t){return t.replace(ce,"<$1></$2>")},clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),l=kt.contains(t.ownerDocument,t);if(!(xt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||kt.isXMLDoc(t)))for(o=T(a),s=T(t),i=0,r=s.length;i<r;i++)D(s[i],o[i]);if(e)if(n)for(s=s||T(t),o=o||T(a),i=0,r=s.length;i<r;i++)L(s[i],o[i]);else L(t,a);return o=T(a,"script"),o.length>0&&k(o,!l&&T(t,"script")),a},cleanData:function(t){for(var e,n,i,r=kt.event.special,s=0;void 0!==(n=t[s]);s++)if(Vt(n)){if(e=n[Zt.expando]){if(e.events)for(i in e.events)r[i]?kt.event.remove(n,i):kt.removeEvent(n,i,e.handle);n[Zt.expando]=void 0}n[Ut.expando]&&(n[Ut.expando]=void 0)}}}),kt.fn.extend({detach:function(t){return F(this,t,!0)},remove:function(t){return F(this,t)},text:function(t){return qt(this,function(t){return void 0===t?kt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return j(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.appendChild(t)}})},prepend:function(){return j(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(kt.cleanData(T(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return kt.clone(this,t,e)})},html:function(t){return qt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!he.test(t)&&!re[(ne.exec(t)||["",""])[1].toLowerCase()]){t=kt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(kt.cleanData(T(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return j(this,arguments,function(e){var n=this.parentNode;kt.inArray(this,t)<0&&(kt.cleanData(T(this)),n&&n.replaceChild(e,this))},t)}}),kt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){kt.fn[t]=function(t){for(var n,i=[],r=kt(t),s=r.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),kt(r[o])[e](n),pt.apply(i,n.get());return this.pushStack(i)}});var pe=new RegExp("^("+Gt+")(?!px)[a-z%]+$","i"),ge=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},ve=new RegExp(Yt.join("|"),"i");!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(l).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,a=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",s=36===u.offsetWidth||"absolute",oe.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,s,o,a,l=ct.createElement("div"),u=ct.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",xt.clearCloneStyle="content-box"===u.style.backgroundClip,kt.extend(xt,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),s}}))}();var me=/^(none|table(?!-c[ea]).+)/,_e=/^--/,ye={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","Moz","ms"],be=ct.createElement("div").style;kt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=R(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=_(e),l=_e.test(e),u=t.style;return l||(e=H(a)),o=kt.cssHooks[e]||kt.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:u[e]:(s=typeof n,"string"===s&&(r=Xt.exec(n))&&r[1]&&(n=b(t,e,r),s="number"),null!=n&&n===n&&("number"===s&&(n+=r&&r[3]||(kt.cssNumber[a]?"":"px")),xt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n)),void 0)}},css:function(t,e,n,i){var r,s,o,a=_(e),l=_e.test(e);return l||(e=H(a)),o=kt.cssHooks[e]||kt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=R(t,e,i)),"normal"===r&&e in we&&(r=we[e]),""===n||n?(s=parseFloat(r),n===!0||isFinite(s)?s||0:r):r}}),kt.each(["height","width"],function(t,e){kt.cssHooks[e]={get:function(t,n,i){if(n)return!me.test(kt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Z(t,e,i):Qt(t,ye,function(){return Z(t,e,i)})},set:function(t,n,i){var r,s=ge(t),o="border-box"===kt.css(t,"boxSizing",!1,s),a=i&&V(t,e,i,o,s);return o&&xt.scrollboxSize()===s.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-V(t,e,"border",!1,s)-.5)),a&&(r=Xt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=kt.css(t,e)),W(t,n,a)}}}),kt.cssHooks.marginLeft=B(xt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),kt.each({margin:"",padding:"",border:"Width"},function(t,e){kt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Yt[i]+e]=s[i]||s[i-2]||s[0];return r}},"margin"!==t&&(kt.cssHooks[t+e].set=W)}),kt.fn.extend({css:function(t,e){return qt(this,function(t,e,n){var i,r,s={},o=0;if(Array.isArray(e)){for(i=ge(t),r=e.length;o<r;o++)s[e[o]]=kt.css(t,e[o],!1,i);return s}return void 0!==n?kt.style(t,e,n):kt.css(t,e)},t,e,arguments.length>1)}}),kt.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||kt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(kt.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.options.duration?this.pos=e=kt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=kt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){kt.fx.step[t.prop]?kt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[kt.cssProps[t.prop]]&&!kt.cssHooks[t.prop]?t.elem[t.prop]=t.now:kt.style(t.elem,t.prop,t.now+t.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},kt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},kt.fx=U.prototype.init,kt.fx.step={};var Ce,Se,Te=/^(?:toggle|show|hide)$/,ke=/queueHooks$/;kt.Animation=kt.extend(Q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,Xt.exec(e),n),n}]},tweener:function(t,e){bt(t)?(e=t,t=["*"]):t=t.match(Ft);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),kt.speed=function(t,e,n){var i=t&&"object"==typeof t?kt.extend({},t):{complete:n||!n&&e||bt(t)&&t,duration:t,easing:n&&e||e&&!bt(e)&&e};return kt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in kt.fx.speeds?i.duration=kt.fx.speeds[i.duration]:i.duration=kt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){bt(i.old)&&i.old.call(this),i.queue&&kt.dequeue(this,i.queue)},i},kt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=kt.isEmptyObject(t),s=kt.speed(e,n,i),o=function(){var e=Q(this,kt.extend({},t),s);(r||Zt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=kt.timers,o=Zt.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&ke.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||kt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Zt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=kt.timers,o=i?i.length:0;for(n.finish=!0,kt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),kt.each(["toggle","show","hide"],function(t,e){var n=kt.fn[e];kt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(G(e,!0),t,i,r)}}),kt.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){kt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),kt.timers=[],kt.fx.tick=function(){var t,e=0,n=kt.timers;for(Ce=Date.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||kt.fx.stop(),Ce=void 0},kt.fx.timer=function(t){kt.timers.push(t),kt.fx.start()},kt.fx.interval=13,kt.fx.start=function(){Se||(Se=!0,$())},kt.fx.stop=function(){Se=null},kt.fx.speeds={slow:600,fast:200,_default:400},kt.fn.delay=function(t,e){return t=kt.fx?kt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=ct.createElement("input"),e=ct.createElement("select"),n=e.appendChild(ct.createElement("option"));t.type="checkbox",xt.checkOn=""!==t.value,xt.optSelected=n.selected,t=ct.createElement("input"),t.value="t",t.type="radio",xt.radioValue="t"===t.value}();var Ae,Ee=kt.expr.attrHandle;kt.fn.extend({attr:function(t,e){return qt(this,kt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){kt.removeAttr(this,t)})}}),kt.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?kt.prop(t,e,n):(1===s&&kt.isXMLDoc(t)||(r=kt.attrHooks[e.toLowerCase()]||(kt.expr.match.bool.test(e)?Ae:void 0)),void 0!==n?null===n?void kt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=kt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!xt.radioValue&&"radio"===e&&u(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Ft);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Ae={set:function(t,e,n){return e===!1?kt.removeAttr(t,n):t.setAttribute(n,n),n}},kt.each(kt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ee[e]||kt.find.attr;Ee[e]=function(t,e,i){var r,s,o=e.toLowerCase();return i||(s=Ee[o],Ee[o]=r,r=null!=n(t,e,i)?o:null,Ee[o]=s),r}});var Ie=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;kt.fn.extend({prop:function(t,e){return qt(this,kt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[kt.propFix[t]||t]})}}),kt.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&kt.isXMLDoc(t)||(e=kt.propFix[e]||e,r=kt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=kt.find.attr(t,"tabindex");return e?parseInt(e,10):Ie.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xt.optSelected||(kt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),kt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kt.propFix[this.toLowerCase()]=this}),kt.fn.extend({addClass:function(t){var e,n,i,r,s,o,a,l=0;if(bt(t))return this.each(function(e){kt(this).addClass(t.call(this,e,et(this)))});if(e=nt(t),e.length)for(;n=this[l++];)if(r=et(n),i=1===n.nodeType&&" "+tt(r)+" "){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=tt(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,s,o,a,l=0;if(bt(t))return this.each(function(e){kt(this).removeClass(t.call(this,e,et(this)))});if(!arguments.length)return this.attr("class","");if(e=nt(t),e.length)for(;n=this[l++];)if(r=et(n),i=1===n.nodeType&&" "+tt(r)+" "){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=tt(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):bt(t)?this.each(function(n){kt(this).toggleClass(t.call(this,n,et(this),e),e)}):this.each(function(){var e,r,s,o;if(i)for(r=0,s=kt(this),o=nt(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==n||(e=et(this),e&&Zt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Zt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+tt(et(n))+" ").indexOf(e)>-1)return!0;return!1}});var Pe=/\r/g;kt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=bt(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,kt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=kt.map(r,function(t){return null==t?"":t+""})),e=kt.valHooks[this.type]||kt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=kt.valHooks[r.type]||kt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Pe,""):null==n?"":n)}}}),kt.extend({valHooks:{option:{get:function(t){var e=kt.find.attr(t,"value");return null!=e?e:tt(kt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(i=s<0?l:o?s:0;i<l;i++)if(n=r[i],(n.selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(e=kt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,s=kt.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=kt.inArray(kt.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),kt.each(["radio","checkbox"],function(){kt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=kt.inArray(kt(t).val(),e)>-1}},xt.checkOn||(kt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),xt.focusin="onfocusin"in n;var Oe=/^(?:focusinfocus|focusoutblur)$/,ze=function(t){t.stopPropagation()};kt.extend(kt.event,{trigger:function(t,e,i,r){var s,o,a,l,u,c,h,f,d=[i||ct],p=_t.call(t,"type")?t.type:t,g=_t.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=i=i||ct,3!==i.nodeType&&8!==i.nodeType&&!Oe.test(p+kt.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[kt.expando]?t:new kt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:kt.makeArray(e,[t]),h=kt.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,e)!==!1)){if(!r&&!h.noBubble&&!Ct(i)){for(l=h.delegateType||p,Oe.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(i.ownerDocument||ct)&&d.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=d[s++])&&!t.isPropagationStopped();)f=o,t.type=s>1?l:h.bindType||p,c=(Zt.get(o,"events")||{})[t.type]&&Zt.get(o,"handle"),c&&c.apply(o,e),c=u&&o[u],c&&c.apply&&Vt(o)&&(t.result=c.apply(o,e),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),e)!==!1||!Vt(i)||u&&bt(i[p])&&!Ct(i)&&(a=i[u],a&&(i[u]=null),kt.event.triggered=p,t.isPropagationStopped()&&f.addEventListener(p,ze),i[p](),t.isPropagationStopped()&&f.removeEventListener(p,ze),kt.event.triggered=void 0,a&&(i[u]=a)),t.result}},simulate:function(t,e,n){var i=kt.extend(new kt.Event,n,{type:t,isSimulated:!0});kt.event.trigger(i,null,e)}}),kt.fn.extend({trigger:function(t,e){return this.each(function(){kt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return kt.event.trigger(t,e,n,!0)}}),xt.focusin||kt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){kt.event.simulate(e,t.target,kt.event.fix(t))};kt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Zt.access(i,e);r||i.addEventListener(t,n,!0),Zt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Zt.access(i,e)-1;r?Zt.access(i,e,r):(i.removeEventListener(t,n,!0),Zt.remove(i,e))}}});var Ne=n.location,Le=Date.now(),De=/\?/;kt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||kt.error("Invalid XML: "+t),e};var je=/\[\]$/,Fe=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Be=/^(?:input|select|textarea|keygen)/i;kt.param=function(t,e){var n,i=[],r=function(t,e){var n=bt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!kt.isPlainObject(t))kt.each(t,function(){r(this.name,this.value)});else for(n in t)it(n,t[n],e,r);return i.join("&")},kt.fn.extend({serialize:function(){return kt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=kt.prop(this,"elements");return t?kt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!kt(this).is(":disabled")&&Be.test(this.nodeName)&&!Re.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var n=kt(this).val();return null==n?null:Array.isArray(n)?kt.map(n,function(t){return{name:e.name,value:t.replace(Fe,"\r\n")}}):{name:e.name,value:n.replace(Fe,"\r\n")}}).get()}});var qe=/%20/g,He=/#.*$/,We=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,$e=/^\/\//,Ke={},Ge={},Xe="*/".concat("*"),Ye=ct.createElement("a");Ye.href=Ne.href,kt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:Ze.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":kt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ot(ot(t,kt.ajaxSettings),e):ot(kt.ajaxSettings,t)},ajaxPrefilter:rt(Ke),ajaxTransport:rt(Ge),ajax:function(t,e){function i(t,e,i,a){var u,f,d,w,x,b=e;c||(c=!0,l&&n.clearTimeout(l),r=void 0,o=a||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(w=at(p,C,i)),w=lt(p,w,C,u),u?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(kt.lastModified[s]=x),x=C.getResponseHeader("etag"),x&&(kt.etag[s]=x)),204===t||"HEAD"===p.type?b="nocontent":304===t?b="notmodified":(b=w.state,f=w.data,d=w.error,u=!d)):(d=b,!t&&b||(b="error",t<0&&(t=0))),C.status=t,C.statusText=(e||b)+"",u?m.resolveWith(g,[f,b,C]):m.rejectWith(g,[C,b,d]),C.statusCode(y),y=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?f:d]),_.fireWith(g,[C,b]),h&&(v.trigger("ajaxComplete",[C,p]),--kt.active||kt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,s,o,a,l,u,c,h,f,d,p=kt.ajaxSetup({},e),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?kt(g):kt.event,m=kt.Deferred(),_=kt.Callbacks("once memory"),y=p.statusCode||{},w={},x={},b="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ve.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||b;return r&&r.abort(e),i(0,e),this}};if(m.promise(C),p.url=((t||p.url||Ne.href)+"").replace($e,Ne.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ft)||[""],null==p.crossDomain){u=ct.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ye.protocol+"//"+Ye.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=kt.param(p.data,p.traditional)),st(Ke,p,e,C),c)return C;h=kt.event&&p.global,h&&0===kt.active++&&kt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),s=p.url.replace(He,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(qe,"+")):(d=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(De.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(s=s.replace(We,"$1"),d=(De.test(s)?"&":"?")+"_="+Le++ +d),p.url=s+d),p.ifModified&&(kt.lastModified[s]&&C.setRequestHeader("If-Modified-Since",kt.lastModified[s]),kt.etag[s]&&C.setRequestHeader("If-None-Match",kt.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Xe+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)C.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,C,p)===!1||c))return C.abort();if(b="abort",_.add(p.complete),C.done(p.success),C.fail(p.error),r=st(Ge,p,e,C)){if(C.readyState=1,h&&v.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(w,i)}catch(t){if(c)throw t;i(-1,t)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return kt.get(t,e,n,"json")},getScript:function(t,e){return kt.get(t,void 0,e,"script")}}),kt.each(["get","post"],function(t,e){kt[e]=function(t,n,i,r){return bt(n)&&(r=r||i,i=n,n=void 0),kt.ajax(kt.extend({url:t,type:e,dataType:r,data:n,success:i},kt.isPlainObject(t)&&t))}}),kt._evalUrl=function(t){return kt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},kt.fn.extend({wrapAll:function(t){var e;return this[0]&&(bt(t)&&(t=t.call(this[0])),e=kt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return bt(t)?this.each(function(e){kt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=kt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=bt(t);return this.each(function(n){kt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){kt(this).replaceWith(this.childNodes)}),this}}),kt.expr.pseudos.hidden=function(t){return!kt.expr.pseudos.visible(t)},kt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},kt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Qe=kt.ajaxSettings.xhr();xt.cors=!!Qe&&"withCredentials"in Qe,xt.ajax=Qe=!!Qe,kt.ajaxTransport(function(t){var e,i;if(xt.cors||Qe&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),kt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),kt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return kt.globalEval(t),t}}}),kt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),kt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=kt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),ct.head.appendChild(e[0])},abort:function(){n&&n()}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;kt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||kt.expando+"_"+Le++;return this[t]=!0,t}}),kt.ajaxPrefilter("json jsonp",function(t,e,i){var r,s,o,a=t.jsonp!==!1&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=bt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(en,"$1"+r):t.jsonp!==!1&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||kt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=n[r],n[r]=function(){o=arguments},i.always(function(){void 0===s?kt(n).removeProp(r):n[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,tn.push(r)),o&&bt(s)&&s(o[0]),o=s=void 0}),"script"}),xt.createHTMLDocument=function(){var t=ct.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),kt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,s;return e||(xt.createHTMLDocument?(e=ct.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ct.location.href,e.head.appendChild(i)):e=ct),r=Ot.exec(t),s=!n&&[],r?[e.createElement(r[1])]:(r=A([t],e,s),s&&s.length&&kt(s).remove(),kt.merge([],r.childNodes))},kt.fn.load=function(t,e,n){var i,r,s,o=this,a=t.indexOf(" ");return a>-1&&(i=tt(t.slice(a)),t=t.slice(0,a)),bt(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&kt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(i?kt("<div>").append(kt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,s||[t.responseText,e,t])})}),this},kt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){kt.fn[e]=function(t){return this.on(e,t)}}),kt.expr.pseudos.animated=function(t){return kt.grep(kt.timers,function(e){return t===e.elem}).length},kt.offset={setOffset:function(t,e,n){var i,r,s,o,a,l,u,c=kt.css(t,"position"),h=kt(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=kt.css(t,"top"),l=kt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),bt(e)&&(e=e.call(t,n,kt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+o),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},kt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){kt.offset.setOffset(this,t,e)});var e,n,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===kt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===kt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=kt(t).offset(),r.top+=kt.css(t,"borderTopWidth",!0),r.left+=kt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-kt.css(i,"marginTop",!0),left:e.left-r.left-kt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===kt.css(t,"position");)t=t.offsetParent;return t||oe})}}),kt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;kt.fn[t]=function(i){return qt(this,function(t,i,r){var s;return Ct(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r?s?s[e]:t[i]:void(s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r)},t,i,arguments.length)}}),kt.each(["top","left"],function(t,e){kt.cssHooks[e]=B(xt.pixelPosition,function(t,n){if(n)return n=R(t,e),pe.test(n)?kt(t).position()[e]+"px":n})}),kt.each({Height:"height",Width:"width"},function(t,e){kt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){kt.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||s===!0?"margin":"border");
return qt(this,function(e,n,r){var s;return Ct(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?kt.css(e,n,a):kt.style(e,n,r,a)},e,o?r:void 0,o)}})}),kt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){kt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),kt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),kt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),kt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),bt(t))return i=ft.call(arguments,2),r=function(){return t.apply(e||this,i.concat(ft.call(arguments)))},r.guid=t.guid=t.guid||kt.guid++,r},kt.holdReady=function(t){t?kt.readyWait++:kt.ready(!0)},kt.isArray=Array.isArray,kt.parseJSON=JSON.parse,kt.nodeName=u,kt.isFunction=bt,kt.isWindow=Ct,kt.camelCase=_,kt.type=a,kt.now=Date.now,kt.isNumeric=function(t){var e=kt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},i=[],r=function(){return kt}.apply(e,i),!(void 0!==r&&(t.exports=r));var nn=n.jQuery,rn=n.$;return kt.noConflict=function(t){return n.$===kt&&(n.$=rn),t&&n.jQuery===kt&&(n.jQuery=nn),kt},s||(n.jQuery=n.$=kt),kt})},function(t,e,n){var i,r,s;!function(n){var o=/iPhone/i,a=/iPod/i,l=/iPad/i,u=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,v=/BB10/i,m=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(t,e){return t.test(e)},b=function(t){var e=t||navigator.userAgent,n=e.split("[FBAN");if("undefined"!=typeof n[1]&&(e=n[0]),n=e.split("Twitter"),"undefined"!=typeof n[1]&&(e=n[0]),this.apple={phone:x(o,e),ipod:x(a,e),tablet:!x(o,e)&&x(l,e),device:x(o,e)||x(a,e)||x(l,e)},this.amazon={phone:x(h,e),tablet:!x(h,e)&&x(f,e),device:x(h,e)||x(f,e)},this.android={phone:x(h,e)||x(u,e),tablet:!x(h,e)&&!x(u,e)&&(x(f,e)||x(c,e)),device:x(h,e)||x(f,e)||x(u,e)||x(c,e)},this.windows={phone:x(d,e),tablet:x(p,e),device:x(d,e)||x(p,e)},this.other={blackberry:x(g,e),blackberry10:x(v,e),opera:x(m,e),firefox:x(y,e),chrome:x(_,e),device:x(g,e)||x(v,e)||x(m,e)||x(y,e)||x(_,e)},this.seven_inch=x(w,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},C=function(){var t=new b;return t.Class=b,t};"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=b:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?t.exports=C():(r=[],i=n.isMobile=C(),s="function"==typeof i?i.apply(e,r):i,!(void 0!==s&&(t.exports=s)))}(this)},function(t,e){(function(){window.Modernizr=function(t,e,n){function i(t){y.cssText=t}function r(t,e){return i(C.join(t+";")+(e||""))}function s(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var r=t[i];if(!o(r,"-")&&y[r]!==n)return"pfx"!=e||r}return!1}function l(t,e,i){for(var r in t){var o=e[t[r]];if(o!==n)return i===!1?t[r]:s(o,"function")?o.bind(i||e):o}return!1}function u(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+T.join(i+" ")+i).split(" ");return s(e,"string")||s(e,"undefined")?a(r,e):(r=(t+" "+k.join(i+" ")+i).split(" "),l(r,e,n))}function c(){p.input=function(n){for(var i=0,r=n.length;i<r;i++)M[n[i]]=!!(n[i]in w);return M.list&&(M.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),M}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var i,r,s,o=0,a=t.length;o<a;o++)w.setAttribute("type",r=t[o]),i="text"!==w.type,i&&(w.value=x,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(v.appendChild(w),s=e.defaultView,i=s.getComputedStyle&&"textfield"!==s.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,v.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=x)),I[t[o]]=!!i;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h,f,d="2.8.3",p={},g=!0,v=e.documentElement,m="modernizr",_=e.createElement(m),y=_.style,w=e.createElement("input"),x=":)",b={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",T=S.split(" "),k=S.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},E={},I={},M={},P=[],O=P.slice,z=function(t,n,i,r){var s,o,a,l,u=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:m+(i+1),u.appendChild(a);return s=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),u.id=m,(c?u:h).innerHTML+=s,h.appendChild(u),c||(h.style.background="",h.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(h)),o=n(u,t),c?u.parentNode.removeChild(u):(h.parentNode.removeChild(h),v.style.overflow=l),!!o},N=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var o=t in r;return o||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),o=s(r[t],"function"),s(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,o}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),L={}.hasOwnProperty;f=s(L,"undefined")||s(L.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return L.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var s=new r,o=e.apply(s,n.concat(O.call(arguments)));return Object(o)===o?o:s}return e.apply(t,n.concat(O.call(arguments)))};return i}),E.flexbox=function(){return u("flexWrap")},E.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:z(["@media (",C.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},E.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),o(y.backgroundColor,"rgba")},E.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},E.backgroundsize=function(){return u("backgroundSize")},E.borderradius=function(){return u("borderRadius")},E.boxshadow=function(){return u("boxShadow")},E.textshadow=function(){return""===e.createElement("div").style.textShadow},E.opacity=function(){return r("opacity:.55"),/^0.55$/.test(y.opacity)},E.cssanimations=function(){return u("animationName")},E.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+C.join(n+t)).slice(0,-t.length)),o(y.backgroundImage,"gradient")},E.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in v.style&&z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},E.csstransitions=function(){return u("transition")},E.fontface=function(){var t;return z('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),s=r.sheet||r.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";t=/src/i.test(o)&&0===o.indexOf(i.split(" ")[0])}),t},E.generatedcontent=function(){var t;return z(["#",m,"{font:0/0 a}#",m,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},E.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(t){return!1}},E.svg=function(){return!!e.createElementNS&&!!e.createElementNS(A.svg,"svg").createSVGRect},E.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==A.svg},E.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(b.call(e.createElementNS(A.svg,"animate")))},E.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(b.call(e.createElementNS(A.svg,"clipPath")))};for(var D in E)f(E,D)&&(h=D.toLowerCase(),p[h]=E[D](),P.push((p[h]?"":"no-")+h));return p.input||c(),p.addTest=function(t,e){if("object"==typeof t)for(var i in t)f(t,i)&&p.addTest(i,t[i]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(v.className+=" "+(e?"":"no-")+t),p[t]=e}return p},i(""),_=w=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=_.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=m[t[g]];return e||(e={},v++,t[g]=v,m[v]=e),e}function s(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var s;return s=i.cache[t]?i.cache[t].cloneNode():p.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!s.canHaveChildren||d.test(t)||s.tagUrn?s:i.frag.appendChild(s)}function o(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||r(t);for(var s=n.frag.cloneNode(),o=0,a=i(),l=a.length;o<l;o++)s.createElement(a[o]);return s}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return _.shivMethods?s(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(_,e.frag)}function l(t){t||(t=e);var i=r(t);return!_.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(t,i),t}var u,c,h="3.7.0",f=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",v=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){u=!0,c=!0}}();var _={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:c,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:o};t.html5=_,l(e)}(this,e),p._version=d,p._prefixes=C,p._domPrefixes=k,p._cssomPrefixes=T,p.hasEvent=N,p.testProp=function(t){return a([t])},p.testAllProps=u,p.testStyles=z,p.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+P.join(" "):""),p}(this,this.document)}).call(window)},function(t,e,n){function i(t,e,n){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(o);return s(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:i,maxWait:e,trailing:a})}var r=n(5),s=n(6),o="Expected a function";t.exports=i},function(t,e,n){function i(t,e,n){function i(e){var n=_,i=y;return _=y=void 0,S=e,x=t.apply(i,n)}function c(t){return S=t,b=setTimeout(d,e),T?i(t):x}function h(t){var n=t-C,i=t-S,r=e-n;return k?u(r,w-i):r}function f(t){var n=t-C,i=t-S;return void 0===C||n>=e||n<0||k&&i>=w}function d(){var t=s();return f(t)?p(t):void(b=setTimeout(d,h(t)))}function p(t){return b=void 0,A&&_?i(t):(_=y=void 0,x)}function g(){void 0!==b&&clearTimeout(b),S=0,_=C=y=b=void 0}function v(){return void 0===b?x:p(s())}function m(){var t=s(),n=f(t);if(_=arguments,y=this,C=t,n){if(void 0===b)return c(C);if(k)return b=setTimeout(d,e),i(C)}return void 0===b&&(b=setTimeout(d,e)),x}var _,y,w,x,b,C,S=0,T=!1,k=!1,A=!0;if("function"!=typeof t)throw new TypeError(a);return e=o(e)||0,r(n)&&(T=!!n.leading,k="maxWait"in n,w=k?l(o(n.maxWait)||0,e):w,A="trailing"in n?!!n.trailing:A),m.cancel=g,m.flush=v,m}var r=n(6),s=n(7),o=n(10),a="Expected a function",l=Math.max,u=Math.min;t.exports=i},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var i=n(8),r=function(){return i.Date.now()};t.exports=r},function(t,e,n){var i=n(9),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();t.exports=s},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function i(t){if("number"==typeof t)return t;if(s(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):l.test(t)?o:+t}var r=n(6),s=n(11),o=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=i},function(t,e,n){function i(t){return"symbol"==typeof t||s(t)&&r(t)==o}var r=n(12),s=n(16),o="[object Symbol]";t.exports=i},function(t,e,n){function i(t){return null==t?void 0===t?l:a:u&&u in Object(t)?s(t):o(t)}var r=n(13),s=n(14),o=n(15),a="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){var i=n(8),r=i.Symbol;t.exports=r},function(t,e,n){function i(t){var e=o.call(t,l),n=t[l];try{t[l]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[l]=n:delete t[l]),r}var r=n(13),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,l=r?r.toStringTag:void 0;t.exports=i},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){var i;i=function(){"use strict";function t(t){var e;for(e=0;e<t.length;e+=1)t[e](u)}function e(){var e=c;l&&e.length&&(c=[],t(e))}function n(){l||(l=!0,o&&clearInterval(o),e())}function i(t){return l?t(u):c.push(t),i}var r,s,o,a="undefined"!=typeof window&&window.document,l=!a,u=a?document:null,c=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),s=document.createElement("div");try{r=null===window.frameElement}catch(t){}s.doScroll&&r&&window.external&&(o=setInterval(function(){try{s.doScroll(),n()}catch(t){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(t,e,n,r){r.isBuild?n(null):i(n)},i}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){function t(){if(!(this instanceof t))throw new TypeError("Elements constructor cannot be called as a function.")}function e(t){try{return t instanceof HTMLElement||(el=n(el),el.length>0)}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}function n(t,e){return void 0===e&&(e=document),e.querySelectorAll(t)}function i(t,n){return!!e(t)&&(t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className))}function r(t,n){return!!e(t)&&new RegExp("\\b("+n.join("|")+")\\b","gi").test(t.className)}function s(t,n){return!!e(t)&&void(t.classList?t.classList.add(n):t.className+=" "+n)}function o(t,n){return!!e(t)&&void(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}function a(t,n){if(!e(t))return!1;if(t.classList)t.classList.toggle(n);else{var i=t.className.split(" "),r=i.indexOf(n);r>=0?i.splice(r,1):(i.push(n),t.className=i.join(" "))}}function l(t,e){var n=t.parentNode;if(null!==n){if(i(n,e))return n;n=l(n,e)}return n}function u(t,e){var n=t.parentNode;if(null!==n){if(n.tagName==e.toUpperCase())return n;n=u(n,e)}return n}function c(t,e){return void 0===e&&(e=document),null!==e.querySelector(t)}function h(t){return Math.max(t[0].scrollHeight,t[0].scrollHeight,t[0].offsetHeight,t[0].offsetHeight,t[0].clientHeight,t[0].clientHeight)}function f(t){return Math.max(t[0].scrollWidth,t[0].scrollWidth,t[0].offsetWidth,t[0].offsetWidth,t[0].clientWidth,t[0].clientWidth)}return t.prototype={constructor:t,find:n,findParentByClass:l,findParentByTag:u,hasClass:i,hasClasses:r,addClass:s,removeClass:o,toggleClass:a,exists:c,getElementHeight:h,getElementWidth:f},new t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){"use strict";function t(){if(!(this instanceof t))throw new TypeError("bjsEvents constructor cannot be called as a function.")}function e(t,e,i){if("string"==typeof t&&(t=document.querySelectorAll(t),1==t.length&&(t=t[0])),null!=t&&"undefined"!=typeof t)if(void 0!==t.length&&t.length>0&&t!=window)for(var r=0;r<t.length;++r)n(t[r],e,i);else n(t,e,i)}function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function i(t,e,n){t.addEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function r(t,e,n){if("string"==typeof t&&(t=document.querySelectorAll(t),1==t.length&&(t=t[0])),null!=t&&"undefined"!=typeof t)if(void 0!==t.length&&t.length>1&&t!=window)for(var r=0;r<t.length;++r)i(t[r],e,n);else i(t,e,n)}function s(t,e){var n=0;return function(){var i=Date.now();if(n+e<i)return n=i,t.apply(this,arguments)}}return t.prototype={constructor:t,addListener:e,removeListener:r,throttle:s},new t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e){!function(){"use strict";function t(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,i),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var r=0,s=e.length;s>r;r++)e[r][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=r.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete i[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||r.isTouch)&&(e.didScroll=!0,r.requestAnimationFrame(t))})},e.prototype.handleResize=function(){r.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll,s=r?i.forward:i.backward;for(var o in this.waypoints[n]){var a=this.waypoints[n][o],l=i.oldScroll<a.triggerPoint,u=i.newScroll>=a.triggerPoint,c=l&&u,h=!l&&!u;(c||h)&&(a.queueTrigger(s),t[a.group.id]=a.group)}}for(var f in t)t[f].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;r>i;i++)t[i].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),i={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var s in t){var o=t[s];for(var a in this.waypoints[s]){var l,u,c,h,f,d=this.waypoints[s][a],p=d.options.offset,g=d.triggerPoint,v=0,m=null==g;d.element!==d.element.window&&(v=d.adapter.offset()[o.offsetProp]),"function"==typeof p?p=p.apply(d):"string"==typeof p&&(p=parseFloat(p),d.options.offset.indexOf("%")>-1&&(p=Math.ceil(o.contextDimension*p/100))),l=o.contextScroll-o.contextOffset,d.triggerPoint=v+l-p,u=g<o.oldScroll,c=d.triggerPoint>=o.oldScroll,h=u&&c,f=!u&&!c,!m&&h?(d.queueTrigger(o.backward),i[d.group.id]=d.group):!m&&f?(d.queueTrigger(o.forward),i[d.group.id]=d.group):m&&o.oldScroll>=d.triggerPoint&&(d.queueTrigger(o.forward),i[d.group.id]=d.group)}}return r.requestAnimationFrame(function(){for(var t in i)i[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in i)i[t].refresh()},e.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},r.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},r.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?e:t);for(var s=0,o=i.length;o>s;s+=1){var a=i[s];(a.options.continuous||s===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return i[t.axis][t.name]||new n(t)},r.Group=n}(),function(){"use strict";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function n(t){this.element=t,this.handlers={}}var i=window.Waypoint;n.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},n.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},n.prototype.off=function(t,e){function n(t,e,n){for(var i=0,r=e.length-1;r>i;i++){var s=e[i];n&&n!==s||t.removeEventListener(s)}}var i=t.split("."),r=i[0],s=i[1],o=this.element;if(s&&this.handlers[s]&&r)n(o,this.handlers[s][r],e),this.handlers[s][r]=[];else if(r)for(var a in this.handlers)n(o,this.handlers[a][r]||[],e),this.handlers[a][r]=[];else if(s&&this.handlers[s]){for(var l in this.handlers[s])n(o,this.handlers[s][l],e);this.handlers[s]={}}},n.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,n=e(this.element.ownerDocument),i={top:0,left:0};return this.element.getBoundingClientRect&&(i=this.element.getBoundingClientRect()),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}},n.prototype.on=function(t,e){var n=t.split("."),i=n[0],r=n[1]||"__default",s=this.handlers[r]=this.handlers[r]||{},o=s[i]=s[i]||[];o.push(e),this.element.addEventListener(i,e)},n.prototype.outerHeight=function(e){var n,i=this.innerHeight();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginTop,10),i+=parseInt(n.marginBottom,10)),i},n.prototype.outerWidth=function(e){var n,i=this.innerWidth();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),i+=parseInt(n.marginLeft,10),i+=parseInt(n.marginRight,10)),i},n.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},n.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},n.extend=function(){function t(t,e){if("object"==typeof t&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}for(var e=Array.prototype.slice.call(arguments),n=1,i=e.length;i>n;n++)t(e[0],e[n]);return e[0]},n.inArray=function(t,e,n){return null==e?-1:e.indexOf(t,n)},n.isEmptyObject=function(t){for(var e in t)return!1;return!0},i.adapters.push({name:"noframework",Adapter:n}),i.Adapter=n}()},function(t,e,n){var i,r;!function(s,o){var a=o(s,s.document);s.lazySizes=a,"object"==typeof t&&t.exports?t.exports=a:n(22)&&(i=a,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r)))}(window,function(t,e){"use strict";if(e.getElementsByClassName){var n,i=e.documentElement,r=t.HTMLPictureElement&&"sizes"in e.createElement("img"),s="addEventListener",o=t[s],a=t.setTimeout,l=t.requestAnimationFrame||a,u=/^picture$/i,c=["load","error","lazyincluded","_lazyloaded"],h={},f=Array.prototype.forEach,d=function(t,e){return h[e]||(h[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),h[e].test(t.className)&&h[e]},p=function(t,e){d(t,e)||(t.className=t.className.trim()+" "+e)},g=function(t,e){var n;(n=d(t,e))&&(t.className=t.className.replace(n," "))},v=function(t,e,n){var i=n?s:"removeEventListener";n&&v(t,e),c.forEach(function(n){t[i](n,e)})},m=function(t,n,i,r,s){var o=e.createEvent("CustomEvent");return o.initCustomEvent(n,!r,!s,i||{}),t.dispatchEvent(o),o},_=function(e,i){var s;!r&&(s=t.picturefill||n.pf)?s({reevaluate:!0,elements:[e]}):i&&i.src&&(e.src=i.src)},y=function(t,e){return(getComputedStyle(t,null)||{})[e]},w=function(t,e,i){for(i=i||t.offsetWidth;i<n.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},x=function(e){var n,i=0,r=t.Date,s=function(){n=!1,i=r.now(),e()},o=function(){a(s)},u=function(){l(o)};return function(){if(!n){var t=125-(r.now()-i);n=!0,6>t&&(t=6),a(u,t)}}},b=function(){var r,c,h,w,b,S,T,k,A,E,I,M,P,O,z,N=/^img$/i,L=/^iframe$/i,D="onscroll"in t&&!/glebot/.test(navigator.userAgent),j=0,F=0,R=0,B=0,q=function(t){R--,t&&t.target&&v(t.target,q),(!t||0>R||!t.target)&&(R=0)},H=function(t,e){var n,i=t,r="hidden"!=y(t,"visibility");for(A-=e,M+=e,E-=e,I+=e;r&&(i=i.offsetParent);)r=(y(i,"opacity")||1)>0,r&&"visible"!=y(i,"overflow")&&(n=i.getBoundingClientRect(),r=I>n.left&&E<n.right&&M>n.top-1&&A<n.bottom+1);return r},W=function(){var t,e,i,s,o,a,l,u,f;if((b=n.loadMode)&&8>R&&(t=r.length)){for(e=0,B++,O>F&&1>R&&B>3&&b>2?(F=O,B=0):F=b>1&&B>2&&6>R?P:j;t>e;e++)if(r[e]&&!r[e]._lazyRace)if(D)if((u=r[e].getAttribute("data-expand"))&&(a=1*u)||(a=F),f!==a&&(T=innerWidth+a*z,k=innerHeight+a,l=-1*a,f=a),i=r[e].getBoundingClientRect(),(M=i.bottom)>=l&&(A=i.top)<=k&&(I=i.right)>=l*z&&(E=i.left)<=T&&(M||I||E||A)&&(h&&3>R&&!u&&(3>b||4>B)||H(r[e],a))){if(G(r[e]),o=!0,R>9)break}else!o&&h&&!s&&4>R&&4>B&&b>2&&(c[0]||n.preloadAfterLoad)&&(c[0]||!u&&(M||I||E||A||"auto"!=r[e].getAttribute(n.sizesAttr)))&&(s=c[0]||r[e]);else G(r[e]);s&&!o&&G(s)}},V=x(W),Z=function(t){p(t.target,n.loadedClass),g(t.target,n.loadingClass),v(t.target,Z)},U=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},$=function(t){var e,i,r=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),r&&t.setAttribute("srcset",r),e&&(i=t.parentNode,i.insertBefore(t.cloneNode(),t),i.removeChild(t))},K=function(){var t,e=[],n=function(){for(;e.length;)e.shift()();t=!1};return function(i){e.push(i),t||(t=!0,l(n))}}(),G=function(t){var e,i,r,s,o,l,c,y=N.test(t.nodeName),x=y&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),b="auto"==x;
(!b&&h||!y||!t.src&&!t.srcset||t.complete||d(t,n.errorClass))&&(b&&(c=t.offsetWidth),t._lazyRace=!0,R++,K(function(){t._lazyRace&&delete t._lazyRace,g(t,n.lazyClass),(o=m(t,"lazybeforeunveil")).defaultPrevented||(x&&(b?(p(t,n.autosizesClass),C.updateElem(t,!0,c)):t.setAttribute("sizes",x)),i=t.getAttribute(n.srcsetAttr),e=t.getAttribute(n.srcAttr),y&&(r=t.parentNode,s=r&&u.test(r.nodeName||"")),l=o.detail.firesLoad||"src"in t&&(i||e||s),o={target:t},l&&(v(t,q,!0),clearTimeout(w),w=a(q,2500),p(t,n.loadingClass),v(t,Z,!0)),s&&f.call(r.getElementsByTagName("source"),$),i?t.setAttribute("srcset",i):e&&!s&&(L.test(t.nodeName)?U(t,e):t.src=e),(i||s)&&_(t,{src:e})),(!l||t.complete)&&(l?q(o):R--,Z(o))}))},X=function(){if(!h){if(Date.now()-S<999)return void a(X,999);var t,e=function(){n.loadMode=3,V()};h=!0,n.loadMode=3,R||(B?V():a(W)),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),clearTimeout(t),t=a(e,99)},!0)}};return{_:function(){S=Date.now(),r=e.getElementsByClassName(n.lazyClass),c=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),z=n.hFac,P=n.expand,O=P*n.expFactor,o("scroll",V,!0),o("resize",V,!0),t.MutationObserver?new MutationObserver(V).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[s]("DOMNodeInserted",V,!0),i[s]("DOMAttrModified",V,!0),setInterval(V,999)),o("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e[s](t,V,!0)}),/d$|^c/.test(e.readyState)?X():(o("load",X),e[s]("DOMContentLoaded",V),a(X,2e4)),V(r.length>0)},checkElems:V,unveil:G}}(),C=function(){var t,i=function(t,e,n){var i,r,s,o,a=t.parentNode;if(a&&(n=w(t,a,n),o=m(t,"lazybeforesizes",{width:n,dataAttr:!!e}),!o.defaultPrevented&&(n=o.detail.width,n&&n!==t._lazysizesWidth))){if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),u.test(a.nodeName||""))for(i=a.getElementsByTagName("source"),r=0,s=i.length;s>r;r++)i[r].setAttribute("sizes",n);o.detail.dataAttr||_(t,o.detail)}},r=function(){var e,n=t.length;if(n)for(e=0;n>e;e++)i(t[e])},s=x(r);return{_:function(){t=e.getElementsByClassName(n.autosizesClass),o("resize",s)},checkElems:s,updateElem:i}}(),S=function(){S.i||(S.i=!0,C._(),b._())};return function(){var e,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,expand:i.clientHeight>600?i.clientWidth>860?500:410:359,loadMode:2};n=t.lazySizesConfig||t.lazysizesConfig||{};for(e in r)e in n||(n[e]=r[e]);t.lazySizesConfig=n,a(function(){n.init&&S()})}(),{cfg:n,autoSizer:C,loader:b,init:S,uP:_,aC:p,rC:g,hC:d,fire:m,gW:w}}})},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var i,r,s=function(o,a){o=o||n(24);var l=o.window,u=o.document,c=new function(){function t(t,i,r,s,a){function u(n,u){u=u||(u=o(i,n))&&(u.get?u:u.value),"string"==typeof u&&"#"===u[0]&&(u=t[u.substring(1)]||u);var h,f="function"==typeof u,d=u,p=a||f&&!u.base?u&&u.get?n in t:t[n]:null;a&&p||(f&&p&&(u.base=p),f&&s!==!1&&(h=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[h[3].toLowerCase()+h[4]]=h[2]),d&&!f&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(o(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=r),l(t,n,d))}var c={};if(i){for(var h in i)i.hasOwnProperty(h)&&!n.test(h)&&u(h);for(var h in c){var f=c[h],d=t["set"+f],p=t["get"+f]||d&&t["is"+f];!p||s!==!0&&0!==p.length||u(h,{get:p,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&h(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,i=[],r=i.slice,s=Object.create,o=Object.getOwnPropertyDescriptor,l=Object.defineProperty,u=i.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},c=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},h=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},f=function(t,e,n){if(t){var i=o(t,"length");(i&&"number"==typeof i.value?u:c).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=e.statics===!0?e:e.statics,i=e.beans,r=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,i,r),t(this,n,!0,i,r)}for(var s=1,o=arguments.length;s<o;s++)this.inject(arguments[s]);return this},extend:function(){for(var e,n,i,r=this,o=0,a=arguments.length;o<a&&(!e||!n);o++)i=arguments[o],e=e||i.initialize,n=n||i.prototype;return e=e||function(){r.apply(this,arguments)},n=e.prototype=n||s(this.prototype),l(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}},!0).inject({initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];i&&t(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=s(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:h,each:f,create:s,define:l,describe:o,clone:function(t){return h(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==a?t:e},slice:function(t,e,n){return r.call(t,e,n)}}})};t.exports=c,c.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+c.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?p.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return c.importJSON(t,this)},exportJSON:function(t){return c.exportJSON(this,t)},toJSON:function(){return c.serialize(this)},set:function(t,e){return t&&c.filter(this,t,e,this._prioritize),this},statics:{exports:{enumerable:!0},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!c.exports[n]&&(c.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!c.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!c.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===c){var r=this.peek(t,e);return t.__index++,r}var s=this.prototype,o=s._readIndex,l=e||o&&t.__index||0,u=t.length,h=t[l];return i=i||u-l,h instanceof this||n&&n.readNull&&null==h&&i<=1?(o&&(t.__index=l+1),h&&n&&n.clone?h.clone():h):(h=c.create(s),o&&(h.__read=!0),h=h.initialize.apply(h,l>0||l+i<u?c.slice(t,l,l+i):t)||h,o&&(t.__index=l+h.__read,h.__read=a),h)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,s=[],o=e||0,a=i?o+i:t.length,l=o;l<a;l++)s.push(Array.isArray(r=t[l])?this.read(r,0,n):this.read(t,l,n,1));return s},readNamed:function(t,e,n,i,r){var s=this.getNamed(t,e),o=s!==a;if(o){var l=t._filtered;l||(l=t._filtered=c.create(t[0]),l._unfiltered=t[0]),l[e]=a}return this.read(o?[s]:t,n,i,r)},getNamed:function(t,e){var n=t[0];if(t._hasObject===a&&(t._hasObject=1===t.length&&c.isPlainObject(n)),t._hasObject)return e?n[e]:t._filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){function r(i){if(!(n&&i in n||s&&i in s)){var r=e[i];r!==a&&(t[i]=r)}}var s;if(i){for(var o,l={},u=0,c=i.length;u<c;u++)(o=i[u])in e&&(r(o),l[o]=!0);s=l}return Object.keys(e._unfiltered||e).forEach(r),t},isPlainValue:function(t,e){return c.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,i){e=e||{};var r,s=!i;if(s&&(e.formatter=new p(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var o=t._class;!o||t._compactSerialize||!s&&n||r[0]===o||r.unshift(o)}else if(Array.isArray(t)){r=[];for(var a=0,l=t.length;a<l;a++)r[a]=c.serialize(t[a],e,n,i)}else if(c.isPlainObject(t)){r={};for(var u=Object.keys(t),a=0,l=u.length;a<l;a++){var h=u[a];r[h]=c.serialize(t[h],e,n,i)}}else r="number"==typeof t?e.formatter.number(t,e.precision):t;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var s=t,o=!n,a=o&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];l=c.exports[l],s=[];for(var h=l?1:0,f=t.length;h<f;h++)s.push(c.deserialize(t[h],e,n,u,a));if(l){var d=s;e?s=e(l,d,o||r):(s=c.create(l.prototype),l.apply(s,d))}}else if(c.isPlainObject(t)){s={},i&&(n.dictionary=s);for(var p in t)s[p]=c.deserialize(t[p],e,n)}return a?s[1]:s},exportJSON:function(t,e){var n=c.serialize(t,e);return e&&e.asString===!1?n:JSON.stringify(n)},importJSON:function(t,e){return c.deserialize("string"==typeof t?JSON.parse(t):t,function(t,n,i){var r=i&&e&&e.constructor===t,s=r?e:c.create(t.prototype);if(1===n.length&&s instanceof k&&(r||!(s instanceof E))){var o=n[0];c.isPlainObject(o)&&(o.insert=!1)}return(r?s.set:t).apply(s,n),r&&(e=null),s})},splice:function(t,e,n,i){var r=e&&e.length,s=n===a;n=s?t.length:n,n>t.length&&(n=t.length);for(var o=0;o<r;o++)e[o]._index=n+o;if(s)return t.push.apply(t,e),[];var l=[n,i];e&&l.push.apply(l,e);for(var u=t.splice.apply(t,l),o=0,c=u.length;o<c;o++)u[o]._index=a;for(var o=n+r,c=t.length;o<c;o++)t[o]._index=o;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,e){if("string"!=typeof t)c.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],r.indexOf(e)===-1&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void c.each(t,function(t,e){this.off(e,t)},this);var n,i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||(n=s.indexOf(e))!==-1&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):n!==-1&&s.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=c.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var s=0,o=n.length;s<o;s++)if(n[s].apply(this,i)===!1){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var s=e[r],o=s&&s[i];o&&o.call(this,r)}},statics:{inject:function t(e){var n=e._events;if(n){var i={};c.each(n,function(t,n){var r="string"==typeof t,s=r?t:n,o=c.capitalize(s),a=s.substring(2).toLowerCase();i[a]=r?{}:t,s="_"+s,e["get"+o]=function(){return this[s]},e["set"+o]=function(t){var e=this[s];e&&this.off(a,e),t&&this.on(a,t),this[s]=t}}),e._eventTypes=i}return t.base.apply(this,arguments)}}},f=c.extend({_class:"PaperScope",initialize:function t(){s=this,this.settings=new c({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=st.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:ot.nativeModes},st.release(n)}if(!this.agent){var i=o.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],a="darwin"===r?"mac":r,l=e.agent=e.browser={platform:a};a&&(l[a]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,i,r){if(!l.chrome){var s="opera"===e?i:/^(node|trident)$/.test(e)?r:n;l.version=s,l.versionNumber=parseFloat(s),e="trident"===e?"msie":e,l.name=e,l[e]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.10.3",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){s.PaperScript.execute(t,this,e),Y.updateFocus()},install:function(t){var e=this;c.each(["project","view","tool"],function(n){c.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return s=this,this.project=new T(t),this},createCanvas:function(t,e){return st.getCanvas(t,e)},activate:function(){s=this},clear:function(){for(var t=this.projects,e=this.tools,n=this.palettes,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove();for(var i=n.length-1;i>=0;i--)n[i].remove()},remove:function(){this.clear(),delete f._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=c.extend(h,{initialize:function(t){this._scope=s,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(c.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),p=c.extend({initialize:function(t){this.precision=c.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});p.instance=new p;var g=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function i(t){var e=134217729*t,n=t-e,i=n+e,r=t-i;return[i,r]}var r=e*e-t*n,o=e*e+t*n;if(3*s(r)<o){var a=i(t),l=i(e),u=i(n),c=e*e,h=l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1],f=t*n,d=a[0]*u[0]-f+a[0]*u[1]+a[1]*u[0]+a[1]*u[1];r=c-f+(h-d)}return r}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?a(2,-Math.round(l(t))):0}var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,o=Math.sqrt,a=Math.pow,l=Math.log2||function(t){return Math.log(t)*Math.LOG2E},u=1e-12,c=1.12e-16;return{EPSILON:u,MACHINE_EPSILON:c,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(o(2)-1)/3,isZero:function(t){return t>=-u&&t<=u},clamp:t,integrate:function(t,e,n,s){for(var o=i[s-2],a=r[s-2],l=.5*(n-e),u=l+e,c=0,h=s+1>>1,f=1&s?a[c++]*t(u):0;c<h;){var d=l*o[c];f+=a[c++]*(t(u+d)+t(u-d))}return l*f},findRoot:function(e,n,i,r,o,a,l){for(var u=0;u<a;u++){var c=e(i),h=c/n(i),f=i-h;if(s(h)<l){i=f;break}c>0?(o=i,i=f<=r?.5*(r+o):f):(r=i,i=f>=o?.5*(r+o):f)}return t(i,r,o)},solveQuadratic:function(i,r,a,l,h,f){var d,p=1/0;if(s(i)<u){if(s(r)<u)return s(a)<u?-1:0;d=-a/r}else{r*=-.5;var g=e(i,r,a);if(g&&s(g)<c){var v=n(s(i),s(r),s(a));v&&(i*=v,r*=v,a*=v,g=e(i,r,a))}if(g>=-c){var m=g<0?0:o(g),_=r+(r<0?-m:m);0===_?(d=a/i,p=-d):(d=_/i,p=a/_)}}var y=0,w=null==h,x=h-u,b=f+u;return isFinite(d)&&(w||d>x&&d<b)&&(l[y++]=w?d:t(d,h,f)),p!==d&&isFinite(p)&&(w||p>x&&p<b)&&(l[y++]=w?p:t(p,h,f)),y},solveCubic:function(e,i,r,l,h,f,d){function p(t){v=t;var n=e*v;m=n+i,_=m*v+r,y=(n+m)*v+_,w=_*v+l}var v,m,_,y,w,x=n(s(e),s(i),s(r),s(l));if(x&&(e*=x,i*=x,r*=x,l*=x),s(e)<u)e=i,m=r,_=l,v=1/0;else if(s(l)<u)m=i,_=r,v=0;else{p(-(i/e)/3);var b=w/e,C=a(s(b),1/3),S=b<0?-1:1,T=-y/e,k=T>0?1.324717957244746*Math.max(C,o(T)):C,A=v-S*k;if(A!==v){do p(A),A=0===y?v:v-w/y/(1+c);while(S*A>S*v);s(e)*v*v>s(l/v)&&(_=-l/v,m=(_-r)/v)}}var E=g.solveQuadratic(e,m,_,h,f,d),I=null==f;return isFinite(v)&&(0===E||E>0&&v!==h[0]&&v!==h[1])&&(I||v>f-u&&v<d+u)&&(h[E++]=I?v:t(v,f,d)),E}}},v={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},m=c.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"==typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var o="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new m(this.x,this.y)},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();g.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=m.read(arguments),e=this.getLength()*t.getLength();if(g.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=m.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=m.read(arguments),e=t.x-this.x,n=t.y-this.y,i=e*e+n*n,r=c.read(arguments);return r?i:Math.sqrt(i)},normalize:function(t){t===a&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new m(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new m(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=m.read(arguments);return new m(this.x+t.x,this.y+t.y)},subtract:function(){var t=m.read(arguments);return new m(this.x-t.x,this.y-t.y)},multiply:function(){var t=m.read(arguments);return new m(this.x*t.x,this.y*t.y)},divide:function(){var t=m.read(arguments);return new m(this.x/t.x,this.y/t.y)},modulo:function(){var t=m.read(arguments);return new m(this.x%t.x,this.y%t.y)},negate:function(){return new m(-this.x,-this.y)},isInside:function(){return x.read(arguments).contains(this)},isClose:function(){var t=m.read(arguments),e=c.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=m.read(arguments);return m.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=m.read(arguments);return m.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=g.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=m.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=m.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=m.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new m(t.x*e,t.y*e)},statics:{min:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new m(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new m(e(this.x),e(this.y))}},{})),_=m.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),y=c.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"==typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var o="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new y(this.width,this.height)},toString:function(){var t=p.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=y.read(arguments);return new y(this.width+t.width,this.height+t.height)},subtract:function(){var t=y.read(arguments);return new y(this.width-t.width,this.height-t.height)},multiply:function(){var t=y.read(arguments);return new y(this.width*t.width,this.height*t.height)},divide:function(){var t=y.read(arguments);return new y(this.width/t.width,this.height/t.height)},modulo:function(){var t=y.read(arguments);return new y(this.width%t.width,this.height%t.height)},negate:function(){return new y(-this.width,-this.height)},isZero:function(){var t=g.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new y(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new y(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new y(Math.random(),Math.random())}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new y(e(this.width),e(this.height))}},{})),w=y.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),x=c.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,s=typeof t;if("number"===s?(this._set(t,e,n,i),r=4):"undefined"===s||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==a||t.width!==a?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===a&&t.to===a&&(this._set(0,0,0,0),c.filter(this,t),r=1)),r===a){var o,l,u=m.readNamed(arguments,"from"),h=c.peek(arguments),f=u.x,d=u.y;if(h&&h.x!==a||c.hasNamed(arguments,"to")){var p=m.readNamed(arguments,"to");o=p.x-f,l=p.y-d,o<0&&(f=p.x,o=-o),l<0&&(d=p.y,l=-l)}else{var g=y.read(arguments);o=g.width,l=g.height}this._set(f,d,o,l),r=arguments.__index}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new x(this.x,this.y,this.width,this.height)},equals:function(t){var e=c.isPlainValue(t)?x.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?m:_;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?y:w;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=y.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==a&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==a&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?m:_;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=m.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==a||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(x.read(arguments)):this._containsPoint(m.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=x.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=x.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=x.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},unite:function(){var t=x.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},include:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new x(e,n,i-e,r-n)},expand:function(){var t=y.read(arguments),e=t.width,n=t.height;return new x(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===a?t:e)-this.height)}},c.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],s=t[i?1:0],o="get"+r,a="get"+s,l="set"+r,u="set"+s,c="get"+n,h="set"+n;this[c]=function(t){var e=t?m:_;return new e(this[o](),this[a](),this,h)},this[h]=function(){var t=m.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),b=x.extend({initialize:function(t,e,n,i,r,s){this._set(t,e,n,i,!0),this._owner=r,
this._setter=s},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=x.prototype;return c.each(["x","y","width","height"],function(t){var e=c.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},c.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),C=c.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments.length,r=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):r=!1:i?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,s,o){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=s,o||this._changed(),this},_serialize:function(t,e){return c.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new C(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=p.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,c.pick(t,!0),e),this.isIdentity())},translate:function(){var t=m.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=m.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),s=Math.sin(t),o=n-n*r+i*s,a=i-n*s-i*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+s*c,this._b=r*u+s*h,this._c=-s*l+r*c,this._d=-s*u+r*h,this._tx+=o*l+a*c,this._ty+=o*u+a*h,this._changed(),this},shear:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new m(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},append:function(t){if(t){var e=this._a,n=this._b,i=this._c,r=this._d,s=t._a,o=t._c,a=t._b,l=t._d,u=t._tx,c=t._ty;this._a=s*e+a*i,this._c=o*e+l*i,this._b=s*n+a*r,this._d=o*n+l*r,this._tx+=u*e+c*i,this._ty+=u*n+c*r,this._changed()}return this},prepend:function(t){if(t){var e=this._a,n=this._b,i=this._c,r=this._d,s=this._tx,o=this._ty,a=t._a,l=t._c,u=t._b,c=t._d,h=t._tx,f=t._ty;this._a=a*e+l*n,this._c=a*i+l*r,this._b=u*e+c*n,this._d=u*i+c*r,this._tx=a*s+l*o+h,this._ty=u*s+c*o+f,this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,o=t*i-e*n,a=null;return o&&!isNaN(o)&&isFinite(r)&&isFinite(s)&&(this._a=i/o,this._b=-e/o,this._c=-n/o,this._d=t/o,this._tx=(n*s-i*r)/o,this._ty=(e*r-t*s)/o,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new C(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(m.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new m),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var s=t[i],o=t[i+1];e[i]=s*this._a+o*this._c+this._tx,e[i+1]=s*this._b+o*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,s=[e,n,i,n,i,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),s=r.slice(),o=2;o<8;o++){var a=i[o],l=1&o;a<r[l]?r[l]=a:a>s[l]&&(s[l]=a)}return e||(e=new x),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(m.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,s=this._c,o=this._d,a=this._tx,l=this._ty,u=i*o-r*s,c=null;if(u&&!isNaN(u)&&isFinite(a)&&isFinite(l)){var h=t.x-this._tx,f=t.y-this._ty;e||(e=new m),c=e._set((h*o-f*s)/u,(f*i-h*r)/u,n)}return c},decompose:function(){var t,e,n,i=this._a,r=this._b,s=this._c,o=this._d,a=i*o-r*s,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);t=Math.acos(i/h)*(r>0?1:-1),e=[h,a/h],n=[u(i*s+r*o,h*h),0]}else if(0!==s||0!==o){var f=l(s*s+o*o);t=Math.asin(s/f)*(o>0?1:-1),e=[a/f,f],n=[0,u(i*s+r*o,f*f)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new m(e),skewing:new m(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new m(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},c.each(["a","b","c","d","tx","ty"],function(t){var e=c.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),S=c.extend({_class:"Line",initialize:function(t,e,n,i,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new m(this._px,this._py)},getVector:function(){return new m(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return S.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return S.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(S.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return m.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return m.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,s,o,a,l,u){l||(n-=t,i-=e,o-=r,a-=s);var c=n*a-i*o;if(!g.isZero(c)){var h=t-r,f=e-s,d=(o*f-a*h)/c,p=(n*f-i*h)/c,v=1e-12,_=-v,y=1+v;if(u||_<d&&d<y&&_<p&&p<y)return u||(d=d<=0?0:d>=1?1:d),new m(t+d*n,e+d*i)}},getSide:function(t,e,n,i,r,s,o,a){o||(n-=t,i-=e);var l=r-t,u=s-e,c=l*i-u*n;return!a&&g.isZero(c)&&(c=(l*n+l*n)/(n*n+i*i),c>=0&&c<=1&&(c=0)),c<0?-1:c>0?1:0},getSignedDistance:function(t,e,n,i,r,s,o){return o||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?s-e:e-s:((r-t)*i-(s-e)*n)/Math.sqrt(n*n+i*i)},getDistance:function(t,e,n,i,r,s,o){return Math.abs(S.getSignedDistance(t,e,n,i,r,s,o))}}}),T=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new K(null,null,this),this._view=Y.create(this,t||st.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return c.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,s=e._id,o=r[s];o?o.flags|=t:i.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new E({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:P,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(a,t)},insertLayer:function(t,e){if(e instanceof E){e._remove(!1,!0),c.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(a,new E(k.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return k._getItems(this,t)},getItem:function(t){return k._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return c.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var s in e){var o=e[s];o&&o!=n&&delete o[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new c({offset:new m(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new C],updateMatrix:!0}),s=0,o=i.length;s<o;s++)i[s].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var a=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var h in a)a[h]._drawSelection(t,e,l,a,u);t.restore()}}}),k=c.extend(h,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=c.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new C,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return c.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&c.isPlainObject(t),i=n&&t.internal===!0,r=this._matrix=new C,o=n&&t.project||s.project,l=s.settings;return this._id=i?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&r.translate(e),r._owner=this,this._style=new K(o._currentStyle,this,o),i||n&&t.insert===!1||!l.insertItems&&(!n||t.insert!==!0)?this._setProject(o):(n&&t.parent||o)._insertItem(a,this,!0),n&&t!==k.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var s in n){var o=r[s];c.equals(o,"leading"===s?1.2*n.fontSize:n[s])||(i[s]=c.serialize(o,t,"data"!==s,e))}}var i={},r=this;return n(this._serializeFields),this instanceof A||n(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=a),n&&40&t&&k._clearBoundsCache(n),2&t&&k._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||a,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},c.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=c.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?m:_;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(m.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new _(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=m.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},c.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof C,i=c.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i);return arguments.length?r:new b(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=x.read(arguments),e=this.getBounds(),n=this._matrix,i=new C,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new C).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(k._updateBoundsCache(this,e.cacheItem),k._getBounds(n,t,e)):new x},_getCachedBounds:function(t,e){t=t&&t._orNullIfIdentity();var n=e.internal,i=e.cacheItem,r=n?null:this._matrix._orNullIfIdentity(),s=i&&(!t||t.equals(r))&&[e.stroke?1:0,e.handle?1:0,n?1:0].join("");if(k._updateBoundsCache(this._parent||this._symbol,i),s&&this._bounds&&s in this._bounds)return this._bounds[s].rect.clone();var o=this._getBounds(t||r,e);if(s){this._bounds||(this._bounds={});this._bounds[s]={rect:o.clone(),internal:e.internal}}return o},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=a;for(var n=0,i=e.list,r=i.length;n<r;n++){var s=i[n];s!==t&&(s._bounds=s._position=a,s._boundsCache&&k._clearBoundsCache(s))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,s=i,o=r;n=n||{};for(var a=0,l=t.length;a<l;a++){var u=t[a];if(u._visible&&!u.isEmpty()){var c=u._getCachedBounds(e&&e.appended(u._matrix),n);i=Math.min(c.x,i),s=Math.min(c.y,s),r=Math.max(c.x+c.width,r),o=Math.max(c.y+c.height,o)}}return isFinite(i)?new x(i,s,r-i,o-s):new x}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new _(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof E)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return c.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(k.NO_INSERT),n=this._children,i=c.pick(t?t.insert:a,t===a||t===!0),r=c.pick(t?t.deep:a,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var s=this._name,o=this._parent;if(s&&o){for(var n=o._children,l=s,u=1;n[s];)s=l+" "+u++;s!==l&&e.setName(s)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var o=t._data,a=t._name;this._data=o?c.clone(o):null,a&&this.setName(a)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),s=n.getBottomRight().ceil(),o=new y(s.subtract(r)),l=new M(k.NO_INSERT);if(!o.isZero()){var u=st.getCanvas(o.multiply(i)),h=u.getContext("2d"),f=(new C).scale(i).translate(r.negate());h.save(),f.applyToContext(h),this.draw(h,new c({matrices:[f]})),h.restore(),l.setCanvas(u)}return l.transform((new C).translate(r.add(o.divide(2))).scale(1/i)),(e===a||e)&&l.insertAbove(this),l},contains:function(){return!!this._contains(this._matrix._inverseTransform(m.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return x.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new R.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof k&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(m.read(arguments),z.getOptions(arguments))}function e(){var t=m.read(arguments),e=z.getOptions(arguments),n=[];return this._hitTest(t,c.set({all:n},e)),n}function n(t,e,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var o=r[s],a=o!==i&&o._hitTest(t,e,n);if(a&&!e.all)return a}return null}return T.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function i(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(e,n){var i=u["get"+n]();if(t.subtract(i).divide(l).length<=1)return new z(e,p,{name:c.hyphenate(n),point:i})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,o=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new y(R._getStrokePadding(a,s.inverted()._shiftless()));if(t=s._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var u,h,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==c.hyphenate(this._class)||e.class&&!(this instanceof e.class)),d=e.match,p=this;if(f&&(e.center||e.bounds)&&this._parent){if(u=this.getInternalBounds(),e.center&&(h=r("center","Center")),!h&&e.bounds)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!h;v++)h=r("bounds",g[v]);h=i(h)}return h||(h=this._hitTestChildren(t,e,o)||f&&i(this._hitTestSelf(t,e,o,this.getStrokeScaling()?null:o.inverted()._shiftless()))||null),h&&h.point&&(h.point=s.transform(h.point)),h},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new z("fill",this)},matches:function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e[i];if(c.isPlainObject(r)&&c.isPlainObject(s)){if(!n(r,s))return!1}else if(!c.equals(r,s))return!1}return!0}var i=typeof t;if("object"===i){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+c.capitalize(t)]():"type"===t?c.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;s=this._class}if("function"==typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(c.isPlainObject(e))return n(e,s)}return c.equals(s,e)},getItems:function(t){return k._getItems(this,t,this._matrix)},getItem:function(t){return k._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,r,s){if(!r){var o="object"==typeof n&&n,a=o&&o.overlapping,l=o&&o.inside,u=a||l,h=u&&x.read([u]);r={items:[],recursive:o&&o.recursive!==!1,inside:!!l,overlapping:!!a,rect:h,path:a&&new R.Rectangle({rectangle:h,insert:!1})},o&&(n=c.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var f=e._children,d=r.items,h=r.rect;i=h&&(i||new C);for(var p=0,g=f&&f.length;p<g;p++){var v=f[p],m=i&&i.appended(v._matrix),_=!0;if(h){var u=v.getBounds(m);if(!h.intersects(u))continue;h.contains(u)||r.overlapping&&(u.contains(h)||r.path.intersects(v,m))||(_=!1)}if(_&&v.matches(n)&&(d.push(v),s))break;if(r.recursive!==!1&&t(v,n,m,r,s),s&&d.length>0)break}return d}}},{importJSON:function(t){var e=c.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(a,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=c.slice(e);for(var i=e.length-1;i>=0;i--){var r=e[i];r?r._remove(!1,!0):e.splice(i,1)}c.splice(n,e,t,0);for(var s=this._project,o=s._changes,i=0,a=e.length;i<a;i++){var r=e[i],l=r._name;r._parent=this,r._setProject(s,!0),l&&r.setName(l),o&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(a,this.clone(!1))},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;s!==-1&&(e[i]==this&&delete e[i],r.splice(s,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),c.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=c.pick(e,this._children.length);for(var n=c.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?c:m).read(arguments),i=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,i||this.getPosition(!0)))}},{translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,i){t&&t.isIdentity()&&(t=null);var r=this._matrix,s=(e||this._applyMatrix)&&(!r.isIdentity()||t||e&&n&&this._children);if(!t&&!s)return this;if(t&&(!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t)),s=s&&this._transformContent(r,n,i)){var o=this._pivot,a=this._style,l=a.getFillColor(!0),u=a.getStrokeColor(!0);o&&r._transformPoint(o,o,!0),l&&l.transform(r),u&&u.transform(r),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,h=this._position;this._changed(9);var f=c&&t&&t.decompose();if(f&&!f.shearing&&f.rotation%90===0){for(var d in c){var p=c[d];if(s||!p.internal){var g=p.rect;t._transformBounds(g,g)}}var v=this._boundsGetter,g=c[v&&v.getBounds||v||"getBounds"];g&&(this._position=g.getCenter(!0)),this._bounds=c}else t&&h&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(m.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(m.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(m.read(arguments))},localToParent:function(){return this._matrix._transformPoint(m.read(arguments))},fitBounds:function(t,e){t=x.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,s=(e?i>r:i<r)?t.width/n.width:t.height/n.height,o=new x(new m,new y(n.width*s,n.height*s));
o.setCenter(t.getCenter()),this.setBounds(o)}}),{_setStyles:function(t,e,n){var i=this._style;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t),t.lineWidth=i.getStrokeWidth();var r=i.getStrokeJoin(),o=i.getStrokeCap(),a=i.getMiterLimit();if(r&&(t.lineJoin=r),o&&(t.lineCap=o),a&&(t.miterLimit=a),s.support.nativeDash){var l=i.getDashArray(),u=i.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=u):(t.mozDash=l,t.mozDashOffset=u))}}if(i.hasShadow()){var c=e.pixelRatio||1,h=n._shiftless().prepend((new C).scale(c,c)),f=h.transform(new m(i.getShadowBlur(),0)),d=h.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=f.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,s=e.viewMatrix,o=this._matrix,a=r[r.length-1].appended(o);if(a.isInvertible()){s=s?s.appended(a):a,r.push(a),e.updateMatrix&&(a._updateVersion=i,this._globalMatrix=a);var l,u,c,h=this._blendMode,f=this._opacity,d="normal"===h,p=ot.nativeModes[h],g=d&&1===f||e.dontStart||e.clip||(p||d&&f<1)&&this._canComposite(),v=e.pixelRatio||1;if(!g){var m=this.getStrokeBounds(s);if(!m.width||!m.height)return;c=e.offset,u=e.offset=m.getTopLeft().floor(),l=t,t=st.getContext(m.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var _=n?n.appended(o):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,y=!g&&e.clipItem,w=!_||y;if(g?(t.globalAlpha=f,p&&(t.globalCompositeOperation=h)):w&&t.translate(-u.x,-u.y),w&&(g?o:s).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(v,0,0,v,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,s,_),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(ot.process(h,t,l,f,u.subtract(c).multiply(v)),st.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof B)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var s=this._selection,o=1&s,a=2&s||o&&this._selectBounds,l=4&s;if(this._drawSelected||(o=!1),(o||a||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),f=n/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",o&&this._drawSelected(t,h,i),l){var d=this.getPosition(!0),p=d.x,g=d.y;t.beginPath(),t.arc(p,g,f,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],m=f,_=n+1,y=0;y<4;y++){var w=v[y],x=w[0],b=w[1];t.moveTo(p+x*m,g+b*m),t.lineTo(p+x*_,g+b*_),t.stroke()}}if(a){var C=h._transformCorners(this.getInternalBounds());t.beginPath();for(var y=0;y<8;y++)t[y?"lineTo":"moveTo"](C[y],C[++y]);t.closePath(),t.stroke();for(var y=0;y<8;y++)t.fillRect(C[y]-f,C[++y]-f,n,n)}}},_canComposite:function(){return!1}},c.each(["down","drag","up","move"],function(t){this["removeOn"+c.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),A=k.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=a)},_getClipItem:function(){var t=this._clipItem;if(t===a){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(e&&e.appended(i._matrix),c.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,n,i,r)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,o=r.length;s<o;s++){var a=r[s];a!==i&&a.draw(t,e)}}}),E=A.extend({_class:"Layer",initialize:function(){A.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),I=k.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&c.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=y.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(y.min(this._radius,t.divide(2))):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=y.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=y.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(R[c.capitalize(this._type)])({center:new m,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),s.settings.applyMatrix&&e.setApplyMatrix(!0),(t===a||t)&&e.insertAbove(this),e},toShape:"#clone",_draw:function(t,e,n,i){var r=this._style,s=r.hasFill(),o=r.hasStroke(),a=e.dontFinish||e.clip,l=!i;if(s||o||a){var u=this._type,c=this._radius,h="circle"===u;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var f=h?c:c.width,d=h?c:c.height,p=this._size,g=p.width,v=p.height;if(l&&"rectangle"===u&&0===f&&0===d)t.rect(-g/2,-v/2,g,v);else{var m=g/2,_=v/2,y=.44771525016920644,w=f*y,x=d*y,b=[-m,-_+d,-m,-_+x,-m+w,-_,-m+f,-_,m-f,-_,m-w,-_,m,-_+x,m,-_+d,m,_-d,m,_-x,m-w,_,m-f,_,-m+f,_,-m+w,_,-m,_-x,-m,_-d];i&&i.transform(b,b,32),t.moveTo(b[0],b[1]),t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]),m!==f&&t.lineTo(b[8],b[9]),t.bezierCurveTo(b[10],b[11],b[12],b[13],b[14],b[15]),_!==d&&t.lineTo(b[16],b[17]),t.bezierCurveTo(b[18],b[19],b[20],b[21],b[22],b[23]),m!==f&&t.lineTo(b[24],b[25]),t.bezierCurveTo(b[26],b[27],b[28],b[29],b[30],b[31])}}t.closePath()}a||!s&&!o||(this._setStyles(t,e,n),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(R._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var o=new m(s>1&&s<4?-1:1,s>2?-1:1),a=o.multiply(r),l=a.subtract(o.multiply(i)),u=new x(n?a.add(o.multiply(n)):a,l);if(u.contains(e))return{point:l,quadrant:s}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var i=t(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,o){var a=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var h=this._type,f=this._radius,d=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(R._getStrokePadding(d,!l.getStrokeScaling()&&o));if("rectangle"===h){var g=p.multiply(2),v=t(this,i,g);if(v)a=e(i.subtract(v.point),f,p,v.quadrant);else{var m=new x(this._size).setCenter(0,0),_=m.expand(g),y=m.expand(g.negate());a=_._containsPoint(i)&&!y._containsPoint(i)}}else a=e(i,f,p)}return a?new z(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var s=new I(c.getNamed(r));return s._type=t,s._size=n,s._radius=i,s.translate(e)}return{Circle:function(){var e=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"radius");return t("circle",e,new y(2*n),n,arguments)},Rectangle:function(){var e=x.readNamed(arguments,"rectangle"),n=y.min(y.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=I._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(c.hasNamed(t,"radius"))e=m.readNamed(t,"center"),n=y.readNamed(t,"radius");else{var i=x.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),M=k.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==a&&m.read(arguments,1))){var n="string"==typeof t?u.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new y,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=st.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=y.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(st.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&st.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new m(0,0).transform(t),n=new m(1,0).transform(t).subtract(e),i=new m(0,1).transform(t).subtract(e);return new y(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),i=t&&t.type||"load";e&&n.responds(i)&&(s=e._scope,n.emit(i,new Q(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&X.add(t,{load:function(i){n._setImage(t),e(i)},error:e})},_setImage:function(t){this._canvas&&st.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new y(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=st.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){st.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new o.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=x.read(arguments),e=st.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=x.read(arguments),e=new M(k.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=m.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof F?(n=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new x(t):"x"in t&&(e=new x(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=32,r=Math.min(e.width,i),s=Math.min(e.height,i),o=M._sampleContext;o?o.clearRect(0,0,i+1,i+1):o=M._sampleContext=st.getContext(new y(i)),o.save();var a=(new C).scale(r/e.width,s/e.height).translate(-e.x,-e.y);a.applyToContext(o),n&&n.draw(o,new c({clip:!0,matrices:[a]})),this._matrix.applyToContext(o);var l=this.getElement(),u=this._size;l&&o.drawImage(l,-u.width/2,-u.height/2),o.restore();for(var h=o.getImageData(.5,.5,Math.ceil(r),Math.ceil(s)).data,f=[0,0,0],d=0,p=0,g=h.length;p<g;p+=4){var v=h[p+3];d+=v,v/=255,f[0]+=h[p]*v,f[1]+=h[p+1]*v,f[2]+=h[p+2]*v}for(var p=0;p<3;p++)f[p]/=d;return d?Z.read(f):null},getPixel:function(){var t=m.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Z("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=m.read(arguments),e=Z.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),o=s.data;o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=i?255*i:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=y.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=x.read(arguments);return t.isEmpty()&&(t=new x(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=m.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new z("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),P=k.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==a&&m.read(arguments,1))||this.setDefinition(t instanceof O?t:new O(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n,i){var r=this._definition._item._hitTest(t,e,n);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),O=c.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=v.get(),this.project=s.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&k._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new m),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new P(this,t)},clone:function(){return new O(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),z=c.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(t){var e=t&&c.read(t);return c.set({type:null,tolerance:s.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),N=c.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,s){var o,l,u,c,h=arguments.length;h>0&&(null==t||"object"==typeof t?1===h&&t&&"point"in t?(o=t.point,l=t.handleIn,u=t.handleOut,c=t.selection):(o=t,l=e,u=n,c=i):(o=[t,e],l=n!==a?[n,i]:null,u=r!==a?[r,s]:null)),new L(o,this,"_point"),new L(l,this,"_handleIn"),new L(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),c.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(m.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(m.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(m.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new j(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,s=i.factor,o=this.getPrevious(),l=this.getNext(),u=(o||this)._point,c=this._point,h=(l||this)._point,f=u.getDistance(c),d=c.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(o&&l){var p=u.subtract(h),g=s===a?.4:s,v=g*f/(f+d);e||this.setHandleIn(p.multiply(v)),n||this.setHandleOut(p.multiply(v-g))}}else{var _=s===a?.5:s,y=Math.pow(f,_),w=y*y,x=Math.pow(d,_),b=x*x;if(!e&&o){var C=2*b+3*x*y+w,S=3*x*(x+y);this.setHandleIn(0!==S?new m((b*u._x+C*c._x-w*h._x)/S-c._x,(b*u._y+C*c._y-w*h._y)/S-c._y):new m)}if(!n&&l){var C=2*w+3*y*x+b,S=3*y*(y+x);this.setHandleOut(0!==S?new m((w*h._x+C*c._x-b*u._x)/S-c._x,(w*h._y+C*c._y-b*u._y)/S-c._y):new m)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new N(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new N(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,s=t._point,o=e._point,a=t._handleIn,l=e._handleIn,u=e._handleOut,c=t._handleOut;this._point._set(i*s._x+r*o._x,i*s._y+r*o._y,!0),this._handleIn._set(i*a._x+r*l._x,i*a._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,o=i._x,a=i._y,l=2;return e[0]=o,e[1]=a,r&&(e[l++]=r._x+o,e[l++]=r._y+a),s&&(e[l++]=s._x+o,e[l++]=s._y+a),t&&(t._transformCoordinates(e,e,l/2),o=e[0],a=e[1],n?(i._x=o,i._y=a,l=2,r&&(r._x=e[l++]-o,r._y=e[l++]-a),s&&(s._x=e[l++]-o,s._y=e[l++]-a)):(r||(e[l++]=o,e[l++]=a),s||(e[l++]=o,e[l++]=a))),e}}),L=m.extend({initialize:function(t,e,n){var i,r,s;if(t)if((i=t[0])!==a)r=t[1];else{var o=t;(i=o.x)===a&&(o=m.read(arguments),i=o.x),r=o.y,s=o.selected}else i=r=0;this._x=i,this._y=r,this._owner=e,e[n]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=g.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),D=c.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,s,o,a){var l,u,c,h,f,d,p=arguments.length;3===p?(this._path=t,l=e,u=n):p?1===p?"segment1"in t?(l=new N(t.segment1),u=new N(t.segment2)):"point1"in t?(c=t.point1,f=t.handle1,d=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new N(t),u=new N(e)):4===p?(c=t,f=e,d=n,h=i):8===p&&(c=[t,e],h=[o,a],f=[n-t,i-e],d=[r-o,s-a]):(l=new N,u=new N),this._segment1=l||new N(c,null,f),this._segment2=u||new N(h,d,null)},_serialize:function(t,e){return c.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=a},clone:function(){return new D(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return D.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(m.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(m.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(m.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(m.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return D.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new m(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=D.getLength(this.getValues(),0,1)),this._length},getArea:function(){return D.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new D(D.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return D.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,i=1-n,r=null;if(t>=n&&t<=i){var s=D.subdivide(this.getValues(),t),o=s[0],a=s[1],l=e||this.hasHandles(),u=this._segment1,c=this._segment2,h=this._path;l&&(u._handleOut._set(o[2]-o[0],o[3]-o[1]),c._handleIn._set(a[4]-a[6],a[5]-a[7]));var f=o[6],d=o[7],p=new N(new m(f,d),l&&new m(o[4]-f,o[5]-d),l&&new m(a[2]-f,a[3]-d));h?(h.insert(u._index+1,p),r=this.getNext()):(this._segment2=p,this._changed(),r=new D(p,c))}return r},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===a?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===a?.5:e?t:this.getTimeAt(t))},reversed:function(){return new D(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,s=t._handleOut,o=e._handleIn,a=e._point,l=r.x,u=r.y,c=a.x,h=a.y,f=i?[l,u,l,u,c,h,c,h]:[l,u,l+s._x,u+s._y,c+o._x,h+o._y,c,h];return n&&n._transformCoordinates(f,f,4),f},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7];e===a&&(e=.5);var h=1-e,f=h*n+e*r,d=h*i+e*s,p=h*r+e*o,g=h*s+e*l,v=h*o+e*u,m=h*l+e*c,_=h*f+e*p,y=h*d+e*g,w=h*p+e*v,x=h*g+e*m,b=h*_+e*w,C=h*y+e*x;return[[n,i,f,d,_,y,b,C],[b,C,w,x,v,m,u,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],s=t[i+2],o=t[i+4],a=t[i+6];if(r>=s==s>=o&&s>=o==o>=a||D.isStraight(t))n.push(t);else{var l=3*(s-o)-r+a,u=2*(r+o)-4*s,c=s-r,h=1e-8,f=1-h,d=[],p=g.solveQuadratic(l,u,c,d,h,f);if(p){d.sort();var v=d[0],m=D.subdivide(t,v);n.push(m[0]),p>1&&(v=(d[1]-v)/(1-v),m=D.subdivide(m[1],v),n.push(m[0])),n.push(m[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,s){var o=t[e],a=t[e+2],l=t[e+4],u=t[e+6],c=0;if(!(o<n&&u<n&&a<n&&l<n||o>n&&u>n&&a>n&&l>n)){var h=3*(a-o),f=3*(l-a)-h,d=u-o-h-f;c=g.solveCubic(d,f,h,o-n,i,r,s)}return c},getTimeOf:function(t,e){var n=new m(t[0],t[1]),i=new m(t[6],t[7]),r=1e-12,s=1e-7,o=e.isClose(n,r)?0:e.isClose(i,r)?1:null;if(null===o)for(var a=[e.x,e.y],l=[],u=0;u<2;u++)for(var c=D.solveCubic(t,u,a[u],l,0,1),h=0;h<c;h++){var f=l[h];if(e.isClose(D.getPoint(t,f),s))return f}return e.isClose(n,s)?0:e.isClose(i,s)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var i=e.getDistance(D.getPoint(t,n),!0);if(i<f)return f=i,d=n,!0}}if(D.isStraight(t)){var i=t[0],r=t[1],s=t[6],o=t[7],a=s-i,l=o-r,u=a*a+l*l;if(0===u)return 0;var c=((e.x-i)*a+(e.y-r)*l)/u;return c<1e-12?0:c>.999999999999?1:D.getTimeOf(t,new m(i+c*a,r+c*l))}for(var h=100,f=1/0,d=0,p=0;p<=h;p++)n(p/h);for(var g=1/(2*h);g>1e-8;)n(d-g)||n(d+g)||(g/=2);return d},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=D.subdivide(t,e)[1]),n<1&&(t=D.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=3*r-2*n-l,h=3*s-2*i-u,f=3*o-2*l-n,d=3*a-2*u-i;return Math.max(c*c,f*f)+Math.max(h*h,d*d)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7];return 3*((l-n)*(i+s)-(a-e)*(r+o)+r*(e-s)-i*(n-o)+l*(s+e/3)-a*(o+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)D._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new x(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,s,o,a,l){function u(t,e){var n=t-e,i=t+e;n<o[r]&&(o[r]=n),i>a[r]&&(a[r]=i)}s/=2;var c=o[r]-s,h=a[r]+s;if(t<c||e<c||n<c||i<c||t>h||e>h||n>h||i>h)if(e<t!=e<i&&n<t!=n<i)u(t,s),u(i,s);else{var f=3*(e-n)-t+i,d=2*(t+n)-4*e,p=e-t,v=g.solveQuadratic(f,d,p,l),m=1e-8,_=1-m;u(i,0);for(var y=0;y<v;y++){var w=l[y],x=1-w;m<=w&&w<=_&&u(x*x*x*t+3*x*x*w*e+3*x*w*w*n+w*w*w*i,s)}}}}},c.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=R[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),c.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var s=new S(t,i),o=1e-7;if(s.getDistance(t.add(e))<o&&s.getDistance(i.add(n))<o){var a=r.dot(r),l=r.dot(e)/a,u=r.dot(n)/a;return l>=0&&l<=1&&u<=0&&u>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],s=e[6],o=e[7];return t(new m(i,r),new m(e[2]-i,e[3]-r),new m(e[4]-s,e[5]-o),new m(s,o),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new j(this,t):null},getTimeAt:function(t,e){return D.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(m.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);
return t?t.getOffset():null},getTimeOf:function(){return D.getTimeOf(this.getValues(),m.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=m.read(arguments),e=this.getValues(),n=D.getNearestTime(e,t),i=D.getPoint(e,n);return new j(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return c.each(t,function(t){this[t+"At"]=function(e,n){var i=this.getValues();return D[t](i,n?e:D.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return D[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=9*(i-s)+3*(a-e),c=6*(e+s)-12*i,h=3*(i-e),f=9*(r-o)+3*(l-n),d=6*(n+o)-12*r,p=3*(r-n);return function(t){var e=(u*t+c)*t+h,n=(f*t+d)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],c=t[6],h=t[7],f=g.isZero;f(o-r)&&f(a-s)&&(o=r,a=s),f(l-c)&&f(u-h)&&(l=c,u=h);var d,p,v=3*(o-r),_=3*(l-o)-v,y=c-r-v-_,w=3*(a-s),x=3*(u-a)-w,b=h-s-w-x;if(0===n)d=0===e?r:1===e?c:((y*e+_)*e+v)*e+r,p=0===e?s:1===e?h:((b*e+x)*e+w)*e+s;else{var C=1e-8,S=1-C;if(e<C?(d=v,p=w):e>S?(d=3*(c-l),p=3*(h-u)):(d=(3*y*e+2*_)*e+v,p=(3*b*e+2*x)*e+w),i){0===d&&0===p&&(e<C||e>S)&&(d=l-o,p=u-a);var T=Math.sqrt(d*d+p*p);T&&(d/=T,p/=T)}if(3===n){var l=6*y*e+2*_,u=6*b*e+2*x,k=Math.pow(d*d+p*p,1.5);d=0!==k?(d*u-p*l)/k:0,p=0}}return 2===n?new m(p,-d):new m(d,p)}return{statics:{classify:function(t){function e(t,e,n){var i=e!==a,r=i&&e>0&&e<1,s=i&&n>0&&n<1;return!i||(r||s)&&("loop"!==t||r&&s)||(t="arch",r=s=!1),{type:t,roots:r||s?r&&s?e<n?[e,n]:[n,e]:[r?e:n]:null}}var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],h=n*(c-l)+i*(o-u)+u*l-c*o,f=r*(i-c)+s*(u-n)+n*c-i*u,d=o*(s-i)+l*(n-r)+r*i-s*n,p=3*d,v=p-f,m=v-f+h,_=Math.sqrt(m*m+v*v+p*p),y=0!==_?1/_:0,w=g.isZero,x="serpentine";if(m*=y,v*=y,p*=y,w(m))return w(v)?e(w(p)?"line":"quadratic"):e(x,p/(3*v));var b=3*v*v-4*m*p;if(w(b))return e("cusp",v/(2*m));var C=b>0?Math.sqrt(b/3):Math.sqrt(-b),S=2*m;return e(b>0?x:"loop",(v+C)/S,(v-C)/S)},getLength:function(n,i,r,s){if(i===a&&(i=0),r===a&&(r=1),D.isStraight(n)){var o=n;r<1&&(o=D.subdivide(o,r)[0],i/=r),i>0&&(o=D.subdivide(o,i)[1]);var l=o[6]-o[0],u=o[7]-o[1];return Math.sqrt(l*l+u*u)}return g.integrate(s||t(n),i,r,e(i,r))},getTimeAt:function(n,i,r){function s(t){return m+=g.integrate(f,r,t,e(r,t)),r=t,m-i}if(r===a&&(r=i<0?1:0),0===i)return r;var o=Math.abs,l=1e-12,u=i>0,c=u?r:0,h=u?1:r,f=t(n),d=D.getLength(n,c,h,f),p=o(i)-d;if(o(p)<l)return u?h:c;if(p>l)return null;var v=i/d,m=0;return g.findRoot(s,f,r+v,c,h,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=-e+3*i-3*s+a,c=3*e-6*i+3*s,h=-3*e+3*i,f=-n+3*r-3*o+l,d=3*n-6*r+3*o,p=-3*n+3*r,v=1e-8,m=1-v,_=[];return g.solveCubic(9*(u*u+f*f),9*(u*c+d*f),2*(c*c+d*d)+3*(h*u+p*f),h*c+d*p,_,v,m),_.sort()}}}},new function(){function t(t,e,n,i,r,s,o,a,l){var u=!l&&n.getPrevious()===s,c=!l&&n!==s&&n.getNext()===s,h=1e-8,f=1-h;if(null==i&&(i=n.getTimeOf(r)),null!==i&&i>=(u?h:0)&&i<=(c?f:1)&&(null==o&&(o=s.getTimeOf(a)),null!==o&&o>=(c?h:0)&&o<=(u?f:1))){var d=new j(n,i,r||n.getPointAtTime(i),l),p=new j(s,o,a||s.getPointAtTime(o),l);d._intersection=p,p._intersection=d,e&&!e(d)||j.insert(t,d,!0)}}function e(r,s,o,a,l,u,c,h,f,d,p,g,v){if(++f>=4096||++h>=40)return f;var m,_,y=1e-9,w=s[0],x=s[1],b=s[6],C=s[7],T=S.getSignedDistance,k=T(w,x,b,C,s[2],s[3]),A=T(w,x,b,C,s[4],s[5]),E=k*A>0?.75:4/9,I=E*Math.min(0,k,A),M=E*Math.max(0,k,A),P=T(w,x,b,C,r[0],r[1]),O=T(w,x,b,C,r[2],r[3]),z=T(w,x,b,C,r[4],r[5]),N=T(w,x,b,C,r[6],r[7]),L=n(P,O,z,N),j=L[0],F=L[1];if(0===k&&0===A&&0===P&&0===O&&0===z&&0===N||null==(m=i(j,F,I,M))||null==(_=i(j.reverse(),F.reverse(),I,M)))return f;var R=d+(p-d)*m,B=d+(p-d)*_;if(Math.max(v-g,B-R)<y){var q=(R+B)/2,H=(g+v)/2;t(l,u,c?a:o,c?H:q,null,c?o:a,c?q:H,null)}else if(r=D.getPart(r,m,_),_-m>.8)if(B-R>v-g){var W=D.subdivide(r,.5),q=(R+B)/2;f=e(s,W[0],a,o,l,u,!c,h,f,g,v,R,q),f=e(s,W[1],a,o,l,u,!c,h,f,g,v,q,B)}else{var W=D.subdivide(s,.5),H=(g+v)/2;f=e(W[0],r,a,o,l,u,!c,h,f,g,H,R,B),f=e(W[1],r,a,o,l,u,!c,h,f,H,v,R,B)}else f=v-g>=y?e(s,r,a,o,l,u,!c,h,f,g,v,R,B):e(r,s,o,a,l,u,c,h,f,R,B,g,v);return f}function n(t,e,n,i){var r,s=[0,t],o=[1/3,e],a=[2/3,n],l=[1,i],u=e-(2*t+i)/3,c=n-(t+2*i)/3;if(u*c<0)r=[[s,o,l],[s,a,l]];else{var h=u/c;r=[h>=2?[s,o,l]:h<=.5?[s,a,l]:[s,o,a,l],[s,l]]}return(u||c)<0?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],s=1,o=t.length;s<o;s++){var a=t[s][0],l=t[s][1];if(e?l>=n:l<=n)return l===n?a:i+(n-r)*(a-i)/(l-r);i=a,r=l}return null}function s(t,e,n,i,r){var s=g.isZero;if(s(i)&&s(r)){var o=D.getTimeOf(t,new m(e,n));return null===o?[]:[o]}for(var a=Math.atan2(-r,i),l=Math.sin(a),u=Math.cos(a),c=[],h=[],f=0;f<8;f+=2){var d=t[f]-e,p=t[f+1]-n;c.push(d*u-p*l,d*l+p*u)}return D.solveCubic(c,1,0,h,0,1),h}function o(e,n,i,r,o,a,l){for(var u=n[0],c=n[1],h=n[6],f=n[7],d=s(e,u,c,h-u,f-c),p=0,g=d.length;p<g;p++){var v=d[p],m=D.getPoint(e,v),_=D.getTimeOf(n,m);if(null!==_){var y=D.getPoint(n,_);t(o,a,l?r:i,l?_:v,l?y:m,l?i:r,l?v:_,l?m:y)}}}function a(e,n,i,r,s,o){var a=S.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);a&&t(s,o,i,null,a,r,null,a)}function l(n,i,r,s,l,u){var c=1e-12,f=Math.min,d=Math.max;if(d(n[0],n[2],n[4],n[6])+c>f(i[0],i[2],i[4],i[6])&&f(n[0],n[2],n[4],n[6])-c<d(i[0],i[2],i[4],i[6])&&d(n[1],n[3],n[5],n[7])+c>f(i[1],i[3],i[5],i[7])&&f(n[1],n[3],n[5],n[7])-c<d(i[1],i[3],i[5],i[7])){var p=h(n,i);if(p)for(var g=0;g<2;g++){var v=p[g];t(l,u,r,v[0],null,s,v[1],null,!0)}else{var m=D.isStraight(n),_=D.isStraight(i),y=m&&_,w=m&&!_;(y?a:m||_?o:e)(w?i:n,w?n:i,w?s:r,w?r:s,l,u,w,0,0,0,1,0,1)}}return l}function u(e,n,i,r){var s=D.classify(e);if("loop"===s.type){var o=s.roots;t(i,r,n,o[0],null,n,o[1],null)}return i}function c(t,e,n,i,r,s){var o=!e;o&&(e=t);for(var a,c,h=t.length,f=e.length,d=[],p=[],g=0;g<f;g++)d[g]=e[g].getValues(r);for(var g=0;g<h;g++){var v=t[g],m=o?d[g]:v.getValues(i),_=v.getPath();_!==c&&(c=_,a=[],p.push(a)),o&&u(m,v,a,n);for(var y=o?g+1:0;y<f;y++){if(s&&a.length)return a;l(m,d[y],v,e[y],a,n)}}a=[];for(var g=0,w=p.length;g<w;g++)a.push.apply(a,p[g]);return a}function h(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=S.getDistance,s=1e-8,o=1e-7,a=D.isStraight(t),l=D.isStraight(e),u=a&&l,c=n(t)<n(e),h=c?e:t,f=c?t:e,d=h[0],p=h[1],g=h[6]-d,v=h[7]-p;if(r(d,p,g,v,f[0],f[1],!0)<o&&r(d,p,g,v,f[6],f[7],!0)<o)!u&&r(d,p,g,v,h[2],h[3],!0)<o&&r(d,p,g,v,h[4],h[5],!0)<o&&r(d,p,g,v,f[2],f[3],!0)<o&&r(d,p,g,v,f[4],f[5],!0)<o&&(a=l=u=!0);else if(u)return null;if(a^l)return null;for(var _=[t,e],y=[],w=0;w<4&&y.length<2;w++){var x=1&w,b=1^x,C=w>>1,T=D.getTimeOf(_[x],new m(_[b][C?6:0],_[b][C?7:1]));if(null!=T){var k=x?[C,T]:[T,C];(!y.length||i(k[0]-y[0][0])>s&&i(k[1]-y[0][1])>s)&&y.push(k)}if(w>2&&!y.length)break}if(2!==y.length)y=null;else if(!u){var A=D.getPart(t,y[0][0],y[1][0]),E=D.getPart(e,y[0][1],y[1][1]);(i(E[2]-A[2])>o||i(E[3]-A[3])>o||i(E[4]-A[4])>o||i(E[5]-A[5])>o)&&(y=null)}return y}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?l(e,n,this,t,[]):u(e,this,[])},statics:{getOverlaps:h,getIntersections:c,getCurveLineIntersections:s}}}),j=c.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof j){var i=this.getCurve(),r=t.getCurve(),s=i._path,o=r._path;if(s===o){var a=Math.abs,l=1e-7,u=a(this.getOffset()-t.getOffset()),c=!e&&this._intersection,h=!e&&t._intersection;n=(u<l||s&&a(s.getLength()-u)<l)&&(!c&&!h||c&&h&&c.equals(h,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=p.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),i=D.classify(n).roots||D.getPeaks(n),r=i.length,s=e&&r>1?i[r-1]:r>0?i[0]:.5;d.push(D.getLength(n,e?s:0,e?1:s)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var i=this.getTime(),r=n.getTime(),s=1e-8,o=1-s,a=i>=s&&i<=o,l=r>=s&&r<=o;if(a&&l)return!this.isTouching();var u=this.getCurve(),c=i<s?u.getPrevious():u,h=n.getCurve(),f=r<s?h.getPrevious():h;if(i>o&&(u=u.getNext()),r>o&&(h=h.getNext()),!(c&&u&&f&&h))return!1;var d=[];a||(t(c,!0),t(u,!1)),l||(t(f,!0),t(h,!1));var p=this.getPoint(),g=Math.min.apply(Math,d),v=a?u.getTangentAtTime(i):u.getPointAt(g).subtract(p),m=a?v.negate():c.getPointAt(-g).subtract(p),_=l?h.getTangentAtTime(r):h.getPointAt(g).subtract(p),y=l?_.negate():f.getPointAt(-g).subtract(p),w=m.getAngle(),x=v.getAngle(),b=y.getAngle(),C=_.getAngle();return!!(a?e(w,b,C)^e(x,b,C)&&e(w,C,b)^e(x,C,b):e(b,w,x)^e(C,w,x)&&e(b,x,w)^e(C,x,w))},hasOverlap:function(){return!!this._overlap}},c.each(D._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function i(n,i){for(var s=n+i;s>=-1&&s<=r;s+=i){var o=t[(s%r+r)%r];if(!e.getPoint().isClose(o.getPoint(),1e-7))break;if(e.equals(o))return o}return null}for(var r=t.length,s=0,o=r-1;s<=o;){var a,l=s+o>>>1,u=t[l];if(n&&(a=e.equals(u)?u:i(l,-1)||i(l,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=e.getPath(),h=u.getPath(),f=c!==h?c._id-h._id:e.getIndex()+e.getTime()-(u.getIndex()+u.getTime());f<0?o=l-1:s=l+1}return t.splice(s,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),F=k.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(c.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var s=i?B:R;return new s(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+i[t];return a&&(n+=l[e]),n}function n(t){return new m(e(t,"x"),e(t+1,"y"))}var i,r,s,o=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,l=new m,u=new m;this.clear();for(var c=0,h=o&&o.length;c<h;c++){var f=o[c],d=f[0],p=d.toLowerCase();i=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=i&&i.length;switch(a=d===p,"z"!==r||/[mz]/.test(p)||this.moveTo(l),p){case"m":case"l":for(var v="m"===p,_=0;_<g;_+=2)this[v?"moveTo":"lineTo"](l=n(_)),v&&(u=l,v=!1);s=l;break;case"h":case"v":var w="h"===p?"x":"y";l=l.clone();for(var _=0;_<g;_++)l[w]=e(_,w),this.lineTo(l);s=l;break;case"c":for(var _=0;_<g;_+=6)this.cubicCurveTo(n(_),s=n(_+2),l=n(_+4));break;case"s":for(var _=0;_<g;_+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(s):l,s=n(_),l=n(_+2)),r=p;break;case"q":for(var _=0;_<g;_+=4)this.quadraticCurveTo(s=n(_),l=n(_+2));break;case"t":for(var _=0;_<g;_+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?l.multiply(2).subtract(s):l,l=n(_)),r=p;break;case"a":for(var _=0;_<g;_+=7)this.arcTo(l=n(_+5),new y(+i[_],+i[_+1]),+i[_+2],+i[_+4],+i[_+3]);break;case"z":this.closePath(1e-12),l=u}r=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),o=r?s:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).touches(t.getBounds(o))?D.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,o,i):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=m.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,s=e.length;r<s;r++){var o=e[r].getNearestLocation(t);o._distance<n&&(n=o._distance,i=o)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",s=t[r],o=e[r],a=this[r];if(!s||!o||s.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=a.length,u=o.length;if(l<u)for(var c=i?N:R,h=l;h<u;h++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(var h=0;h<u;h++)a[h].interpolate(s[h],o[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,s=i.length,o=[],a=0;e=!0;for(var l=r-1;l>=0&&e;l--){var u=n[l];e=!1;for(var c=s-1;c>=0&&!e;c--)u.compare(i[c])&&(o[c]||(o[c]=!0,a++),e=!0)}e=e&&a===s}return e}}),R=F.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==a||t.x===a&&t.point===a?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=a,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&c.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=a,16&e)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 32&e&&(this._bounds=a)},getStyle:function(){var t=this._parent;return(t instanceof B?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,n){var i=t[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(N.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new D(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new D(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,g),i=g[0],r=g[1],v)m.push("M"+d.pair(i,r)),v=!1;else if(a=g[2],l=g[3],a===i&&l===r&&u===s&&c===o){if(!n){var h=i-s,f=r-o;m.push(0===h?"v"+d.number(f):0===f?"h"+d.number(h):"l"+d.pair(h,f))}}else m.push("c"+d.pair(u-s,c-o)+" "+d.pair(a-s,l-o)+" "+d.pair(i-s,r-o));s=i,o=r,u=g[4],c=g[5]}var i,r,s,o,a,l,u,c,h=this._segments,f=h.length,d=new p(e),g=new Array(6),v=!0,m=[];if(!f)return"";for(var _=0;_<f;_++)n(h[_]);return this._closed&&f>0&&(n(h[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,s=null==e,e=s?n.length:e,o=0;o<r;o++){var a=t[o];a._path&&(a=t[o]=a.clone()),a._path=this,a._index=e+o,a._selection&&this._updateSelection(a,0,a._selection)}if(s)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var o=e+r,l=n.length;o<l;o++)n[o]._index=o}if(i){var u=this._countCurves(),c=e>0&&e+r-1===u?e-1:e,h=c,f=Math.min(c+r,u);t._curves&&(i.splice.apply(i,[c,0].concat(t._curves)),h+=t._curves.length);for(var o=h;o<f;o++)i.splice(o,0,new D(this,null,null));this._adjustCurves(c,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,s=t;s<e;s++)n=r[s],n._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(N.readList(arguments)):this._add([N.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(N.readList(arguments,1),t):this._add([N.read(arguments,1)],t)[0]},addSegment:function(){return this._add([N.read(arguments)])[0]},insertSegment:function(t){return this._add([N.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(N.readList(t))},insertSegments:function(t,e){return this._add(N.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=c.pick(e,this._segments.length);var i=this._segments,r=this._curves,s=i.length,o=i.splice(t,e-t),a=o.length;if(!a)return o;for(var l=0;l<a;l++){var u=o[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}for(var l=t,h=i.length;l<h;l++)i[l]._index=l;if(r){for(var f=t>0&&e===s+(this._closed?1:0)?t-1:t,r=r.splice(f,a),l=r.length-1;l>=0;l--)r[l]._path=null;n&&(o._curves=r.slice(1)),this._adjustCurves(f,f)}return this._changed(25),o},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var s=i+1===r;t+=D.getArea(D.getValues(e[i],e[s?0:i+1],null,s&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n;var i=this._segmentSelection+=n-e;i>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time,r=1e-8,s=1-r;i>s&&(n++,i=0);var o=this.getCurves();if(n>=0&&n<o.length){i>=r&&o[n++].divideAtTime(i);var a,l=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):(a=new R(k.NO_INSERT),a.insertAbove(this),a.copyAttributes(this)),a._add(l,0),this.addSegment(l[0]),a}return null},split:function(t,e){var n,i=e===a?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&t.reverse();var o=t.getFirstSegment();if(r&&r._point.isClose(o._point,n))r.setHandleOut(o._handleOut),this._add(i.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(o._point,n)&&t.reverse(),s=t.getLastSegment(),a&&a._point.isClose(s._point,n)?(a.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new q(this,t||.25,256,!0),n=e.parts,i=n.length,r=[],s=0;s<i;s++)r.push(new N(n[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new N(n[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new H(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==n)throw new Error(t._class+" "+i+" of "+r+" is not part of "+n);e&&t instanceof D&&i++}else i="number"==typeof t?t:e;return Math.min(i<0&&l?i%o:i<0?i+o:i,o-1)}var n=this,i=t||{},r=i.type||"asymmetric",s=this._segments,o=s.length,l=this._closed,u=l&&i.from===a&&i.to===a,c=e(i.from,0),h=e(i.to,o-1);if(c>h)if(l)c-=o;else{var f=c;c=h,h=f}if(/^(?:asymmetric|continuous)$/.test(r)){var d="asymmetric"===r,p=Math.min,g=h-c+1,v=g-1,m=u?p(g,4):1,_=m,y=m,w=[];if(l||(_=p(1,c),y=p(1,o-h-1)),v+=_+y,v<=1)return;for(var x=0,b=c-_;x<=v;x++,b++)w[x]=s[(b<0?b+o:b)%o]._point;for(var C=w[0]._x+2*w[1]._x,S=w[0]._y+2*w[1]._y,T=2,k=v-1,A=[C],E=[S],I=[T],M=[],P=[],x=1;x<v;x++){var O=x<k,z=O?1:d?1:2,N=O?4:d?2:7,L=O?4:d?3:8,j=O?2:d?0:1,F=z/T;T=I[x]=N-F,C=A[x]=L*w[x]._x+j*w[x+1]._x-F*C,S=E[x]=L*w[x]._y+j*w[x+1]._y-F*S}M[k]=A[k]/I[k],P[k]=E[k]/I[k];for(var x=v-2;x>=0;x--)M[x]=(A[x]-M[x+1])/I[x],P[x]=(E[x]-P[x+1])/I[x];M[v]=(3*w[v]._x-M[k])/2,P[v]=(3*w[v]._y-P[k])/2;for(var x=_,R=v-y,b=c;x<=R;x++,b++){var B=s[b<0?b+o:b],q=B._point,H=M[x]-q._x,W=P[x]-q._y;(u||x<R)&&B.setHandleOut(H,W),(u||x>_)&&B.setHandleIn(-H,-W)}}else for(var x=c;x<=h;x++)s[x<0?x+o:x].smooth(i,!u&&x===c,!u&&x===h)},toShape:function(t){function e(t,e){var n=c[t],i=n.getNext(),r=c[e],s=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))}function n(t){var e=c[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}function i(t){var e=c[t],n=e.getNext(),i=e._handleOut,r=n._handleIn,s=.5522847498307936;if(i.isOrthogonal(r)){var o=e._point,a=n._point,l=new S(o,i,!0).intersect(new S(a,r,!0),!0);return l&&g.isZero(i.getLength()/l.subtract(o).getLength()-s)&&g.isZero(r.getLength()/l.subtract(a).getLength()-s)}return!1}function r(t,e){return c[t]._point.getDistance(c[e]._point)}if(!this._closed)return null;var s,o,l,u,c=this._segments;if(!this.hasHandles()&&4===c.length&&e(0,2)&&e(1,3)&&n(1)?(s=I.Rectangle,o=new y(r(0,3),r(0,1)),u=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&i(0)&&i(2)&&i(4)&&i(6)&&e(1,5)&&e(3,7)?(s=I.Rectangle,o=new y(r(1,6),r(0,3)),l=o.subtract(new y(r(0,7),r(1,2))).divide(2),u=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&i(0)&&i(1)&&i(2)&&i(3)&&(g.isZero(r(0,2)-r(1,3))?(s=I.Circle,l=r(0,2)/2):(s=I.Ellipse,l=new y(r(2,0)/2,r(3,1)/2)),u=c[1]._point),s){var h=this.getPosition(!0),f=new s({center:h,size:o,radius:l,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(u.subtract(h).getAngle()+90),(t===a||t)&&f.insertAbove(this),f}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof B)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),r=n.length,s=i.length;if(!r||!s)return r==s;for(var o,a,l=n[0].getValues(),u=[],c=0,h=0,f=0;f<s;f++){var d=i[f].getValues();u.push(d);var p=D.getOverlaps(l,d);if(p){o=!f&&p[0][0]>0?s-1:f,a=p[0][1];break}}for(var g,v=Math.abs,m=1e-8,d=u[o];l&&d;){var p=D.getOverlaps(l,d);if(p){var _=p[0][0];if(v(_-h)<m){h=p[1][0],1===h&&(l=++c<r?n[c].getValues():null,h=0);var y=p[0][1];if(v(y-a)<m){if(g||(g=[o,y]),a=p[1][1],1===a&&(++o>=s&&(o=0),d=u[o]||i[o].getValues(),a=0),!l)return g[0]===o&&g[1]===a;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){function r(e,n){return t.subtract(e).divide(n).length<=1}function s(t,n,i){if(!e.selected||n.isSelected()){var s=t._point;if(n!==s&&(n=n.add(s)),r(n,x))return new z(i,g,{segment:t,point:n})}}function o(t,n){return(n||e.segments)&&s(t,t._point,"segment")||!n&&e.handles&&(s(t,t._handleIn,"handle-in")||s(t,t._handleOut,"handle-out"))}function a(t){f.add(t)}function l(e){var n=y||e._index>0&&e._index<_-1;if("round"===(n?u:c))return r(e._point,x);if(f=new R({internal:!0,closed:!0}),n?e.isSmooth()||R._addBevelJoin(e,u,T,h,null,i,a,!0):"square"===c&&R._addSquareCap(e,c,T,null,i,a,!0),!f.isEmpty()){var s;return f.contains(t)||(s=f.getNearestLocation(t))&&r(s.getPoint(),w)}}var u,c,h,f,d,p,g=this,v=this.getStyle(),m=this._segments,_=m.length,y=this._closed,w=e._tolerancePadding,x=w,b=e.stroke&&v.hasStroke(),C=e.fill&&v.hasFill(),S=e.curves,T=b?v.getStrokeWidth()/2:C&&e.tolerance>0||S?0:null;if(null!==T&&(T>0?(u=v.getStrokeJoin(),c=v.getStrokeCap(),h=v.getMiterLimit(),x=x.add(R._getStrokePadding(T,i))):u=c="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(var k=0;k<_;k++)if(p=o(m[k]))return p}else if(p=o(m[0],!0)||o(m[_-1],!0))return p;if(null!==T){if(d=this.getNearestLocation(t)){var A=d.getTime();0===A||1===A&&_>1?l(d.getSegment())||(d=null):r(d.getPoint(),x)||(d=null)}if(!d&&"miter"===u&&_>1)for(var k=0;k<_;k++){var E=m[k];if(t.getDistance(E._point)<=h*T&&l(E)){d=E.getLocation();break}}}return!d&&C&&this._contains(t)||d&&!b&&!S?new z("fill",this):d?new z(b?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=m.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var s=n,o=e[i];if(n+=o.getLength(),n>t)return o.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new j(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,i){function r(e){var n=l[e],i=l[e+1];s==n&&o==i||(t.beginPath(),t.moveTo(s,o),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,a,0,2*Math.PI,!0),t.fill())}for(var s,o,a=i/2,l=new Array(6),u=0,c=e.length;u<c;u++){var h=e[u],f=h._selection;if(h._transformCoordinates(n,l),s=l[0],o=l[1],2&f&&r(2),4&f&&r(4),t.fillRect(s-a,o-a,i,i),!(1&f)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(s-a+1,o-a+1,i-2,i-2),t.fillStyle=d}}}function e(t,e,n){function i(e){if(n)e._transformCoordinates(n,p),r=p[0],s=p[1];else{var i=e._point;r=i._x,s=i._y}if(g)t.moveTo(r,s),g=!1;else{if(n)l=p[2],u=p[3];else{var f=e._handleIn;l=r+f._x,u=s+f._y}l===r&&u===s&&c===o&&h===a?t.lineTo(r,s):t.bezierCurveTo(c,h,l,u,r,s)}if(o=r,a=s,n)c=p[4],h=p[5];else{var f=e._handleOut;c=o+f._x,h=a+f._y}}for(var r,s,o,a,l,u,c,h,f=e._segments,d=f.length,p=new Array(6),g=!0,v=0;v<d;v++)i(f[v]);e._closed&&d>0&&i(f[0])}return{_draw:function(t,n,i,r){function o(t){return f[(t%d+d)%d]}var a=n.dontStart,l=n.dontFinish||n.clip,u=this.getStyle(),c=u.hasFill(),h=u.hasStroke(),f=u.getDashArray(),d=!s.support.nativeDash&&h&&f&&f.length;if(a||t.beginPath(),(c||h&&!d||l)&&(e(t,this,r),this._closed&&t.closePath()),!l&&(c||h)&&(this._setStyles(t,n,i),c&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h)){if(d){a||t.beginPath();var p,g=new q(this,.25,32,!1,r),v=g.length,m=-u.getDashOffset(),_=0;for(m%=v;m>0;)m-=o(_--)+o(_--);for(;m<v;)p=m+o(_++),(m>0||p>0)&&g.drawPart(t,Math.max(m,0),Math.max(p,0)),m=p+o(_++)}t.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,s.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new N(m.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new N(m.read(arguments))])},cubicCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=m.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new N(i,n.subtract(i))])},quadraticCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=t(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=c.pick(c.read(arguments),.5),r=1-i,s=t(this)._point,o=e.subtract(s.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);
if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(o,n)},arcTo:function(){var e,n,i,r,s,o=Math.abs,a=Math.sqrt,l=t(this),u=l._point,h=m.read(arguments),f=c.peek(arguments),d=c.pick(f,!0);if("boolean"==typeof d)var p=u.add(h).divide(2),e=p.add(p.subtract(u).rotate(d?-90:90));else if(c.remain(arguments)<=2)e=h,h=m.read(arguments);else{var v=y.read(arguments),_=g.isZero;if(_(v.width)||_(v.height))return this.lineTo(h);var w=c.read(arguments),d=!!c.read(arguments),x=!!c.read(arguments),p=u.add(h).divide(2),b=u.subtract(p).rotate(-w),T=b.x,k=b.y,A=o(v.width),E=o(v.height),I=A*A,M=E*E,P=T*T,O=k*k,z=a(P/I+O/M);if(z>1&&(A*=z,E*=z,I=A*A,M=E*E),z=(I*M-I*O-M*P)/(I*O+M*P),o(z)<1e-12&&(z=0),z<0)throw new Error("Cannot create an arc with the given arguments");n=new m(A*k/E,-E*T/A).multiply((x===d?-1:1)*a(z)).rotate(w).add(p),s=(new C).translate(n).rotate(w).scale(A,E),r=s._inverseTransform(u),i=r.getDirectedAngle(s._inverseTransform(h)),!d&&i>0?i-=360:d&&i<0&&(i+=360)}if(e){var L=new S(u.add(e).divide(2),e.subtract(u).rotate(90),!0),D=new S(e.add(h).divide(2),h.subtract(e).rotate(90),!0),j=new S(u,h),F=j.getSide(e);if(n=L.intersect(D,!0),!n){if(!F)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}r=u.subtract(n),i=r.getDirectedAngle(h.subtract(n));var R=j.getSide(n);0===R?i=F*o(i):F===R&&(i+=i<0?360:-360)}for(var B=1e-12,q=o(i),H=q>=360?4:Math.ceil((q-B)/90),W=i/H,V=W*Math.PI/360,Z=4/3*Math.sin(V)/(1+Math.cos(V)),U=[],$=0;$<=H;$++){var b=h,K=null;if($<H&&(K=r.rotate(90).multiply(Z),s?(b=s._transformPoint(r),K=s._transformPoint(r.add(K)).subtract(b)):b=n.add(r)),$){var G=r.rotate(-90).multiply(Z);s&&(G=s._transformPoint(r.add(G)).subtract(b)),U.push(new N(b,G,K))}else l.setHandleOut(K);r=r.rotate(W)}this._add(U)},lineBy:function(){var e=m.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=c.read(arguments),r=t(this)._point;this.curveTo(r.add(e),r.add(n),i)},cubicCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=m.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(n),r.add(i))},quadraticCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=t(this)._point;this.quadraticCurveTo(i.add(e),i.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(m.read(arguments)),i=c.pick(c.peek(arguments),!0);"boolean"==typeof i?this.arcTo(n,i):this.arcTo(n,e.add(m.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return R[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,s){function o(t){t._transformCoordinates(i,l);for(var e=0;e<2;e++)D._addBounds(u[e],u[e+4],l[e+2],l[e],e,s?s[e]:0,c,h,f);var n=u;u=l,l=n}var a=t[0];if(!a)return new x;for(var l=new Array(6),u=a._transformCoordinates(i,new Array(6)),c=u.slice(0,2),h=c.slice(),f=new Array(2),d=1,p=t.length;d<p;d++)o(t[d]);return e&&o(a),new x(c[0],c[1],h[0]-c[0],h[1]-c[1])},getStrokeBounds:function(t,e,n,i,r){function s(t){p=p.include(t)}function o(t){p=p.unite(w.setCenter(t._point.transform(i)))}function a(t,e){"round"===e||t.isSmooth()?o(t):R._addBevelJoin(t,e,g,_,i,f,s)}function l(t,e){"round"===e?o(t):R._addSquareCap(t,e,g,i,f,s)}var u=n.getStyle(),c=u.hasStroke(),h=u.getStrokeWidth(),f=c&&n._getStrokeMatrix(i,r),d=c&&R._getStrokePadding(h,f),p=R.getBounds(t,e,n,i,r,d);if(!c)return p;for(var g=h/2,v=u.getStrokeJoin(),m=u.getStrokeCap(),_=u.getMiterLimit(),w=new x(new y(d)),b=t.length-(e?0:1),C=1;C<b;C++)a(t[C],v);return e?a(t[0],v):b>0&&(l(t[0],m),l(t[t.length-1],m)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new m(t,0).transform(e),i=new m(0,t).transform(e),r=n.getAngleInRadians(),s=n.getLength(),o=i.getLength(),a=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(o*u,s),h=Math.atan2(o,u*s);return[Math.abs(s*Math.cos(c)*l+o*Math.sin(c)*a),Math.abs(o*Math.sin(h)*l+s*Math.cos(h)*a)]},_addBevelJoin:function(t,e,n,i,r,s,o,a){var l=t.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(n).transform(s),f=l.getNormalAtTime(0).multiply(n).transform(s);if(h.getDirectedAngle(f)<0&&(h=h.negate(),f=f.negate()),a&&o(c),o(c.add(h)),"miter"===e){var d=new S(c.add(h),new m(-h.y,h.x),!0).intersect(new S(c.add(f),new m(-f.y,f.x),!0),!0);d&&c.getDistance(d)<=i*n&&o(d)}o(c.add(f))},_addSquareCap:function(t,e,n,i,r,s,o){var a=t._point.transform(i),l=t.getLocation(),u=l.getNormal().multiply(n).transform(r);"square"===e&&(o&&(s(a.subtract(u)),s(a.add(u))),a=a.add(u.rotate(0===l.getTime()?-90:90))),s(a.add(u)),s(a.subtract(u))},getHandleBounds:function(t,e,n,i,r){var s,o,a=n.getStyle(),l=r.stroke&&a.hasStroke();if(l){var u=n._getStrokeMatrix(i,r),c=a.getStrokeWidth()/2,h=c;"miter"===a.getStrokeJoin()&&(h=c*a.getMiterLimit()),"square"===a.getStrokeCap()&&(h=Math.max(h,c*Math.SQRT2)),s=R._getStrokePadding(c,u),o=R._getStrokePadding(h,u)}for(var f=new Array(6),d=1/0,p=-d,g=d,v=p,m=0,_=t.length;m<_;m++){var y=t[m];y._transformCoordinates(i,f);for(var w=0;w<6;w+=2){var b=w?s:o,C=b?b[0]:0,S=b?b[1]:0,T=f[w],k=f[w+1],A=T-C,E=T+C,I=k-S,M=k+S;A<d&&(d=A),E>p&&(p=E),I<g&&(g=I),M>v&&(v=M)}}return new x(d,g,p-d,v-g)}}});R.inject({statics:new function(){function t(t,e,n){var i=c.getNamed(n),r=new R(i&&i.insert===!1&&k.NO_INSERT);return r._add(t),r._closed=e,r.set(i)}function e(e,n,r){for(var s=new Array(4),o=0;o<4;o++){var a=i[o];s[o]=new N(a._point.multiply(n).add(e),a._handleIn.multiply(n),a._handleOut.multiply(n))}return t(s,!0,r)}var n=.5522847498307936,i=[new N([-1,0],[0,n],[0,-n]),new N([0,-1],[-n,0],[n,0]),new N([1,0],[0,-n],[0,n]),new N([0,1],[n,0],[-n,0])];return{Line:function(){return t([new N(m.readNamed(arguments,"from")),new N(m.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"radius");return e(t,new y(n),arguments)},Rectangle:function(){var e,i=x.readNamed(arguments,"rectangle"),r=y.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),o=i.getTopLeft(!0),a=i.getTopRight(!0),l=i.getBottomRight(!0);if(!r||r.isZero())e=[new N(s),new N(o),new N(a),new N(l)];else{r=y.min(r,i.getSize(!0).divide(2));var u=r.width,c=r.height,h=u*n,f=c*n;e=[new N(s.add(u,0),null,[-h,0]),new N(s.subtract(0,c),[0,f]),new N(o.add(0,c),null,[0,-f]),new N(o.add(u,0),[-h,0],null),new N(a.subtract(u,0),null,[h,0]),new N(a.add(0,c),[0,-f],null),new N(l.subtract(0,c),null,[0,f]),new N(l.subtract(u,0),[h,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=I._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=m.readNamed(arguments,"from"),e=m.readNamed(arguments,"through"),n=m.readNamed(arguments,"to"),i=c.getNamed(arguments),r=new R(i&&i.insert===!1&&k.NO_INSERT);return r.moveTo(t),r.arcTo(e,n),r.set(i)},RegularPolygon:function(){for(var e=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"sides"),i=c.readNamed(arguments,"radius"),r=360/n,s=n%3===0,o=new m(0,s?-i:i),a=s?-1:.5,l=new Array(n),u=0;u<n;u++)l[u]=new N(e.add(o.rotate((u+a)*r)));return t(l,!0,arguments)},Star:function(){for(var e=m.readNamed(arguments,"center"),n=2*c.readNamed(arguments,"points"),i=c.readNamed(arguments,"radius1"),r=c.readNamed(arguments,"radius2"),s=360/n,o=new m(0,-1),a=new Array(n),l=0;l<n;l++)a[l]=new N(e.add(o.rotate(s*l).multiply(l%2?r:i)));return t(a,!0,arguments)}}}});var B=F.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var i=n,r=i[0];r&&"number"==typeof r[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var o=i[s];i!==n||o instanceof R||(i=c.slice(i)),Array.isArray(o)?i[s]=new R({segments:o,insert:!1}):o instanceof B&&(i.splice.apply(i,[s,1].concat(o.removeChildren())),o.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var r=n[i].reduce(e);r.isEmpty()&&r.remove()}if(!n.length){var r=new R(k.NO_INSERT);return r.copyAttributes(this),r.insertAbove(this),this.remove(),r}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var o=n[r],a=o._matrix;i.push(o.getPathData(t&&!a.isIdentity()?t.appended(a):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===R||"path"===n.type?n:c.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,o=r.length;s<o;s++)r[s].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var a=this._style;a.hasFill()&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var o=i[r],a=o._matrix;n[o._id]||o._drawSelected(t,a.isIdentity()?e:e.appended(a))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return c.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new R(k.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=m.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},c.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][t](e)||n;return n}},{}));F.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,i,r,s){var o=new t(k.NO_INSERT);return o.addChildren(e,!0),n&&(o=o.reduce({simplify:!0})),s&&s.insert===!1||o.insertAbove(r&&i.isSibling(r)&&i.getIndex()<r.getIndex()?r:i),o.copyAttributes(i,!0),o}function n(n,r,s,a){function u(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];w.push.apply(w,i._segments),x.push.apply(x,i.getCurves()),i._overlapsOnly=!0}}if(a&&a.stroke&&/^(subtract|intersect)$/.test(s))return i(n,r,"subtract"===s);var c=t(n,!0),d=r&&n!==r&&t(r,!0),p=m[s];p[s]=!0,d&&(p.subtract||p.exclude)^(d.isClockwise()^c.isClockwise())&&d.reverse();var g,v=l(j.expand(c.getCrossings(d))),_=c._children||[c],y=d&&(d._children||[d]),w=[],x=[];if(v.length){u(_),y&&u(y);for(var b=0,C=v.length;b<C;b++)h(v[b]._segment,c,d,x,p);for(var b=0,C=w.length;b<C;b++){var S=w[b],T=S._intersection;S._winding||h(S,c,d,x,p),T&&T._overlap||(S._path._overlapsOnly=!1)}g=f(w,p)}else g=o(y?_.concat(y):_.slice(),function(t){return!!p[t]});return e(B,g,!0,n,r,a)}function i(n,i,r){function s(t){if(a.contains(t.getPointAt(t.getLength()/2))^r)return u.unshift(t),!0}for(var o=t(n),a=t(i),l=o.getCrossings(a),u=[],c=l.length-1;c>=0;c--){var h=l[c].split();h&&(s(h)&&h.getFirstSegment().setHandleIn(0,0),o.getLastSegment().setHandleOut(0,0))}return s(o),e(A,u,!1,n,i)}function r(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function s(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function o(t,e,n){var i=t&&t.length;if(i){var r=c.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),s=t.slice().sort(function(t,e){return v(e.getArea())-v(t.getArea())}),o=s[0];null==n&&(n=o.isClockwise());for(var a=0;a<i;a++){for(var l=s[a],u=r[l._id],h=l.getInteriorPoint(),f=0,d=a-1;d>=0;d--){var p=s[d];if(p.contains(h)){var g=r[p._id];f=g.winding,u.winding+=f,u.container=g.exclude?g.container:p;break}}if(e(u.winding)===e(f))u.exclude=!0,t[u.index]=null;else{var m=u.container;l.setClockwise(m?!m.isClockwise():n)}}}return t}function l(t,e,n){function i(t){return t._path._id+"."+t._segment1._index}for(var o,a,l,u=e&&[],c=1e-8,h=1-c,f=!1,d=n||[],p=n&&{},g=(n&&n.length)-1;g>=0;g--){var v=n[g];v._path&&(p[i(v)]=!0)}for(var g=t.length-1;g>=0;g--){var m,_=t[g],y=_._time,w=y,x=e&&!e(_),v=_._curve;if(v&&(v!==a?(f=!v.hasHandles()||p&&p[i(v)],o=[],l=null,a=v):l>=c&&(y/=l)),x)o&&o.push(_);else{if(e&&u.unshift(_),l=w,y<c)m=v._segment1;else if(y>h)m=v._segment2;else{var b=v.divideAtTime(y,!0);f&&d.push(v,b),m=b._segment1;for(var C=o.length-1;C>=0;C--){var S=o[C];S._time=(S._time-y)/(1-y)}}_._setSegment(m);var T=m._intersection,k=_._intersection;if(T){r(T,k);for(var A=T;A;)r(A._intersection,T),A=A._next}else m._intersection=k}}return n||s(d),u||t}function u(t,e,n,i,r){function s(s){var o=s[h+0],l=s[h+6];if(!(m<d(o,l)||m>p(o,l))){var f=s[c+0],v=s[c+2],_=s[c+4],A=s[c+6];if(o===l)return void((f<x&&A>w||A<x&&f>w)&&(S=!0));var E=m===o?0:m===l?1:w>p(f,v,_,A)||x<d(f,v,_,A)?1:1===D.solveCubic(s,h,m,k,0,1)?k[0]:.5,I=0===E?f:1===E?A:D.getPoint(s,E)[n?"y":"x"],M=o>l?1:-1,P=a[h]>a[h+6]?1:-1,O=a[c+6];return m!==o?(I<w?b+=M:I>x?C+=M:S=!0,I>g-y&&I<g+y&&(T/=2)):(M!==P?f<w?b+=M:f>x&&(C+=M):f!=O&&(O<x&&I>x?(C+=M,S=!0):O>w&&I<w&&(b+=M,S=!0)),T=0),a=s,!r&&I>w&&I<x&&0===D.getTangent(s,E)[n?"x":"y"]&&u(t,e,n?0:1,i,!0)}}function o(t){var e=t[h+0],i=t[h+2],r=t[h+4],o=t[h+6];if(m<=p(e,i,r,o)&&m>=d(e,i,r,o))for(var a,l=t[c+0],u=t[c+2],f=t[c+4],g=t[c+6],v=w>p(l,u,f,g)||x<d(l,u,f,g)?[t]:D.getMonoCurves(t,n),_=0,y=v.length;_<y;_++)if(a=s(v[_]))return a}for(var a,l,c=n?1:0,h=1^c,f=[t.x,t.y],g=f[c],m=f[h],_=1e-9,y=1e-6,w=g-_,x=g+_,b=0,C=0,S=!1,T=1,k=[],A=0,E=e.length;A<E;A++){var I,M=e[A],P=M._path,O=M.getValues();if(!(A&&e[A-1]._path===P||(a=null,P._closed||(l=D.getValues(P.getLastCurve().getSegment2(),M.getSegment1(),null,!i),l[h]!==l[h+6]&&(a=l)),a))){a=O;for(var z=P.getLastCurve();z&&z!==M;){var N=z.getValues();if(N[h]!==N[h+6]){a=N;break}z=z.getPrevious()}}if(I=o(O))return I;if(A+1===E||e[A+1]._path!==P){if(l&&(I=o(l)))return I;l=null}}return b=v(b),C=v(C),{winding:p(b,C),windingL:b,windingR:C,quality:T,onPath:S}}function h(t,e,n,i,r){var s,o=[],a=t,l=0;do{var c=t.getCurve(),h=c.getLength();o.push({segment:t,curve:c,length:h}),l+=h,t=t.getNext()}while(t&&!t._intersection&&t!==a);for(var f=[.5,.25,.75],d={winding:0,quality:0},s=d,p=1e-8,m=1-p,_=0;_<f.length&&s.quality<.5;_++)for(var h=l*f[_],y=0,w=o.length;y<w;y++){var x=o[y],b=x.length;if(h<=b){var c=x.curve,C=c._path,S=C._parent,T=g.clamp(c.getTimeAt(h),p,m),k=c.getPointAtTime(T),A=v(c.getTangentAtTime(T).normalize().y)<Math.SQRT1_2?1:0;S instanceof B&&(C=S);var E=r.subtract&&n&&(C===e&&n._getWinding(k,A,!0).winding||C===n&&!e._getWinding(k,A,!0).winding)?d:u(k,i,A,!0);E.quality>s.quality&&(s=E);break}h-=b}for(var y=o.length-1;y>=0;y--)o[y].segment._winding=s}function f(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function i(t){if(t)for(var e=0,n=o.length;e<n;e++)if(t===o[e])return!0;return!1}function r(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}function s(t,e){function r(r,s){for(;r&&r!==s;){var a=r._segment,u=a._path,c=a.getNext()||u&&u.getFirstSegment(),h=c&&c._intersection;a!==t&&(i(a)||i(c)||c&&n(a)&&(n(c)||h&&n(h._segment)))&&l.push(a),e&&o.push(a),r=r._next}}var s=t._intersection,a=s,l=[];if(e&&(o=[t]),s){for(r(s);s&&s._prev;)s=s._prev;r(s,a)}return l}var o,a=[];t.sort(function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),s=!(!i||!i._overlap),o=t._path,a=e._path;return r^s?r?1:-1:!n^!i?n?1:-1:o!==a?o._id-a._id:t._index-e._index});for(var l=0,u=t.length;l<u;l++){var c,h,f,d=t[l],p=n(d),g=null,v=!1,m=!0,_=[];if(p&&d._path._overlapsOnly){var y=d._path,w=d._intersection._segment._path;y.compare(w)&&(y.getArea()&&a.push(y.clone(!1)),r(y),r(w),p=!1)}for(;p;){var x=!g,b=s(d,x),C=b.shift(),v=!x&&(i(d)||i(C)),S=!v&&C;if(x&&(g=new R(k.NO_INSERT),c=null),v){(d.isFirst()||d.isLast())&&(m=d._path._closed),d._visited=!0;break}if(S&&c&&(_.push(c),c=null),c||(S&&b.push(d),c={start:g._segments.length,crossings:b,visited:h=[],handleIn:f}),S&&(d=C),!n(d)){g.removeSegments(c.start);for(var T=0,A=h.length;T<A;T++)h[T]._visited=!1;h.length=0;do d=c&&c.crossings.shift(),d||(c=_.pop(),c&&(h=c.visited,f=c.handleIn));while(c&&!n(d));if(!d)break}var E=d.getNext();g.add(new N(d._point,f,E&&d._handleOut)),d._visited=!0,h.push(d),d=E||d._path.getFirstSegment(),f=E&&E._handleIn}v&&(m&&(g.firstSegment.setHandleIn(f),g.setClosed(m)),0!==g.getArea()&&a.push(g))}return a}var d=Math.min,p=Math.max,v=Math.abs,m={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return u(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t){return n(this,t,"subtract")},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return e(A,[this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,n=e||[this],i=!1,r=!1,o=this.getIntersections(null,function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)}),a=i&&r&&[];if(o=j.expand(o),i)for(var u=l(o,function(t){return t.hasOverlap()},a),h=u.length-1;h>=0;h--){var d=u[h]._segment,p=d.getPrevious(),g=d.getNext();t(p)&&t(g)&&(d.remove(),p._handleOut._set(0,0),g._handleIn._set(0,0),p===d||p.getCurve().hasLength()||(g._handleIn.set(p._handleIn),p.remove()))}r&&(l(o,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,s=i._segment;return!!(e&&r&&e._path&&r._path)||(n&&(n._intersection=null),void(s&&(s._intersection=null)))},a),a&&s(a),n=f(c.each(n,function(t){this.push.apply(this,t._segments)},[])));var v,m=n.length;return m>1&&e?(n!==e&&this.setChildren(n),v=this):1!==m||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),v=this),v||(v=new B(k.NO_INSERT),v.addChildren(n),v=v.reduce(),v.copyAttributes(this),this.replaceWith(v)),v},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(o(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==a&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),i=e.y,r=[],s=[],o=0,a=n.length;o<a;o++){var l=n[o].getValues(),u=l[1],c=l[3],h=l[5],f=l[7];if(i>=d(u,c,h,f)&&i<=p(u,c,h,f))for(var g=D.getMonoCurves(l),v=0,m=g.length;v<m;v++){var _=g[v],y=_[1],w=_[7];if(y!==w&&(i>=y&&i<=w||i>=w&&i<=y)){var x=i===y?_[0]:i===w?_[6]:1===D.solveCubic(_,1,i,s,0,1)?D.getPoint(_,s[0]).x:(_[0]+_[6])/2;r.push(x)}}}r.length>1&&(r.sort(function(t,e){return t-e}),e.x=(r[0]+r[1])/2)}return e}}});var q=c.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){function s(t,e){var n=D.getValues(t,e,r);l.push(n),o(n,t._index,0,1)}function o(t,n,r,s){if(!(s-r>h)||i&&D.isStraight(t)||D.isFlatEnough(t,e||.25)){var a=t[6]-t[0],l=t[7]-t[1],f=Math.sqrt(a*a+l*l);f>0&&(c+=f,u.push({offset:c,curve:t,index:n,time:s}))}else{var d=D.subdivide(t,.5),p=(r+s)/2;o(d[0],n,r,p),o(d[1],n,p,s)}}for(var a,l=[],u=[],c=0,h=1/(n||32),f=t._segments,d=f[0],p=1,g=f.length;p<g;p++)a=f[p],s(d,a),d=a;t._closed&&s(a,f[0]),this.curves=l,this.parts=u,this.length=c,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;e=r,r&&!(n[--r].offset<t););for(;e<i;e++){var s=n[e];if(s.offset>=t){this.index=e;var o=n[e-1],a=o&&o.index===s.index?o.time:0,l=o?o.offset:0;return{index:s.index,time:a+(s.time-a)*(t-l)/(s.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),s=i.index,o=r.index;s<=o;s++){var a=D.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&t.moveTo(a[0],a[1]),t.bezierCurveTo.apply(t,a.slice(2))}}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return D[t](this.curves[n.index],n.time)}},{})),H=c.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,s=0,o=i.length;s<o;s++){var a=i[s].point;e&&e.equals(a)||n.push(e=a.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new N(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,s){var o=this.points;if(i-n===1){var a=o[n],l=o[i],u=a.getDistance(l)/3;return void this.addCurve(t,[a,a.add(r.normalize(u)),l.add(s.normalize(u)),l])}for(var c,h=this.chordLengthParameterize(n,i),f=Math.max(e,e*e),d=!0,p=0;p<=4;p++){var g=this.generateBezier(n,i,h,r,s),v=this.findMaxError(n,i,g,h);if(v.error<e&&d)return void this.addCurve(t,g);if(c=v.index,v.error>=f)break;d=this.reparameterize(n,i,h,g),f=v.error}var m=o[c-1].subtract(o[c+1]);this.fitCubic(t,e,n,c,r,m),this.fitCubic(t,e,c,i,m.negate(),s)},addCurve:function(t,e){var n=t[t.length-1];n.setHandleOut(e[1].subtract(e[0])),t.push(new N(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var s=1e-12,o=Math.abs,a=this.points,l=a[t],u=a[e],c=[[0,0],[0,0]],h=[0,0],f=0,d=e-t+1;f<d;f++){var p=n[f],g=1-p,v=3*p*g,m=g*g*g,_=v*g,y=v*p,w=p*p*p,x=i.normalize(_),b=r.normalize(y),C=a[t+f].subtract(l.multiply(m+_)).subtract(u.multiply(y+w));c[0][0]+=x.dot(x),c[0][1]+=x.dot(b),c[1][0]=c[0][1],c[1][1]+=b.dot(b),h[0]+=x.dot(C),h[1]+=b.dot(C)}var S,T,k=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(o(k)>s){var A=c[0][0]*h[1]-c[1][0]*h[0],E=h[0]*c[1][1]-h[1]*c[0][1];S=E/k,T=A/k}else{var I=c[0][0]+c[0][1],M=c[1][0]+c[1][1];S=T=o(I)>s?h[0]/I:o(M)>s?h[1]/M:0}var P,O,z=u.getDistance(l),N=s*z;if(S<N||T<N)S=T=z/3;else{var L=u.subtract(l);P=i.normalize(S),O=r.normalize(T),P.dot(L)-O.dot(L)>z*z&&(S=T=z/3,P=O=null)}return[l,l.add(P||i.normalize(S)),u.add(O||r.normalize(T)),u]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);for(var r=1,s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=t[s+1].subtract(t[s]).multiply(3);for(var s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var o=this.evaluate(3,t,n),a=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=o.subtract(e),c=a.dot(a)+u.dot(l);return g.isZero(c)?n:n-u.dot(a)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),s=0,o=t+1;o<e;o++){var a=this.evaluate(3,n,i[o-t]),l=a.subtract(this.points[o]),u=l.x*l.x+l.y*l.y;u>=s&&(s=u,r=o)}return{error:s,index:r}}}),W=k.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&c.isPlainObject(t)&&t.x===a&&t.y===a;this._initialize(e&&t,!e&&m.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),V=W.extend({_class:"PointText",initialize:function(){W.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new _(t.x,t.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,s=r.hasFill(),o=r.hasStroke(),a=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){t.shadowColor=l;var h=i[u];s&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),o&&t.strokeText(h,0,0),t.translate(0,a)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),o=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==s&&(l-=a/("center"===s?2:1));var u=new x(l,r?-.75*o:0,a,r*o);return t?t._transformBounds(u,u):u}}),Z=c.extend(new function(){function t(t){var n,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){n=[0,0,0];for(var s=0;s<3;s++){var o=i[s+1];n[s]=parseInt(1==o.length?o+o:o,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){n=i[1].split(",");for(var s=0,a=n.length;s<a;s++){var o=+n[s];n[s]=s<3?o/255:o}}else if(l){var u=r[t];if(!u){e||(e=st.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;u=r[t]=[c[0]/255,c[1]/255,c[2]/255]}n=u.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},r={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,o=0===s?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4);return[o,0===i?0:s/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,i=s[i],o=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[o[i[0]],o[i[1]],o[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,o=0===s,a=o?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),l=(i+r)/2,u=o?0:l<.5?s/(i+r):s/(2-i-r);return[a,u,l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,o=[],a=0;a<3;a++){var l=i[a];l<0&&(l+=1),l>1&&(l-=1),o[a]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return o},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return c.each(n,function(t,e){i[e]=[],c.each(t,function(t,r){var s=c.capitalize(t),o=/^(hue|saturation)$/.test(t),a=i[e][r]="gradient"===t?function(t){var e=this._components[0];return t=U.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return m.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===e||o&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(e)[r]},this["set"+s]=function(t){this._type===e||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[r]=a.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(r){var s,o,a,l,u=arguments,h=this.__read,f=0;Array.isArray(r)&&(u=r,r=u[0]);var d=null!=r&&typeof r;if("string"===d&&r in n&&(s=r,r=u[1],Array.isArray(r)?(o=r,a=u[2]):(h&&(f=1),u=c.slice(u,1),d=typeof r)),!o){if(l="number"===d?u:"object"===d&&null!=r.length?r:null){s||(s=l.length>=3?"rgb":"gray");var p=n[s].length;a=l[p],h&&(f+=l===arguments?p+(null!=a?1:0):1),l.length>p&&(l=c.slice(l,0,p))}else if("string"===d)s="rgb",o=t(r),4===o.length&&(a=o[3],o.length--);else if("object"===d)if(r.constructor===e){if(s=r._type,o=r._components.slice(),a=r._alpha,"gradient"===s)for(var g=1,v=o.length;g<v;g++){var m=o[g];m&&(o[g]=m.clone())}}else if(r.constructor===U)s="gradient",l=u;else{s="hue"in r?"lightness"in r?"hsl":"hsb":"gradient"in r||"stops"in r||"radial"in r?"gradient":"gray"in r?"gray":"rgb";var _=n[s],y=i[s];this._components=o=[];for(var g=0,v=_.length;g<v;g++){var w=r[_[g]];null==w&&!g&&"gradient"===s&&"stops"in r&&(w={stops:r.stops,radial:r.radial}),w=y[g].call(this,w),null!=w&&(o[g]=w)}a=r.alpha}h&&s&&(f=1)}if(this._type=s||"rgb",!o){this._components=o=[];for(var y=i[this._type],g=0,v=y.length;g<v;g++){var w=y[g].call(this,l&&l[g]);null!=w&&(o[g]=w)}}return this._components=o,this._properties=n[this._type],this._alpha=a,h&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return c.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=o[this._type+"-"+t])?e.apply(this,this._components):o["rgb-"+t].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new Z(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=c.isPlainValue(t,!0)?Z.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&c.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=p.instance,r=0,s=t.length;r<s;r++){var o=this._components[r];null!=o&&e.push(t[r]+": "+(n?o:i.number(o)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],i<1&&n.push(i<0?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,n=this._components,i=n[0],r=i._stops,s=n[1],o=n[2];if(i._radial){var a=o.getDistance(s),l=n[3];if(l){var u=l.subtract(s);u.getLength()>a&&(l=s.add(u.normalize(a-.1)))}var c=l||s;e=t.createRadialGradient(c.x,c.y,0,s.x,s.y,a)}else e=t.createLinearGradient(s.x,s.y,o.x,o.y);for(var h=0,f=r.length;h<f;h++){var d=r[h],p=d._offset;e.addColorStop(null==p?h/(f-1):p,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new Z(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){
return t*e},divide:function(t,e){return t/e}};return c.each(t,function(t,e){this[e]=function(e){e=Z.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),s=0,o=i.length;s<o;s++)r[s]=t(i[s],r[s]);return new Z(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),U=c.extend({_class:"Gradient",initialize:function(t,e){this._id=v.get(),t&&c.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=a))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new U(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=a;e=this._stops=$.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),$=c.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"==typeof t&&e===a&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new $(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return c.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=Z.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),K=c.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new m,selectedColor:null},e=c.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=c.set({},e,{fillColor:new Z}),i={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},o={_class:"Style",beans:!0,initialize:function(i,r,o){this._values={},this._owner=r,this._project=r&&r._project||o||s.project,this._defaults=!r||r instanceof A?e:r instanceof W?n:t,i&&this.set(i)}};return c.each(e,function(t,e){var n=/Color$/.test(e),s="shadowOffset"===e,l=c.capitalize(e),u=i[e],h="set"+l,f="get"+l;o[h]=function(t){var i=this._owner,r=i&&i._children;if(r&&r.length>0&&!(i instanceof B))for(var s=0,o=r.length;s<o;s++)r[s]._style[h](t);else if(e in this._defaults){var l=this._values[e];l!==t&&(n&&(l&&l._owner!==a&&(l._owner=a),t&&t.constructor===Z&&(t._owner&&(t=t.clone()),t._owner=i)),this._values[e]=t,i&&i._changed(u||65))}},o[f]=function(t){var i,r=this._owner,o=r&&r._children;if(e in this._defaults&&(!o||!o.length||t||r instanceof B)){var i=this._values[e];if(i===a)i=this._defaults[e],i&&i.clone&&(i=i.clone());else{var l=n?Z:s?m:null;!l||i&&i.constructor===l||(this._values[e]=i=l.read([i],0,{readNull:!0,clone:!0}),i&&n&&(i._owner=r))}}else if(o)for(var u=0,h=o.length;u<h;u++){var d=o[u]._style[f]();if(u){if(!c.equals(i,d))return a}else i=d}return i},r[f]=function(t){return this._style[f](t)},r[h]=function(t){this._style[h](t)}}),c.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,i="set"+e;o[n]=r[n]="#get"+t,o[i]=r[i]="#set"+t}),k.inject(r),o},{set:function(t){this._values={};var e=t instanceof K,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,s=e._defaults;for(var o in i){var l=i[o],u=r[o];if(!(n&&o in r||c.equals(l,u===a?s[o]:u)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),G=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),o=0;o<6;o++){var a=r[o],l=a?a+s:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,s=i.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var o=n.left-(s.clientLeft||r.clientLeft||0),a=n.top-(s.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;o+=l.pageXOffset||s.scrollLeft||r.scrollLeft,a+=l.pageYOffset||s.scrollTop||r.scrollTop}return new x(o,a,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new x(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return G.getBounds(t,e).getPoint()},getSize:function(t){return G.getBounds(t,!0).getSize()},isInvisible:function(t){return G.getSize(t).equals(new y(0,0))},isInView:function(t){return!G.isInvisible(t)&&G.getViewportBounds(t).intersects(G.getBounds(t,!0))},isInserted:function(t){return u.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"==typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},X={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,o=r.length;s<o;s++)t.addEventListener(r[s],i,!1)},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,o=r.length;s<o;s++)t.removeEventListener(r[s],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new m(e.pageX||e.clientX+u.documentElement.scrollLeft,e.pageY||e.clientY+u.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return X.getPoint(t).subtract(G.getOffset(e||X.getTarget(t)))}};X.requestAnimationFrame=new function(){function t(){var e=r;r=[];for(var s=0,o=e.length;s<o;s++)e[s]();i=n&&r.length,i&&n(t)}var e,n=G.getPrefixed(l,"requestAnimationFrame"),i=!1,r=[];return function(s){r.push(s),n?i||(n(t),i=!0):e||(e=setInterval(t,1e3/60))}};var Y=c.extend(h,{_class:"View",initialize:function t(e,n){function i(t){return n[t]||parseInt(n.getAttribute(t),10)}function r(){var t=G.getSize(n);return t.isNaN()||t.isZero()?new y(i("width"),i("height")):t}var o;if(l&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+t._id++),X.add(n,this._viewEvents);var a="none";if(G.setPrefixed(n.style,{userDrag:a,userSelect:a,touchCallout:a,contentZooming:a,tapHighlightColor:"rgba(0,0,0,0)"}),f.hasAttribute(n,"resize")){var c=this;X.add(l,this._windowEvents={resize:function(){c.setViewSize(r())}})}if(o=r(),f.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var h=this._stats.domElement,d=h.style,p=G.getOffset(n);d.position="absolute",d.left=p.x+"px",d.top=p.y+"px",u.body.appendChild(h)}}else o=new y(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=l&&l.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new C)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!s.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Y._focused===this&&(Y._focused=null),Y._views.splice(Y._views.indexOf(this),1),delete Y._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),X.remove(this._element,this._viewEvents),X.remove(l,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:c.each(k._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;X.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;G.getPrefixed(u,"hidden")&&"true"!==f.getAttribute(e,"keepalive")||!G.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){s=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new c({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new c(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=y.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new x(new m,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return G.isInView(this._element)},isInserted:function(){return G.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=u.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(G.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?c:m).read(arguments),i=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=m.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new C).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new _(e.x,e.y,this,"setScaling"):a},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(m.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(m.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(m.read(arguments))},getEventPoint:function(t){return this.viewToProject(X.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){u&&"string"==typeof e&&(e=u.getElementById(e));var n=l?J:Y;return new n(t,e)}}},new function(){function t(t){var e=X.getTarget(t);return e.getAttribute&&Y._viewsById[e.getAttribute("id")]}function e(){var t=Y._focused;if(!t||!t.isVisible())for(var e=0,n=Y._views.length;e<n;e++)if((t=Y._views[e]).isVisible()){Y._focused=a=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function i(t,e,n,i,r,s,o){function a(t,n){if(t.responds(n)){if(l||(l=new nt(n,i,r,e||t,s?r.subtract(s):null)),t.emit(n,l)&&(A=!0,l.prevented&&(E=!0),l.stopped))return u=!0}else{var o=I[n];if(o)return a(t,o)}}for(var l,u=!1;t&&t!==o&&!a(t,n);)t=t._parent;return u}function r(t,e,n,r,s,o){return t._project.removeOn(n),E=A=!1,C&&i(C,null,n,r,s,o)||e&&e!==C&&!e.isDescendant(C)&&i(e,null,I[n]||n,r,s,o,C)||i(t,C||e||t,n,r,s,o)}if(l){var o,a,c,h,f,d=!1,p=!1,g=l.navigator;g.pointerEnabled||g.msPointerEnabled?(c="pointerdown MSPointerDown",h="pointermove MSPointerMove",f="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",h="touchmove",f="touchend touchcancel","ontouchstart"in l&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",h+=" mousemove",f+=" mouseup"));var v={},m={mouseout:function(t){var e=Y._focused,i=X.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var r=X.getOffset(t,e._element),s=r.x,o=Math.abs,a=o(s),l=1<<25,u=a-l;r.x=o(u)<a?u*(s<0?-1:1):s,n(e,t,e.viewToProject(r))}},scroll:e};v[c]=function(e){var n=Y._focused=t(e);d||(d=!0,n._handleMouseEvent("mousedown",e))},m[h]=function(i){var r=Y._focused;if(!p){var s=t(i);s?r!==s&&(r&&n(r,i),o||(o=r),r=Y._focused=a=s):a&&a===r&&(o&&!o.isInserted()&&(o=null),r=Y._focused=o,o=null,e())}r&&n(r,i)},m[c]=function(){p=!0},m[f]=function(t){var e=Y._focused;e&&d&&e._handleMouseEvent("mouseup",t),p=d=!1},X.add(u,m),X.add(l,{load:e});var _,y,w,x,b,C,S,T,k,A=!1,E=!1,I={doubleclick:"click",mousedrag:"mousemove"},M=!1,P={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(t,e,n){function s(t){return o.virtual[t]||c.responds(t)||u&&u.responds(t)}var o=this._itemEvents,a=o.native[t],l="mousemove"===t,u=this._scope.tool,c=this;l&&d&&s("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var h=this.getBounds().contains(n),f=a&&h&&c._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),p=f&&f.item||null,g=!1,v={};v[t.substr(5)]=!0,a&&p!==b&&(b&&i(b,null,"mouseleave",e,n),p&&i(p,null,"mouseenter",e,n),b=p),M^h&&(i(this,null,h?"mouseenter":"mouseleave",e,n),_=h?this:null,g=!0),!h&&!v.drag||n.equals(w)||(r(this,p,l?t:"mousemove",e,n,w),g=!0),M=h,(v.down&&h||v.up&&y)&&(r(this,p,t,e,n,y),v.down?(k=p===S&&Date.now()-T<300,x=S=p,C=!E&&p,y=n):v.up&&(E||p!==x||(T=Date.now(),r(this,p,k?"doubleclick":"click",e,n,y),k=!1),x=C=null),M=!1,g=!0),w=n,g&&u&&(A=u._handleMouseEvent(t,e,n,v)||A),(A&&!v.move||v.down&&s("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,i){function r(r){r.responds(t)&&(s=a,r.emit(t,o=o||new tt(t,e,n,i)))}var o,a=this._scope,l=a.tool;this.isVisible()&&(r(this),l&&l.responds(t)&&r(l))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n.native,r=n.virtual;for(var s in P)i[s]=(i[s]||0)+(P[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),J=Y.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof l.HTMLCanvasElement)){var n=y.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+c.slice(arguments,1));e=st.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(f.getAttribute(e,"hidpi"))){var r=l.devicePixelRatio||1,s=G.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/s}Y.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),1!==i){var r=this._element,s=this._context;if(!f.hasAttribute(r,"resize")){var o=r.style;o.width=e+"px",o.height=n+"px"}s.restore(),s.save(),s.scale(i,i)}},getPixelSize:function t(e){var n,i=s.agent;if(i&&i.firefox)n=t.base.call(this,e);else{var r=this._context,o=r.font;r.font=e+" serif",n=parseFloat(r.font),r.font=o}return n},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var s=0,o=e.length;s<o;s++)r=Math.max(r,n.measureText(e[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Q=c.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=Q.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,r[e]||(e.length>1?c.hyphenate(e):e.toLowerCase())}function e(t,i,r,o){var l,u=Y._focused;if(a[i]=t,t?h[i]=r:delete h[i],i.length>1&&(l=c.camelize(i))in f){f[l]=t;var d=s&&s.agent;if("meta"===l&&d&&d.mac)if(t)n={};else{for(var p in n)p in h&&e(!1,p,n[p],o);n=null}}else t&&n&&(n[i]=r);u&&u._handleKeyEvent(t?"keydown":"keyup",o,i,r)}var n,i,r={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},a={},h={},f=new c({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=s&&s.agent;return t&&t.mac?this.meta:this.control}}});return X.add(u,{keydown:function(n){var r=t(n),a=s&&s.agent;r.length>1||a&&a.chrome&&(n.altKey||a.mac&&n.metaKey||!a.mac&&n.ctrlKey)?e(!0,r,o[r]||(r.length>1?"":r),n):i=r},keypress:function(n){if(i){var r=t(n),s=n.charCode,o=s>=32?String.fromCharCode(s):r.length>1?"":r;r!==i&&(r=o.toLowerCase()),e(!0,r,o,n),i=null}},keyup:function(n){var i=t(n);i in h&&e(!1,i,h[i],n)}}),X.add(l,{blur:function(t){for(var n in h)e(!1,n,h[n],t)}}),{modifiers:f,isDown:function(t){return!!a[t]}}},nt=Q.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),it=Q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),rt=(d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){function r(t,e){var r=n,s=a?f._point:f._downPoint||r;if(a){if(f._moveCount&&r.equals(s))return!1;if(s&&(null!=t||null!=e)){var o=r.subtract(s),l=o.getLength();if(l<(t||0))return!1;e&&(r=s.add(o.normalize(Math.min(l,e))))}f._moveCount++}return f._point=r,f._lastPoint=s||r,i.down&&(f._moveCount=-1,f._downPoint=r,f._downCount++),!0}function o(){l&&(h=f.emit(t,new it(f,t,e))||h)}s=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var a=i.move||i.drag,l=this.responds(t),u=this.minDistance,c=this.maxDistance,h=!1,f=this;if(i.down)r(),o();else if(i.up)r(null,c),o();else if(l)for(;r(u,c);)o();return h}}),{request:function(t){var e=new o.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,c.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)}}),st={canvases:[],getCanvas:function(t,e){if(!l)return null;var n,i=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=u.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},ot=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,i,r){var s=r-t(e,n,i);d=e+s,p=n+s,g=i+s;var r=t(d,p,g),o=v(d,p,g),a=m(d,p,g);if(o<0){var l=r-o;d=r+(d-r)*r/l,p=r+(p-r)*r/l,g=r+(g-r)*r/l}if(a>255){var u=255-r,c=a-r;d=r+(d-r)*u/c,p=r+(p-r)*u/c,g=r+(g-r)*u/c}}function n(t,e,n){return m(t,e,n)-v(t,e,n)}function i(t,e,n,i){var r,s=[t,e,n],o=m(t,e,n),a=v(t,e,n);a=a===t?0:a===e?1:2,o=o===t?0:o===e?1:2,r=0===v(a,o)?1===m(a,o)?2:1:0,s[o]>s[a]?(s[r]=(s[r]-s[a])*i/(s[o]-s[a]),s[o]=i):s[r]=s[o]=0,s[a]=0,d=s[0],p=s[1],g=s[2]}var r,s,o,a,l,u,h,f,d,p,g,v=Math.min,m=Math.max,_=Math.abs,y={multiply:function(){d=l*r/255,p=u*s/255,g=h*o/255},screen:function(){d=l+r-l*r/255,p=u+s-u*s/255,g=h+o-h*o/255},overlay:function(){d=l<128?2*l*r/255:255-2*(255-l)*(255-r)/255,p=u<128?2*u*s/255:255-2*(255-u)*(255-s)/255,g=h<128?2*h*o/255:255-2*(255-h)*(255-o)/255},"soft-light":function(){var t=r*l/255;d=t+l*(255-(255-l)*(255-r)/255-t)/255,t=s*u/255,p=t+u*(255-(255-u)*(255-s)/255-t)/255,t=o*h/255,g=t+h*(255-(255-h)*(255-o)/255-t)/255},"hard-light":function(){d=r<128?2*r*l/255:255-2*(255-r)*(255-l)/255,p=s<128?2*s*u/255:255-2*(255-s)*(255-u)/255,g=o<128?2*o*h/255:255-2*(255-o)*(255-h)/255},"color-dodge":function(){d=0===l?0:255===r?255:v(255,255*l/(255-r)),p=0===u?0:255===s?255:v(255,255*u/(255-s)),g=0===h?0:255===o?255:v(255,255*h/(255-o))},"color-burn":function(){d=255===l?255:0===r?0:m(0,255-255*(255-l)/r),p=255===u?255:0===s?0:m(0,255-255*(255-u)/s),g=255===h?255:0===o?0:m(0,255-255*(255-h)/o)},darken:function(){d=l<r?l:r,p=u<s?u:s,g=h<o?h:o},lighten:function(){d=l>r?l:r,p=u>s?u:s,g=h>o?h:o},difference:function(){d=l-r,d<0&&(d=-d),p=u-s,p<0&&(p=-p),g=h-o,g<0&&(g=-g)},exclusion:function(){d=l+r*(255-l-l)/255,p=u+s*(255-u-u)/255,g=h+o*(255-h-h)/255},hue:function(){i(r,s,o,n(l,u,h)),e(d,p,g,t(l,u,h))},saturation:function(){i(l,u,h,n(r,s,o)),e(d,p,g,t(l,u,h))},luminosity:function(){e(l,u,h,t(r,s,o))},color:function(){e(r,s,o,t(l,u,h))},add:function(){d=v(l+r,255),p=v(u+s,255),g=v(h+o,255)},subtract:function(){d=m(l-r,0),p=m(u-s,0),g=m(h-o,0)},average:function(){d=(l+r)/2,p=(u+s)/2,g=(h+o)/2},negation:function(){d=255-_(255-r-l),p=255-_(255-s-u),g=255-_(255-o-h)}},w=this.nativeModes=c.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),x=st.getContext(1,1);x&&(c.each(y,function(t,e){var n="darken"===e,i=!1;x.save();try{x.fillStyle=n?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=e,x.globalCompositeOperation===e&&(x.fillStyle=n?"#a00":"#300",x.fillRect(0,0,1,1),i=x.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}x.restore(),w[e]=i}),st.release(x)),this.process=function(t,e,n,i,c){var v=e.canvas,m="normal"===t;if(m||w[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,m||(n.globalCompositeOperation=t),n.drawImage(v,c.x,c.y),n.restore();else{var _=y[t];if(!_)return;for(var x=n.getImageData(c.x,c.y,v.width,v.height),b=x.data,C=e.getImageData(0,0,v.width,v.height).data,S=0,T=b.length;S<T;S+=4){r=C[S],l=b[S],s=C[S+1],u=b[S+1],o=C[S+2],h=b[S+2],a=C[S+3],f=b[S+3],_();var k=a*i/255,A=1-k;b[S]=k*d+A*l,b[S+1]=k*p+A*u,b[S+2]=k*g+A*h,b[S+3]=a*i+A*f}n.putImageData(x,c.x,c.y)}}},at=new function(){function t(t,e,r){return n(u.createElementNS(i,t),e,r)}function e(t,e){var n=o[e],i=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===i?null:i}function n(t,e,n){for(var i in e){var r=e[i],s=o[i];"number"==typeof r&&n&&(r=n.number(r)),s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}return t}var i="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",o={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};return{svg:i,xmlns:r,xlink:s,create:t,get:e,set:n}},lt=c.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof F||t instanceof I||t instanceof W)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=c.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&c.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var i=new c,r=t.getTranslation();if(e){t=t._shiftless();var s=t._inverseTransform(r);i[n?"cx":"x"]=s.x,i[n?"cy":"y"]=s.y,r=null}if(!t.isIdentity()){var o=t.decompose();if(o){var a=[],l=o.rotation,u=o.scaling,h=o.skewing;r&&!r.isZero()&&a.push("translate("+w.point(r)+")"),l&&a.push("rotate("+w.number(l)+")"),g.isZero(u.x-1)&&g.isZero(u.y-1)||a.push("scale("+w.point(u)+")"),h&&h.x&&a.push("skewX("+w.number(h.x)+")"),h&&h.y&&a.push("skewY("+w.number(h.y)+")"),i.transform=a.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function e(e,n){for(var i=t(e._matrix),r=e._children,s=at.create("g",i,w),o=0,a=r.length;o<a;o++){var l=r[o],u=_(l,n);if(u)if(l.isClipMask()){var c=at.create("clipPath");c.appendChild(u),d(l,c,"clip"),at.set(s,{"clip-path":"url(#"+c.id+")"})}else s.appendChild(u)}return s}function n(e,n){var i=t(e._matrix,!0),r=e.getSize(),s=e.getImage();return i.x-=r.width/2,i.y-=r.height/2,i.width=r.width,i.height=r.height,i.href=n.embedImages===!1&&s&&s.src||e.toDataURL(),at.create("image",i,w)}function i(e,n){var i=n.matchShapes;if(i){var s=e.toShape(!1);if(s)return r(s,n)}var o,a=e._segments,l=a.length,u=t(e._matrix);if(i&&l>=2&&!e.hasHandles())if(l>2){o=e._closed?"polygon":"polyline";for(var c=[],h=0;h<l;h++)c.push(w.point(a[h]._point));u.points=c.join(" ")}else{o="line";var f=a[0]._point,d=a[1]._point;u.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else o="path",u.d=e.getPathData(null,n.precision);return at.create(o,u,w)}function r(e){var n=e._type,i=e._radius,r=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var s=e._size,o=s.width,a=s.height;r.x-=o/2,r.y-=a/2,r.width=o,r.height=a,i.isZero()&&(i=null)}return i&&("circle"===n?r.r=i:(r.rx=i.width,r.ry=i.height)),at.create(n,r,w)}function s(e,n){var i=t(e._matrix),r=e.getPathData(null,n.precision);return r&&(i.d=r),at.create("path",i,w)}function a(e,n){var i=t(e._matrix,!0),r=e._definition,s=f(r,"symbol"),o=r._item,a=o.getBounds();return s||(s=at.create("symbol",{viewBox:w.rectangle(a)}),s.appendChild(_(o,n)),d(r,s,"symbol")),i.href="#"+s.id,i.x+=a.x,i.y+=a.y,i.width=a.width,i.height=a.height,i.overflow="visible",at.create("use",i,w)}function l(t){var e=f(t,"color");if(!e){var n,i=t.getGradient(),r=i._radial,s=t.getOrigin(),o=t.getDestination();if(r){n={cx:s.x,cy:s.y,r:s.getDistance(o)};var a=t.getHighlight();a&&(n.fx=a.x,n.fy=a.y)}else n={x1:s.x,y1:s.y,x2:o.x,y2:o.y};n.gradientUnits="userSpaceOnUse",e=at.create((r?"radial":"linear")+"Gradient",n,w);
for(var l=i._stops,u=0,c=l.length;u<c;u++){var h=l[u],p=h._color,g=p.getAlpha(),v=h._offset;n={offset:null==v?u/(c-1):v},p&&(n["stop-color"]=p.toCSS(!0)),g<1&&(n["stop-opacity"]=g),e.appendChild(at.create("stop",n,w))}d(t,e,"color")}return"url(#"+e.id+")"}function u(e){var n=at.create("text",t(e._matrix,!0),w);return n.textContent=e._content,n}function h(t,e,n){var i={},r=!n&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),c.each(lt,function(e){var n=e.get,o=e.type,a=t[n]();if(e.exportFilter?e.exportFilter(t,a):!r||!c.equals(r[n](),a)){if("color"===o&&null!=a){var u=a.getAlpha();u<1&&(i[e.attribute+"-opacity"]=u)}"style"===o?s.push(e.attribute+": "+a):i[e.attribute]=null==a?"none":"color"===o?a.gradient?l(a,t):a.toCSS(!0):"array"===o?a.join(","):"lookup"===o?e.toSVG[a]:a}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),at.set(e,i,w)}function f(t,e){return b||(b={ids:{},svgs:{}}),t&&b.svgs[e+"-"+(t._id||t.__id||(t.__id=v.get("svg")))]}function d(t,e,n){b||f();var i=b.ids[n]=(b.ids[n]||0)+1;e.id=n+"-"+i,b.svgs[n+"-"+(t._id||t.__id)]=e}function m(t,e){var n=t,i=null;if(b){n="svg"===t.nodeName.toLowerCase()&&t;for(var r in b.svgs)i||(n||(n=at.create("svg"),n.appendChild(t)),i=n.insertBefore(at.create("defs"),n.firstChild)),i.appendChild(b.svgs[r]);b=null}return e.asString?(new o.XMLSerializer).serializeToString(n):n}function _(t,e,n){var i=S[t._class],r=i&&i(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var o=JSON.stringify(t._data);o&&"{}"!==o&&"null"!==o&&r.setAttribute("data-paper-data",o)}return r&&h(t,r,n)}function y(t){return t||(t={}),w=new p(t.precision),t}var w,b,S={Group:e,Layer:e,Raster:n,Path:i,Shape:r,CompoundPath:s,SymbolItem:a,PointText:u};k.inject({exportSVG:function(t){return t=y(t),m(_(this,t,!0),t)}}),T.inject({exportSVG:function(e){e=y(e);var n=this._children,i=this.getView(),r=c.pick(e.bounds,"view"),s=e.matrix||"view"===r&&i._matrix,o=s&&C.read([s]),a="view"===r?new x([0,0],i.getViewSize()):"content"===r?k._getBounds(n,o,{stroke:!0}):x.read([r],0,{readNull:!0}),l={version:"1.1",xmlns:at.svg,"xmlns:xlink":at.xlink};a&&(l.width=a.width,l.height=a.height,(a.x||a.y)&&(l.viewBox=w.rectangle(a)));var u=at.create("svg",l,w),h=u;o&&!o.isIdentity()&&(h=u.appendChild(at.create("g",t(o),w)));for(var f=0,d=n.length;f<d;f++)h.appendChild(_(n[f],e,!0));return m(u,e)}})},new function(){function t(t,e,n,i,r){var s=at.get(t,e),o=null==s?i?null:n?"":0:n?s:parseFloat(s);return/%\s*$/.test(s)?o/100*(r?1:E[/x|^width/.test(e)?"width":"height"]):o}function e(e,n,i,r,s){return n=t(e,n||"x",!1,r,s),i=t(e,i||"y",!1,r,s),!r||null!=n&&null!=i?new m(n,i):null}function n(e,n,i,r,s){return n=t(e,n||"width",!1,r,s),i=t(e,i||"height",!1,r,s),!r||null!=n&&null!=i?new y(n,i):null}function i(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?w(t)||t:"lookup"===e?n[t]:t}function r(t,e,n,i){var r=t.childNodes,s="clippath"===e,o="defs"===e,a=new A,l=a._project,u=l._currentStyle,c=[];if(s||o||(a=_(a,t,i),l._currentStyle=a._style.clone()),i)for(var h=t.querySelectorAll("defs"),f=0,d=h.length;f<d;f++)b(h[f],n,!1);for(var f=0,d=r.length;f<d;f++){var p,g=r[f];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=b(g,n,!1))||p instanceof O||c.push(p)}return a.addChildren(c),s&&(a=_(a.reduce(),t,i)),l._currentStyle=u,(s||o)&&(a.remove(),a=null),a}function h(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new m(parseFloat(n[r]),parseFloat(n[r+1])));var o=new R(i);return"polygon"===e&&o.closePath(),o}function f(t){return F.create(t.getAttribute("d"))}function d(n,i){var r,s=(t(n,"href",!0)||"").substring(1),o="radialgradient"===i;if(s)r=P[s].getGradient(),r._radial^o&&(r=r.clone(),r._radial=o);else{for(var a=n.childNodes,l=[],u=0,c=a.length;u<c;u++){var h=a[u];1===h.nodeType&&l.push(_(new $,h))}r=new U(l,o)}var f,d,p,g="userSpaceOnUse"!==t(n,"gradientUnits",!0);o?(f=e(n,"cx","cy",!1,g),d=f.add(t(n,"r",!1,!1,g),0),p=e(n,"fx","fy",!0,g)):(f=e(n,"x1","y1",!1,g),d=e(n,"x2","y2",!1,g));var v=_(new Z(r,f,d,p),n);return v._scaleToBounds=g,null}function p(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new C,o=0,a=r.length;o<a;o++){var l=r[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),f=0,d=h.length;f<d;f++)h[f]=parseFloat(h[f]);switch(c){case"matrix":s.append(new C(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":s.rotate(h[0],h[1],h[2]);break;case"translate":s.translate(h[0],h[1]);break;case"scale":s.scale(h);break;case"skewX":s.skew(h[0],0);break;case"skewY":s.skew(0,h[0])}}t.transform(s)}}function g(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}function v(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r){var s=c.camelize(e);r=t.style[s],r||n.node[s]===n.parent[s]||(r=n.node[s])}return r?"none"===r?null:r:a}function _(t,e,n){var i=e.parentNode,r={node:G.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&G.getStyles(i)||{}};return c.each(N,function(n,i){var s=v(e,i,r);t=s!==a&&n(t,s,i,e,r)||t}),t}function w(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],i=n&&P[l?n.replace(l.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&(i=i.clone(),i._scaleToBounds=!0),i}function b(t,e,i){var r,o,a,l=t.nodeName.toLowerCase(),h="#document"!==l,f=u.body;i&&h&&(E=n(t,null,null,!0)||s.getView().getSize(),r=at.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,a=t.nextSibling,r.appendChild(t),f.appendChild(r));var d=s.settings,p=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=z[l],m=v&&v(t,l,e,i)||null;if(d.insertItems=g,d.applyMatrix=p,m){!h||m instanceof A||(m=_(m,t,i));var y=e.onImport,w=h&&t.getAttribute("data-paper-data");y&&(m=y(t,m,e)||m),e.expandShapes&&m instanceof I&&(m.remove(),m=m.toPath()),w&&(m._data=JSON.parse(w))}return r&&(f.removeChild(r),o&&(a?o.insertBefore(t,a):o.appendChild(t))),i&&(P={},m&&c.pick(e.applyMatrix,p)&&m.matrix.apply(!0,!0)),m}function S(t,e,n){function i(i){try{var u="object"==typeof i?i:(new o.DOMParser).parseFromString(i,"image/svg+xml");if(!u.nodeName)throw u=null,new Error("Unsupported SVG source: "+t);s=l,c=b(u,e,!0),e&&e.insert===!1||n._insertItem(a,c);var h=e.onLoad;h&&h(c,i)}catch(t){r(t)}}function r(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var l=s,c=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var h=new FileReader;return h.onload=function(){i(h.result)},h.onerror=function(){r(h.error)},h.readAsText(t)}i(t)}else{var f=u.getElementById(t);f?i(f):rt.request({url:t,async:!0,onLoad:i,onError:r})}return c}var E,P={},z={"#document":function(t,e,n,i){for(var r=t.childNodes,s=0,o=r.length;s<o;s++){var a=r[s];if(1===a.nodeType)return b(a,n,i)}},g:r,svg:r,clippath:r,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(i){var r=new M(t(i,"href",!0));return r.on("load",function(){var t=n(i);this.setSize(t);var r=this._matrix._transformPoint(e(i).add(t.divide(2)));this.translate(r)}),r},symbol:function(t,e,n,i){return new O(r(t,e,n,i),!0)},defs:r,use:function(n){var i=(t(n,"href",!0)||"").substring(1),r=P[i],s=e(n);return r?r instanceof O?r.place(s):r.clone().translate(s):null},circle:function(n){return new I.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new I.Ellipse({center:e(t,"cx","cy"),radius:n(t,"rx","ry")})},rect:function(t){return new I.Rectangle(new x(e(t),n(t)),n(t,"rx","ry"))},line:function(t){return new R.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var n=new V(e(t).add(e(t,"dx","dy")));return n.setContent(t.textContent.trim()||""),n}},N=c.set(c.each(lt,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](i(n,t.type,t.fromSVG)),"color"===t.type)){var r=e[t.get]();if(r){if(r._scaleToBounds){var s=e.getBounds();r.transform((new C).translate(s.getPoint()).scale(s.getSize()))}e instanceof I&&r.transform((new C).translate(e.getPosition(!0).negate()))}}}},{}),{id:function(t,e){P[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=w(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof A))return new A(n,t);t.insertChild(0,n)}},gradientTransform:p,transform:p,"fill-opacity":g,"stroke-opacity":g,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,r,s,o){var a,l,u=new x(i(e,"array")),c=n(s,null,null,!0);if(t instanceof A){var h=c?c.divide(u.getSize()):1,l=(new C).scale(h).translate(u.getPoint().negate());a=t}else t instanceof O&&(c&&u.setSize(c),a=t._item);if(a){if("visible"!==v(s,"overflow",o)){var f=new I.Rectangle(u);f.setClipMask(!0),a.addChild(f)}l&&a.transform(l)}}});k.inject({importSVG:function(t,e){return S(t,e,this)}}),T.inject({importSVG:function(t,e){return this.activate(),S(t,e,this)}})},s=new(f.inject(c.exports,{enumerable:!0,Base:c,Numerical:g,Key:et,DomEvent:X,DomElement:G,document:u,window:l,Symbol:O,PlacedSymbol:P})),s.agent.node&&n(25)(s),i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(r!==a&&(t.exports=r)),s}.call(this,"object"==typeof self?self:null)},function(t,e){},function(t,e){},function(t,e,n){var i,r;!function(s,o){i=o,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this,function(){"use strict";var t=function(t,e,n,i){var r={features:null,bind:function(t,e,n,i){var r=(i?"remove":"add")+"EventListener";e=e.split(" ");for(var s=0;s<e.length;s++)e[s]&&t[r](e[s],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||"div");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){r.bind(t,e,n,!0)},removeClass:function(t,e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){r.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var n=t.firstChild;n;){if(r.hasClass(n,e))return n;n=n.nextSibling}},arraySearch:function(t,e,n){for(var i=t.length;i--;)if(t[i][n]===e)return i;return-1},extend:function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){if(n&&t.hasOwnProperty(i))continue;t[i]=e[i]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(r.features)return r.features;var t=r.createEl(),e=t.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10),o>=1&&o<8&&(i.isOldIOSPhone=!0))}var a=s.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(i.isOldAndroid=!0),i.androidVersion=l),i.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var u,c,h=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],d=0;d<4;d++){n=f[d];for(var p=0;p<3;p++)u=h[p],c=n+(n?u.charAt(0).toUpperCase()+u.slice(1):u),!i[u]&&c in e&&(i[u]=c);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var g=0;i.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-g)),i=window.setTimeout(function(){t(e+n)},n);return g=e+n,i},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r.features=i,i}};r.detectFeatures(),r.features.oldIE&&(r.bind=function(t,e,n,i){e=e.split(" ");for(var r,s=(i?"detach":"attach")+"Event",o=function(){n.handleEvent.call(n)},a=0;a<e.length;a++)if(r=e[a])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+r])return!1}else n["oldIE"+r]=o;t[s]("on"+r,n["oldIE"+r])}else t[s]("on"+r,n)});var s=this,o=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};r.extend(l,i);var u,c,h,f,d,p,g,v,m,_,y,w,x,b,C,S,T,k,A,E,I,M,P,O,z,N,L,D,j,F,R,B,q,H,W,V,Z,U,$,K,G,X,Y,J,Q,tt,et,nt,it,rt,st,ot,at,lt,ut,ct,ht,ft=function(){return{x:0,y:0}},dt=ft(),pt=ft(),gt=ft(),vt={},mt=0,_t={},yt=ft(),wt=0,xt=!0,bt=[],Ct={},St=!1,Tt=function(t,e){r.extend(s,e.publicMethods),bt.push(t)},kt=function(t){var e=tn();return t>e-1?t-e:t<0?e+t:t},At={},Et=function(t,e){return At[t]||(At[t]=[]),At[t].push(e)},It=function(t){var e=At[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<e.length;i++)e[i].apply(s,n)}},Mt=function(){return(new Date).getTime()},Pt=function(t){ut=t,s.bg.style.opacity=t*l.bgOpacity},Ot=function(t,e,n,i,r){(!St||r&&r!==s.currItem)&&(i/=r?r.fitRatio:s.currItem.fitRatio),t[M]=w+e+"px, "+n+"px"+x+" scale("+i+")"},zt=function(t){rt&&(t&&(_>s.currItem.fitRatio?St||(dn(s.currItem,!1,!0),St=!0):St&&(dn(s.currItem),St=!1)),Ot(rt,gt.x,gt.y,_))},Nt=function(t){t.container&&Ot(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Lt=function(t,e){e[M]=w+t+"px, 0px"+x},Dt=function(t,e){if(!l.loop&&e){var n=f+(yt.x*mt-t)/yt.x,i=Math.round(t-ye.x);(n<0&&i>0||n>=tn()-1&&i<0)&&(t=ye.x+i*l.mainScrollEndFriction)}ye.x=t,Lt(t,d)},jt=function(t,e){var n=we[t]-_t[t];return pt[t]+dt[t]+n-n*(e/y)},Ft=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Rt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Bt=null,qt=function(){Bt&&(r.unbind(document,"mousemove",qt),r.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,It("mouseUsed")),Bt=setTimeout(function(){Bt=null},100)},Ht=function(){r.bind(document,"keydown",s),R.transform&&r.bind(s.scrollWrap,"click",s),l.mouseUsed||r.bind(document,"mousemove",qt),r.bind(window,"resize scroll orientationchange",s),It("bindEvents")},Wt=function(){r.unbind(window,"resize scroll orientationchange",s),r.unbind(window,"scroll",m.scroll),r.unbind(document,"keydown",s),r.unbind(document,"mousemove",qt),R.transform&&r.unbind(s.scrollWrap,"click",s),$&&r.unbind(window,g,s),clearTimeout(B),It("unbindEvents")},Vt=function(t,e){var n=un(s.currItem,vt,t);return e&&(it=n),n},Zt=function(t){return t||(t=s.currItem),t.initialZoomLevel},Ut=function(t){return t||(t=s.currItem),t.w>0?l.maxSpreadZoom:1},$t=function(t,e,n,i){return i===s.currItem.initialZoomLevel?(n[t]=s.currItem.initialPosition[t],!0):(n[t]=jt(t,i),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]&&(n[t]=e.max[t],!0))},Kt=function(){if(M){var e=R.perspective&&!O;return w="translate"+(e?"3d(":"("),void(x=R.perspective?", 0px)":")")}M="left",r.addClass(t,"pswp--ie"),Lt=function(t,e){e.left=t+"px"},Nt=function(t){var e=t.fitRatio>1?1:t.fitRatio,n=t.container.style,i=e*t.w,r=e*t.h;n.width=i+"px",n.height=r+"px",n.left=t.initialPosition.x+"px",n.top=t.initialPosition.y+"px"},zt=function(){if(rt){var t=rt,e=s.currItem,n=e.fitRatio>1?1:e.fitRatio,i=n*e.w,r=n*e.h;t.width=i+"px",t.height=r+"px",t.left=gt.x+"px",t.top=gt.y+"px"}}},Gt=function(t){var e="";l.escKey&&27===t.keyCode?e="close":l.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,s[e]()))},Xt=function(t){t&&(X||G||st||Z)&&(t.preventDefault(),t.stopPropagation())},Yt=function(){s.setScrollOffset(0,r.getScrollY())},Jt={},Qt=0,te=function(t){Jt[t]&&(Jt[t].raf&&N(Jt[t].raf),Qt--,delete Jt[t])},ee=function(t){Jt[t]&&te(t),Jt[t]||(Qt++,Jt[t]={})},ne=function(){for(var t in Jt)Jt.hasOwnProperty(t)&&te(t)},ie=function(t,e,n,i,r,s,o){var a,l=Mt();ee(t);var u=function(){if(Jt[t]){if(a=Mt()-l,a>=i)return te(t),s(n),void(o&&o());s((n-e)*r(a/i)+e),Jt[t].raf=z(u)}};u()},re={shout:It,listen:Et,viewportSize:vt,options:l,isMainScrollAnimating:function(){return st},getZoomLevel:function(){return _},getCurrentIndex:function(){return f},isDragging:function(){return $},isZooming:function(){return tt},setScrollOffset:function(t,e){_t.x=t,F=_t.y=e,It("updateScrollOffset",_t)},applyZoomPan:function(t,e,n,i){gt.x=e,gt.y=n,_=t,zt(i)},init:function(){if(!u&&!c){var n;s.framework=r,s.template=t,s.bg=r.getChildByClass(t,"pswp__bg"),L=t.className,u=!0,R=r.detectFeatures(),z=R.raf,N=R.caf,M=R.transform,j=R.oldIE,s.scrollWrap=r.getChildByClass(t,"pswp__scroll-wrap"),s.container=r.getChildByClass(s.scrollWrap,"pswp__container"),d=s.container.style,s.itemHolders=S=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",Kt(),m={resize:s.updateSize,orientationchange:function(){clearTimeout(B),B=setTimeout(function(){vt.x!==s.scrollWrap.clientWidth&&s.updateSize()},500)},scroll:Yt,keydown:Gt,click:Xt};var i=R.isOldIOSPhone||R.isOldAndroid||R.isMobileOpera;for(R.animationName&&R.transform&&!i||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<bt.length;n++)s["init"+bt[n]]();if(e){var o=s.ui=new e(s,r);o.init()}It("firstUpdate"),f=f||l.index||0,(isNaN(f)||f<0||f>=tn())&&(f=0),s.currItem=Qe(f),(R.isOldIOSPhone||R.isOldAndroid)&&(xt=!1),t.setAttribute("aria-hidden","false"),l.modal&&(xt?t.style.position="fixed":(t.style.position="absolute",t.style.top=r.getScrollY()+"px")),void 0===F&&(It("initialLayout"),F=D=r.getScrollY());var h="pswp--open ";for(l.mainClass&&(h+=l.mainClass+" "),l.showHideOpacity&&(h+="pswp--animate_opacity "),h+=O?"pswp--touch":"pswp--notouch",h+=R.animationName?" pswp--css_animation":"",h+=R.svg?" pswp--svg":"",r.addClass(t,h),s.updateSize(),p=-1,wt=null,n=0;n<a;n++)Lt((n+p)*yt.x,S[n].el.style);j||r.bind(s.scrollWrap,v,s),Et("initialZoomInEnd",function(){s.setContent(S[0],f-1),s.setContent(S[2],f+1),S[0].el.style.display=S[2].el.style.display="block",l.focus&&t.focus(),Ht()}),s.setContent(S[1],f),s.updateCurrItem(),It("afterInit"),xt||(b=setInterval(function(){Qt||$||tt||_!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),r.addClass(t,"pswp--visible")}},close:function(){u&&(u=!1,c=!0,It("close"),Wt(),nn(s.currItem,null,!0,s.destroy))},destroy:function(){It("destroy"),Ge&&clearTimeout(Ge),t.setAttribute("aria-hidden","true"),t.className=L,b&&clearInterval(b),r.unbind(s.scrollWrap,v,s),r.unbind(window,"scroll",s),Te(),ne(),At=null},panTo:function(t,e,n){n||(t>it.min.x?t=it.min.x:t<it.max.x&&(t=it.max.x),e>it.min.y?e=it.min.y:e<it.max.y&&(e=it.max.y)),gt.x=t,gt.y=e,zt()},handleEvent:function(t){t=t||window.event,m[t.type]&&m[t.type](t)},goTo:function(t){t=kt(t);var e=t-f;wt=e,f=t,s.currItem=Qe(f),mt-=e,Dt(yt.x*mt),ne(),st=!1,s.updateCurrItem()},next:function(){s.goTo(f+1)},prev:function(){s.goTo(f-1)},updateCurrZoomItem:function(t){if(t&&It("beforeChange",0),S[1].el.children.length){var e=S[1].el.children[0];rt=r.hasClass(e,"pswp__zoom-wrap")?e.style:null}else rt=null;it=s.currItem.bounds,y=_=s.currItem.initialZoomLevel,gt.x=it.center.x,gt.y=it.center.y,t&&It("afterChange")},invalidateCurrItems:function(){C=!0;for(var t=0;t<a;t++)S[t].item&&(S[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==wt){var e,n=Math.abs(wt);if(!(t&&n<2)){s.currItem=Qe(f),St=!1,It("beforeChange",wt),n>=a&&(p+=wt+(wt>0?-a:a),n=a);for(var i=0;i<n;i++)wt>0?(e=S.shift(),S[a-1]=e,p++,Lt((p+2)*yt.x,e.el.style),s.setContent(e,f-n+i+1+1)):(e=S.pop(),S.unshift(e),p--,Lt(p*yt.x,e.el.style),s.setContent(e,f+n-i-1-1));if(rt&&1===Math.abs(wt)){var r=Qe(T);r.initialZoomLevel!==_&&(un(r,vt),dn(r),Nt(r))}wt=0,s.updateCurrZoomItem(),T=f,It("afterChange")}}},updateSize:function(e){if(!xt&&l.modal){var n=r.getScrollY();if(F!==n&&(t.style.top=n+"px",F=n),!e&&Ct.x===window.innerWidth&&Ct.y===window.innerHeight)return;Ct.x=window.innerWidth,Ct.y=window.innerHeight,t.style.height=Ct.y+"px"}if(vt.x=s.scrollWrap.clientWidth,vt.y=s.scrollWrap.clientHeight,Yt(),yt.x=vt.x+Math.round(vt.x*l.spacing),yt.y=vt.y,Dt(yt.x*mt),It("beforeResize"),void 0!==p){for(var i,o,u,c=0;c<a;c++)i=S[c],Lt((c+p)*yt.x,i.el.style),u=f+c-1,l.loop&&tn()>2&&(u=kt(u)),o=Qe(u),o&&(C||o.needsUpdate||!o.bounds)?(s.cleanSlide(o),s.setContent(i,u),1===c&&(s.currItem=o,s.updateCurrZoomItem(!0)),o.needsUpdate=!1):i.index===-1&&u>=0&&s.setContent(i,u),o&&o.container&&(un(o,vt),dn(o),Nt(o));C=!1}y=_=s.currItem.initialZoomLevel,it=s.currItem.bounds,it&&(gt.x=it.center.x,gt.y=it.center.y,zt(!0)),It("resize")},zoomTo:function(t,e,n,i,s){e&&(y=_,we.x=Math.abs(e.x)-gt.x,we.y=Math.abs(e.y)-gt.y,Ft(pt,gt));var o=Vt(t,!1),a={};$t("x",o,a,t),$t("y",o,a,t);var l=_,u={x:gt.x,y:gt.y};Rt(a);var c=function(e){1===e?(_=t,gt.x=a.x,gt.y=a.y):(_=(t-l)*e+l,gt.x=(a.x-u.x)*e+u.x,gt.y=(a.y-u.y)*e+u.y),s&&s(e),zt(1===e)};n?ie("customZoomTo",0,1,n,i||r.easing.sine.inOut,c):c(1)}},se=30,oe=10,ae={},le={},ue={},ce={},he={},fe=[],de={},pe=[],ge={},ve=0,me=ft(),_e=0,ye=ft(),we=ft(),xe=ft(),be=function(t,e){return t.x===e.x&&t.y===e.y},Ce=function(t,e){return Math.abs(t.x-e.x)<o&&Math.abs(t.y-e.y)<o},Se=function(t,e){return ge.x=Math.abs(t.x-e.x),ge.y=Math.abs(t.y-e.y),Math.sqrt(ge.x*ge.x+ge.y*ge.y)},Te=function(){Y&&(N(Y),Y=null)},ke=function(){$&&(Y=z(ke),He())},Ae=function(){return!("fit"===l.scaleMode&&_===s.currItem.initialZoomLevel)},Ee=function(t,e){return!(!t||t===document)&&(!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:Ee(t.parentNode,e)))},Ie={},Me=function(t,e){return Ie.prevent=!Ee(t.target,l.isClickableElement),It("preventDragEvent",t,e,Ie),Ie.prevent},Pe=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Oe=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},ze=function(t,e,n){if(t-H>50){var i=pe.length>2?pe.shift():{};i.x=e,i.y=n,pe.push(i),H=t}},Ne=function(){var t=gt.y-s.currItem.initialPosition.y;return 1-Math.abs(t/(vt.y/2))},Le={},De={},je=[],Fe=function(t){for(;je.length>0;)je.pop();return P?(ht=0,fe.forEach(function(t){0===ht?je[0]=t:1===ht&&(je[1]=t),ht++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(je[0]=Pe(t.touches[0],Le),t.touches.length>1&&(je[1]=Pe(t.touches[1],De))):(Le.x=t.pageX,Le.y=t.pageY,Le.id="",je[0]=Le),je},Re=function(t,e){var n,i,r,o,a=0,u=gt[t]+e[t],c=e[t]>0,h=ye.x+e.x,f=ye.x-de.x;return n=u>it.min[t]||u<it.max[t]?l.panEndFriction:1,u=gt[t]+e[t]*n,!l.allowPanToNext&&_!==s.currItem.initialZoomLevel||(rt?"h"!==ot||"x"!==t||G||(c?(u>it.min[t]&&(n=l.panEndFriction,a=it.min[t]-u,i=it.min[t]-pt[t]),(i<=0||f<0)&&tn()>1?(o=h,f<0&&h>de.x&&(o=de.x)):it.min.x!==it.max.x&&(r=u)):(u<it.max[t]&&(n=l.panEndFriction,a=u-it.max[t],i=pt[t]-it.max[t]),(i<=0||f>0)&&tn()>1?(o=h,f>0&&h<de.x&&(o=de.x)):it.min.x!==it.max.x&&(r=u))):o=h,"x"!==t)?void(st||J||_>s.currItem.fitRatio&&(gt[t]+=e[t]*n)):(void 0!==o&&(Dt(o,!0),J=o!==de.x),it.min.x!==it.max.x&&(void 0!==r?gt.x=r:J||(gt.x+=e.x*n)),void 0!==o)},Be=function(t){if(!("mousedown"===t.type&&t.button>0)){if(Je)return void t.preventDefault();if(!U||"mousedown"!==t.type){if(Me(t,!0)&&t.preventDefault(),It("pointerDown"),P){var e=r.arraySearch(fe,t.pointerId,"id");e<0&&(e=fe.length),fe[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=Fe(t),i=n.length;Q=null,ne(),$&&1!==i||($=at=!0,r.bind(window,g,s),V=ct=lt=Z=J=X=K=G=!1,ot=null,It("firstTouchStart",n),Ft(pt,gt),dt.x=dt.y=0,Ft(ce,n[0]),Ft(he,ce),de.x=yt.x*mt,pe=[{x:ce.x,y:ce.y}],H=q=Mt(),Vt(_,!0),Te(),ke()),!tt&&i>1&&!st&&!J&&(y=_,G=!1,tt=K=!0,dt.y=dt.x=0,Ft(pt,gt),Ft(ae,n[0]),Ft(le,n[1]),Oe(ae,le,xe),we.x=Math.abs(xe.x)-gt.x,we.y=Math.abs(xe.y)-gt.y,et=nt=Se(ae,le))}}},qe=function(t){if(t.preventDefault(),P){var e=r.arraySearch(fe,t.pointerId,"id");if(e>-1){var n=fe[e];n.x=t.pageX,n.y=t.pageY}}if($){var i=Fe(t);if(ot||X||tt)Q=i;else if(ye.x!==yt.x*mt)ot="h";else{var s=Math.abs(i[0].x-ce.x)-Math.abs(i[0].y-ce.y);Math.abs(s)>=oe&&(ot=s>0?"h":"v",Q=i)}}},He=function(){if(Q){var t=Q.length;if(0!==t)if(Ft(ae,Q[0]),ue.x=ae.x-ce.x,ue.y=ae.y-ce.y,tt&&t>1){if(ce.x=ae.x,ce.y=ae.y,!ue.x&&!ue.y&&be(Q[1],le))return;Ft(le,Q[1]),G||(G=!0,It("zoomGestureStarted"));var e=Se(ae,le),n=$e(e);n>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ct=!0);var i=1,r=Zt(),o=Ut();if(n<r)if(l.pinchToClose&&!ct&&y<=s.currItem.initialZoomLevel){var a=r-n,u=1-a/(r/1.2);Pt(u),It("onPinchClose",u),lt=!0}else i=(r-n)/r,i>1&&(i=1),n=r-i*(r/3);else n>o&&(i=(n-o)/(6*r),i>1&&(i=1),n=o+i*r);i<0&&(i=0),et=e,Oe(ae,le,me),dt.x+=me.x-xe.x,dt.y+=me.y-xe.y,Ft(xe,me),gt.x=jt("x",n),gt.y=jt("y",n),V=n>_,_=n,zt()}else{if(!ot)return;if(at&&(at=!1,Math.abs(ue.x)>=oe&&(ue.x-=Q[0].x-he.x),Math.abs(ue.y)>=oe&&(ue.y-=Q[0].y-he.y)),ce.x=ae.x,ce.y=ae.y,0===ue.x&&0===ue.y)return;if("v"===ot&&l.closeOnVerticalDrag&&!Ae()){dt.y+=ue.y,gt.y+=ue.y;var c=Ne();return Z=!0,It("onVerticalDrag",c),Pt(c),void zt()}ze(Mt(),ae.x,ae.y),X=!0,it=s.currItem.bounds;var h=Re("x",ue);h||(Re("y",ue),Rt(gt),zt())}}},We=function(t){if(R.isOldAndroid){if(U&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}It("pointerUp"),Me(t,!1)&&t.preventDefault();var e;if(P){var n=r.arraySearch(fe,t.pointerId,"id");if(n>-1)if(e=fe.splice(n,1)[0],navigator.pointerEnabled)e.type=t.pointerType||"mouse";else{var i={4:"mouse",2:"touch",3:"pen"};e.type=i[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}}var o,a=Fe(t),u=a.length;if("mouseup"===t.type&&(u=0),2===u)return Q=null,!0;1===u&&Ft(he,a[0]),0!==u||ot||st||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),It("touchRelease",t,e));var c=-1;if(0===u&&($=!1,r.unbind(window,g,s),Te(),tt?c=0:_e!==-1&&(c=Mt()-_e)),_e=1===u?Mt():-1,o=c!==-1&&c<150?"zoom":"swipe",tt&&u<2&&(tt=!1,1===u&&(o="zoomPointerUp"),It("zoomGestureEnded")),Q=null,X||G||st||Z)if(ne(),W||(W=Ve()),W.calculateSwipeSpeed("x"),Z){var h=Ne();if(h<l.verticalDragRange)s.close();else{var f=gt.y,d=ut;ie("verticalDrag",0,1,300,r.easing.cubic.out,function(t){gt.y=(s.currItem.initialPosition.y-f)*t+f,Pt((1-d)*t+d),zt()}),It("onVerticalDrag",1)}}else{if((J||st)&&0===u){var p=Ue(o,W);if(p)return;o="zoomPointerUp"}if(!st)return"swipe"!==o?void Ke():void(!J&&_>s.currItem.fitRatio&&Ze(W))}},Ve=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){pe.length>1?(t=Mt()-H+50,e=pe[pe.length-2][i]):(t=Mt()-q,e=he[i]),n.lastFlickOffset[i]=ce[i]-e,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/t:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(gt[t]>it.min[t]?n.backAnimDestination[t]=it.min[t]:gt[t]<it.max[t]&&(n.backAnimDestination[t]=it.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,ie("bounceZoomPan"+t,gt[t],n.backAnimDestination[t],e||300,r.easing.sine.out,function(e){gt[t]=e,zt()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,gt[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(Jt.zoomPan&&(Jt.zoomPan.raf=z(n.panAnimLoop),n.now=Mt(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),zt(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return gt.x=Math.round(gt.x),gt.y=Math.round(gt.y),zt(),void te("zoomPan")}};return n},Ze=function(t){return t.calculateSwipeSpeed("y"),it=s.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(ee("zoomPan"),t.lastNow=Mt(),void t.panAnimLoop())},Ue=function(t,e){var n;st||(ve=f);var i;if("swipe"===t){var o=ce.x-he.x,a=e.lastFlickDist.x<10;o>se&&(a||e.lastFlickOffset.x>20)?i=-1:o<-se&&(a||e.lastFlickOffset.x<-20)&&(i=1)}var u;i&&(f+=i,f<0?(f=l.loop?tn()-1:0,u=!0):f>=tn()&&(f=l.loop?0:tn()-1,u=!0),u&&!l.loop||(wt+=i,mt-=i,n=!0));var c,h=yt.x*mt,d=Math.abs(h-ye.x);return n||h>ye.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,ve===f&&(n=!1),st=!0,It("mainScrollAnimStart"),ie("mainScroll",ye.x,h,c,r.easing.cubic.out,Dt,function(){ne(),st=!1,ve=-1,(n||ve!==f)&&s.updateCurrItem(),It("mainScrollAnimComplete")}),n&&s.updateCurrItem(!0),n},$e=function(t){return 1/nt*t*y},Ke=function(){var t=_,e=Zt(),n=Ut();_<e?t=e:_>n&&(t=n);var i,o=1,a=ut;return lt&&!V&&!ct&&_<e?(s.close(),!0):(lt&&(i=function(t){Pt((o-a)*t+a)}),s.zoomTo(t,0,200,r.easing.cubic.out,i),!0)};Tt("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,n,i,r){k=t+e,A=t+n,E=t+i,I=r?t+r:""};P=R.pointerEvent,P&&R.touch&&(R.touch=!1),P?navigator.pointerEnabled?t("pointer","down","move","up","cancel"):t("MSPointer","Down","Move","Up","Cancel"):R.touch?(t("touch","start","move","end","cancel"),O=!0):t("mouse","down","move","up"),g=A+" "+E+" "+I,v=k,P&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=O,m[k]=Be,m[A]=qe,m[E]=We,I&&(m[I]=m[E]),R.touch&&(v+=" mousedown",g+=" mousemove mouseup",m.mousedown=m[k],m.mousemove=m[A],m.mouseup=m[E]),O||(l.allowPanToNext=!1)}}});var Ge,Xe,Ye,Je,Qe,tn,en,nn=function(e,n,i,o){Ge&&clearTimeout(Ge),Je=!0,Ye=!0;var a;e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(f);var u=i?l.hideAnimationDuration:l.showAnimationDuration,c=function(){te("initialZoom"),i?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(Pt(1),n&&(n.style.display="block"),r.addClass(t,"pswp--animated-in"),It("initialZoom"+(i?"OutEnd":"InEnd"))),o&&o(),Je=!1};if(!u||!a||void 0===a.x)return It("initialZoom"+(i?"Out":"In")),_=e.initialZoomLevel,Ft(gt,e.initialPosition),zt(),t.style.opacity=i?0:1,Pt(1),void(u?setTimeout(function(){c()},u):c());var d=function(){var n=h,o=!s.currItem.src||s.currItem.loadError||l.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),i||(_=a.w/e.w,gt.x=a.x,gt.y=a.y-D,s[o?"template":"bg"].style.opacity=.001,zt()),ee("initialZoom"),i&&!n&&r.removeClass(t,"pswp--animated-in"),o&&(i?r[(n?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){r.addClass(t,"pswp--animate_opacity");
},30)),Ge=setTimeout(function(){if(It("initialZoom"+(i?"Out":"In")),i){var s=a.w/e.w,l={x:gt.x,y:gt.y},h=_,f=ut,d=function(e){1===e?(_=s,gt.x=a.x,gt.y=a.y-F):(_=(s-h)*e+h,gt.x=(a.x-l.x)*e+l.x,gt.y=(a.y-F-l.y)*e+l.y),zt(),o?t.style.opacity=1-e:Pt(f-e*f)};n?ie("initialZoom",0,1,u,r.easing.cubic.out,d,c):(d(1),Ge=setTimeout(c,u+20))}else _=e.initialZoomLevel,Ft(gt,e.initialPosition),zt(),Pt(1),o?t.style.opacity=1:Pt(1),Ge=setTimeout(c,u+20)},i?25:90)};d()},rn={},sn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xe.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ln=function(t,e,n){var i=t.bounds;i.center.x=Math.round((rn.x-e)/2),i.center.y=Math.round((rn.y-n)/2)+t.vGap.top,i.max.x=e>rn.x?Math.round(rn.x-e):i.center.x,i.max.y=n>rn.y?Math.round(rn.y-n)+t.vGap.top:i.center.y,i.min.x=e>rn.x?0:i.center.x,i.min.y=n>rn.y?t.vGap.top:i.center.y},un=function(t,e,n){if(t.src&&!t.loadError){var i=!n;if(i&&(t.vGap||(t.vGap={top:0,bottom:0}),It("parseVerticalMargin",t)),rn.x=e.x,rn.y=e.y-t.vGap.top-t.vGap.bottom,i){var r=rn.x/t.w,s=rn.y/t.h;t.fitRatio=r<s?r:s;var o=l.scaleMode;"orig"===o?n=1:"fit"===o&&(n=t.fitRatio),n>1&&(n=1),t.initialZoomLevel=n,t.bounds||(t.bounds=an())}if(!n)return;return ln(t,t.w*n,t.h*n),i&&n===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=an(),t.initialPosition=t.bounds.center,t.bounds},cn=function(t,e,n,i,r,o){e.loadError||i&&(e.imageAppended=!0,dn(e,i,e===s.currItem&&St),n.appendChild(i),o&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},hn=function(t){t.loading=!0,t.loaded=!1;var e=t.img=r.createEl("pswp__img","img"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},fn=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=l.errorMsg.replace("%url%",t.src),!0},dn=function(t,e,n){if(t.src){e||(e=t.container.lastChild);var i=n?t.w:Math.round(t.w*t.fitRatio),r=n?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=i+"px",t.placeholder.style.height=r+"px"),e.style.width=i+"px",e.style.height=r+"px"}},pn=function(){if(sn.length){for(var t,e=0;e<sn.length;e++)t=sn[e],t.holder.index===t.index&&cn(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);sn=[]}};Tt("Controller",{publicMethods:{lazyLoadItem:function(t){t=kt(t);var e=Qe(t);e&&(!e.loaded&&!e.loading||C)&&(It("gettingData",t,e),e.src&&hn(e))},initController:function(){r.extend(l,on,!0),s.items=Xe=n,Qe=s.getItemAt,tn=l.getNumItemsFn,en=l.loop,tn()<3&&(l.loop=!1),Et("beforeChange",function(t){var e,n=l.preload,i=null===t||t>=0,r=Math.min(n[0],tn()),o=Math.min(n[1],tn());for(e=1;e<=(i?o:r);e++)s.lazyLoadItem(f+e);for(e=1;e<=(i?r:o);e++)s.lazyLoadItem(f-e)}),Et("initialLayout",function(){s.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(f)}),Et("mainScrollAnimComplete",pn),Et("initialZoomInEnd",pn),Et("destroy",function(){for(var t,e=0;e<Xe.length;e++)t=Xe[e],t.container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);sn=null})},getItemAt:function(t){return t>=0&&(void 0!==Xe[t]&&Xe[t])},allowProgressiveImg:function(){return l.forceProgressiveLoading||!O||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=kt(e));var n=s.getItemAt(t.index);n&&(n.container=null);var i,o=s.getItemAt(e);if(!o)return void(t.el.innerHTML="");It("gettingData",e,o),t.index=e,t.item=o;var a=o.container=r.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?a.appendChild(o.html):a.innerHTML=o.html),fn(o),un(o,vt),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(i=r.createEl("pswp__img","img"),i.style.opacity=1,i.src=o.src,dn(o,i),cn(e,o,a,i,!0));else{if(o.loadComplete=function(n){if(u){if(t&&t.index===e){if(fn(n,!0))return n.loadComplete=n.img=null,un(n,vt),Nt(n),void(t.index===f&&s.updateCurrZoomItem());n.imageAppended?!Je&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):R.transform&&(st||Je)?sn.push({item:n,baseDiv:a,img:n.img,index:e,holder:t,clearPlaceholder:!0}):cn(e,n,a,n.img,st||Je,!0)}n.loadComplete=null,n.img=null,It("imageLoadComplete",e,n)}},r.features.transform){var c="pswp__img pswp__img--placeholder";c+=o.msrc?"":" pswp__img--placeholder--blank";var h=r.createEl(c,o.msrc?"img":"");o.msrc&&(h.src=o.msrc),dn(o,h),a.appendChild(h),o.placeholder=h}o.loading||hn(o),s.allowProgressiveImg()&&(!Ye&&R.transform?sn.push({item:o,baseDiv:a,img:o.img,index:e,holder:t}):cn(e,o,a,o.img,!0,!0))}Ye||e!==f?Nt(o):(rt=a.style,nn(o,i||o.img)),t.el.innerHTML="",t.el.appendChild(a)},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var gn,vn={},mn=function(t,e,n){var i=document.createEvent("CustomEvent"),r={origEvent:t,target:t.target,releasePoint:e,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,r),t.target.dispatchEvent(i)};Tt("Tap",{publicMethods:{initTap:function(){Et("firstTouchStart",s.onTapStart),Et("touchRelease",s.onTapRelease),Et("destroy",function(){vn={},gn=null})},onTapStart:function(t){t.length>1&&(clearTimeout(gn),gn=null)},onTapRelease:function(t,e){if(e&&!X&&!K&&!Qt){var n=e;if(gn&&(clearTimeout(gn),gn=null,Ce(n,vn)))return void It("doubleTap",n);if("mouse"===e.type)return void mn(t,e,"mouse");var i=t.target.tagName.toUpperCase();if("BUTTON"===i||r.hasClass(t.target,"pswp__single-tap"))return void mn(t,e);Ft(vn,n),gn=setTimeout(function(){mn(t,e),gn=null},300)}}}});var _n;Tt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){j||(O?Et("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(e){_n={};var n="wheel mousewheel DOMMouseScroll";Et("bindEvents",function(){r.bind(t,n,s.handleMouseWheel)}),Et("unbindEvents",function(){_n&&r.unbind(t,n,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var i,o=function(){s.mouseZoomedIn&&(r.removeClass(t,"pswp--zoomed-in"),s.mouseZoomedIn=!1),_<1?r.addClass(t,"pswp--zoom-allowed"):r.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){i&&(r.removeClass(t,"pswp--dragging"),i=!1)};Et("resize",o),Et("afterChange",o),Et("pointerDown",function(){s.mouseZoomedIn&&(i=!0,r.addClass(t,"pswp--dragging"))}),Et("pointerUp",a),e||o()},handleMouseWheel:function(t){if(_<=s.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Qt||$?t.preventDefault():M&&Math.abs(t.deltaY)>2&&(h=!0,s.close())),!0;if(t.stopPropagation(),_n.x=0,"deltaX"in t)1===t.deltaMode?(_n.x=18*t.deltaX,_n.y=18*t.deltaY):(_n.x=t.deltaX,_n.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(_n.x=-.16*t.wheelDeltaX),t.wheelDeltaY?_n.y=-.16*t.wheelDeltaY:_n.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;_n.y=t.detail}Vt(_,!0);var e=gt.x-_n.x,n=gt.y-_n.y;(l.modal||e<=it.min.x&&e>=it.max.x&&n<=it.min.y&&n>=it.max.y)&&t.preventDefault(),s.panTo(e,n)},toggleDesktopZoom:function(e){e=e||{x:vt.x/2+_t.x,y:vt.y/2+_t.y};var n=l.getDoubleTapZoom(!0,s.currItem),i=_===n;s.mouseZoomedIn=!i,s.zoomTo(i?s.currItem.initialZoomLevel:n,e,333),r[(i?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var yn,wn,xn,bn,Cn,Sn,Tn,kn,An,En,In,Mn,Pn={history:!0,galleryUID:1},On=function(){return In.hash.substring(1)},zn=function(){yn&&clearTimeout(yn),xn&&clearTimeout(xn)},Nn=function(){var t=On(),e={};if(t.length<5)return e;var n,i=t.split("&");for(n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(e[r[0]]=r[1])}if(l.galleryPIDs){var s=e.pid;for(e.pid=0,n=0;n<Xe.length;n++)if(Xe[n].pid===s){e.pid=n;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Ln=function(){if(xn&&clearTimeout(xn),Qt||$)return void(xn=setTimeout(Ln,500));bn?clearTimeout(wn):bn=!0;var t=f+1,e=Qe(f);e.hasOwnProperty("pid")&&(t=e.pid);var n=Tn+"&gid="+l.galleryUID+"&pid="+t;kn||In.hash.indexOf(n)===-1&&(En=!0);var i=In.href.split("#")[0]+"#"+n;Mn?"#"+n!==window.location.hash&&history[kn?"replaceState":"pushState"]("",document.title,i):kn?In.replace(i):In.hash=n,kn=!0,wn=setTimeout(function(){bn=!1},60)};Tt("History",{publicMethods:{initHistory:function(){if(r.extend(l,Pn,!0),l.history){In=window.location,En=!1,An=!1,kn=!1,Tn=On(),Mn="pushState"in history,Tn.indexOf("gid=")>-1&&(Tn=Tn.split("&gid=")[0],Tn=Tn.split("?gid=")[0]),Et("afterChange",s.updateURL),Et("unbindEvents",function(){r.unbind(window,"hashchange",s.onHashChange)});var t=function(){Sn=!0,An||(En?history.back():Tn?In.hash=Tn:Mn?history.pushState("",document.title,In.pathname+In.search):In.hash=""),zn()};Et("unbindEvents",function(){h&&t()}),Et("destroy",function(){Sn||t()}),Et("firstUpdate",function(){f=Nn().pid});var e=Tn.indexOf("pid=");e>-1&&(Tn=Tn.substring(0,e),"&"===Tn.slice(-1)&&(Tn=Tn.slice(0,-1))),setTimeout(function(){u&&r.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){return On()===Tn?(An=!0,void s.close()):void(bn||(Cn=!0,s.goTo(Nn().pid),Cn=!1))},updateURL:function(){zn(),Cn||(kn?yn=setTimeout(Ln,800):Ln())}}}),r.extend(s,re)};return t})},function(t,e,n){var i,r;!function(s,o){i=o,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this,function(){"use strict";var t=function(t,e){var n,i,r,s,o,a,l,u,c,h,f,d,p,g,v,m,_,y,w,x=this,b=!1,C=!0,S=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(t){if(m)return!0;t=t||window.event,v.timeToIdle&&v.mouseUsed&&!c&&D();for(var n,i,r=t.target||t.srcElement,s=r.getAttribute("class")||"",o=0;o<V.length;o++)n=V[o],n.onTap&&s.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){t.stopPropagation&&t.stopPropagation(),m=!0;var a=e.features.isOldAndroid?600:30;_=setTimeout(function(){m=!1},a)}},A=function(){return!t.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},E=function(t,n,i){e[(i?"add":"remove")+"Class"](t,"pswp__"+n)},I=function(){var t=1===v.getNumItemsFn();t!==g&&(E(i,"ui--one-slide",t),g=t)},M=function(){E(l,"share-modal--hidden",S)},P=function(){return S=!S,S?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){S&&M()},300)):(M(),setTimeout(function(){S||e.addClass(l,"pswp__share-modal--fade-in")},30)),S||z(),!1},O=function(e){e=e||window.event;var n=e.target||e.srcElement;return t.shout("shareLinkClick",e,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||P(),!1))},z=function(){for(var t,e,n,i,r,s="",o=0;o<v.shareButtons.length;o++)t=v.shareButtons[o],n=v.getImageURLForShare(t),i=v.getPageURLForShare(t),r=v.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(r)),s+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",v.parseShareButtonOut&&(s=v.parseShareButtonOut(t,s));l.children[0].innerHTML=s,l.children[0].onclick=O},N=function(t){for(var n=0;n<v.closeElClasses.length;n++)if(e.hasClass(t,"pswp__"+v.closeElClasses[n]))return!0},L=0,D=function(){clearTimeout(w),L=0,c&&x.setIdle(!1)},j=function(t){t=t?t:window.event;var e=t.relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(w),w=setTimeout(function(){x.setIdle(!0)},v.timeToIdleOutside))},F=function(){v.fullscreenEl&&!e.features.isOldAndroid&&(n||(n=x.getFullscreenAPI()),n?(e.bind(document,n.eventK,x.updateFullscreen),x.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},R=function(){v.preloaderEl&&(B(!0),h("beforeChange",function(){clearTimeout(p),p=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&B(!1):B(!0)},v.loadingIndicatorDelay)}),h("imageLoadComplete",function(e,n){t.currItem===n&&B(!0)}))},B=function(t){d!==t&&(E(f,"preloader--active",!t),d=t)},q=function(t){var n=t.vGap;if(A()){var o=v.barsSize;if(v.captionEl&&"auto"===o.bottom)if(s||(s=e.createEl("pswp__caption pswp__caption--fake"),s.appendChild(e.createEl("pswp__caption__center")),i.insertBefore(s,r),e.addClass(i,"pswp__ui--fit")),v.addCaptionHTMLFn(t,s,!0)){var a=s.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=o.top;else n.bottom="auto"===o.bottom?0:o.bottom;n.top=o.top}else n.top=n.bottom=0},H=function(){v.timeToIdle&&h("mouseUsed",function(){e.bind(document,"mousemove",D),e.bind(document,"mouseout",j),y=setInterval(function(){L++,2===L&&x.setIdle(!0)},v.timeToIdle/2)})},W=function(){h("onVerticalDrag",function(t){C&&t<.95?x.hideControls():!C&&t>=.95&&x.showControls()});var t;h("onPinchClose",function(e){C&&e<.9?(x.hideControls(),t=!0):t&&!C&&e>.9&&x.showControls()}),h("zoomGestureEnded",function(){t=!1,t&&!C&&x.showControls()})},V=[{name:"caption",option:"captionEl",onInit:function(t){r=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){P()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){P()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){o=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){f=t}}],Z=function(){var t,n,r,s=function(i){if(i)for(var s=i.length,o=0;o<s;o++){t=i[o],n=t.className;for(var a=0;a<V.length;a++)r=V[a],n.indexOf("pswp__"+r.name)>-1&&(v[r.option]?(e.removeClass(t,"pswp__element--disabled"),r.onInit&&r.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};s(i.children);var o=e.getChildByClass(i,"pswp__top-bar");o&&s(o.children)};x.init=function(){e.extend(t.options,T,!0),v=t.options,i=e.getChildByClass(t.scrollWrap,"pswp__ui"),h=t.listen,W(),h("beforeChange",x.update),h("doubleTap",function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(v.getDoubleTapZoom(!1,t.currItem),e,333)}),h("preventDragEvent",function(t,e,n){var i=t.target||t.srcElement;i&&i.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),h("bindEvents",function(){e.bind(i,"pswpTap click",k),e.bind(t.scrollWrap,"pswpTap",x.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",x.onMouseOver)}),h("unbindEvents",function(){S||P(),y&&clearInterval(y),e.unbind(document,"mouseout",j),e.unbind(document,"mousemove",D),e.unbind(i,"pswpTap click",k),e.unbind(t.scrollWrap,"pswpTap",x.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",x.onMouseOver),n&&(e.unbind(document,n.eventK,x.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),h("destroy",function(){v.captionEl&&(s&&i.removeChild(s),e.removeClass(r,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(i,"pswp__ui--over-close"),e.addClass(i,"pswp__ui--hidden"),x.setIdle(!1)}),v.showAnimationDuration||e.removeClass(i,"pswp__ui--hidden"),h("initialZoomIn",function(){v.showAnimationDuration&&e.removeClass(i,"pswp__ui--hidden")}),h("initialZoomOut",function(){e.addClass(i,"pswp__ui--hidden")}),h("parseVerticalMargin",q),Z(),v.shareEl&&a&&l&&(S=!0),I(),H(),F(),R()},x.setIdle=function(t){c=t,E(i,"ui--idle",t)},x.update=function(){C&&t.currItem?(x.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(t.currItem,r),E(r,"caption--empty",!t.currItem.title)),b=!0):b=!1,S||P(),I()},x.updateFullscreen=function(i){i&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(n.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},x.updateIndexIndicator=function(){v.counterEl&&(o.innerHTML=t.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},x.onGlobalTap=function(n){n=n||window.event;var i=n.target||n.srcElement;if(!m)if(n.detail&&"mouse"===n.detail.pointerType){if(N(i))return void t.close();e.hasClass(i,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?v.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(C?x.hideControls():x.showControls()),v.tapToClose&&(e.hasClass(i,"pswp__img")||N(i)))return void t.close()},x.onMouseOver=function(t){t=t||window.event;var e=t.target||t.srcElement;E(i,"ui--over-close",N(e))},x.hideControls=function(){e.addClass(i,"pswp__ui--hidden"),C=!1},x.showControls=function(){C=!0,b||x.update(),e.removeClass(i,"pswp__ui--hidden")},x.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},x.getFullscreenAPI=function(){var e,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return u=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?t.template[this.enterK]():void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return v.closeOnScroll=u,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return t})}]);